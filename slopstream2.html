<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>SLOPSTREAM // MAXIMUM SLOP MODE</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  html, body { width:100%; height:100%; overflow:hidden; background:#000; }
  canvas { display:block; width:100%; height:100%; }

  #overlayText {
    position:fixed;
    left:50%;
    top:50%;
    transform:translate(-50%, -50%);
    font-family:Arial, sans-serif;
    font-size:2vw;
    text-transform:uppercase;
    color:white;
    letter-spacing:0.5vw;
    pointer-events:none;
    opacity:0.7;
    filter:blur(0.6px);
    mix-blend-mode:difference;
  }

  #overlayText span {
    display:block;
    animation: slopText 6s infinite ease-in-out alternate;
  }

  @keyframes slopText {
    0% { transform: translate(-10px, -8px) skewX(2deg) scale(1); opacity:0.7; }
    40% { transform: translate(12px, 6px) skewX(-1deg) scale(1.06); opacity:0.85; }
    70% { transform: translate(-4px, 16px) skewX(4deg) scale(0.98); opacity:0.6; }
    100% { transform: translate(18px, -12px) skewX(-3deg) scale(1.1); opacity:0.9; }
  }

  #hint {
    position:fixed;
    bottom:10px;
    left:12px;
    font-size:12px;
    color:#888;
    text-transform:uppercase;
    letter-spacing:0.1em;
  }
</style>
</head>

<body>
<canvas id="slop"></canvas>

<div id="overlayText">
  <span id="line1">LET YOURSELF BE SLOP</span>
  <span id="line2">MELT INTO THE DIGITAL SOUP</span>
</div>

<div id="hint">[SPACE] scramble text</div>

<script>
const canvas = document.getElementById("slop");
const ctx = canvas.getContext("2d");
let w, h;
let t = 0;

// Resize canvas
function resize() {
  w = canvas.width = window.innerWidth;
  h = canvas.height = window.innerHeight;
}
window.addEventListener("resize", resize);
resize();

// Random helpers
const R = (n=1)=>Math.random()*n;
const RR = (a,b)=>a + Math.random()*(b-a);

// INIT NOISE TEXTURE
const noiseCanvas = document.createElement("canvas");
const nctx = noiseCanvas.getContext("2d");
noiseCanvas.width = 300;
noiseCanvas.height = 300;

function makeNoise() {
  const id = nctx.createImageData(300,300);
  for (let i=0; i<id.data.length; i+=4) {
    const v = Math.random() * 255;
    id.data[i] = v;
    id.data[i+1] = v;
    id.data[i+2] = v;
    id.data[i+3] = 255;
  }
  nctx.putImageData(id,0,0);
}
makeNoise();

// "Slop blobs"
let blobs = [];
for (let i=0; i<30; i++){
  blobs.push({
    x: Math.random(),
    y: Math.random(),
    r: RR(80,380),
    hue: RR(0,360),
    vx: RR(-0.0003, 0.0003),
    vy: RR(-0.0003, 0.0003),
    pulse: Math.random()*Math.PI*2
  });
}

// Corrupted bands
function drawCorruptBands() {
  const bandCount = 24;
  for (let i=0;i<bandCount;i++){
    const y = (h/bandCount)*i + Math.sin(t*0.0006 + i)*20;
    ctx.globalAlpha = 0.18;
    ctx.drawImage(
      noiseCanvas,
      0,0,300,RR(10,60),
      0,y,w,RR(20,220)
    );
  }
  ctx.globalAlpha = 1;
}

// Slop fog overlay
function drawFog() {
  ctx.globalAlpha = 0.13;
  ctx.drawImage(noiseCanvas, 
                R(w-300), 
                R(h-300), 
                300,300);
  ctx.globalAlpha = 1;
}

// More aggressive chroma smear
function chromaSlop() {
  const imgData = ctx.getImageData(0,0,w,h);
  const d = imgData.data;

  for (let i=0; i<d.length; i+=4){
    const slop = Math.sin(i*0.000002 + t*0.002)*18;

    d[i]     = d[i] + slop;      // R
    d[i+1]   = d[i+1] - slop*0.6;// G
    d[i+2]   = d[i+2] + slop*0.3;// B
  }

  ctx.putImageData(imgData,0,0);
}

// Main drawing loop
function loop(ms){
  t = ms;

  // Background sludge
  const g = ctx.createLinearGradient(0,0,w,h);
  g.addColorStop(0, `hsl(${RR(160,220)}, 80%, 4%)`);
  g.addColorStop(1, `hsl(${RR(0,60)}, 80%, 5%)`);
  ctx.fillStyle = g;
  ctx.fillRect(0,0,w,h);

  // Draw slop blobs
  blobs.forEach(b=>{
    b.x += b.vx;
    b.y += b.vy;
    if(b.x< -0.3) b.x=1.3;
    if(b.x> 1.3) b.x=-0.3;
    if(b.y< -0.3) b.y=1.3;
    if(b.y> 1.3) b.y=-0.3;

    b.pulse += 0.002;
    const rad = b.r*(0.8 + Math.sin(b.pulse)*0.2);

    const cx = b.x*w;
    const cy = b.y*h;

    const grad = ctx.createRadialGradient(cx,cy,0, cx,cy,rad);
    const h1 = b.hue + Math.sin(t*0.0002+b.hue)*90;
    grad.addColorStop(0, `hsla(${h1}, 90%, 70%, 0.9)`);
    grad.addColorStop(0.4, `hsla(${h1+40}, 90%, 50%, 0.5)`);
    grad.addColorStop(1, `hsla(${h1+80}, 90%, 30%, 0.0)`);

    ctx.globalAlpha = 0.8;
    ctx.fillStyle = grad;
    ctx.beginPath();
    ctx.arc(cx,cy,rad,0,Math.PI*2);
    ctx.fill();
    ctx.globalAlpha = 1;
  });

  // Slop fog + corruption
  drawFog();
  drawCorruptBands();

  // Chromatic distortion
  if(Math.random() < 0.2) chromaSlop();

  requestAnimationFrame(loop);
}

requestAnimationFrame(loop);

// Text scrambling
const L1 = document.getElementById("line1");
const L2 = document.getElementById("line2");
const phrases = [
  "YOU ARE PERMITTED TO DISSOLVE",
  "LET THE WORLD RUN WITHOUT YOU",
  "REST IN THE SOFT CHAOS",
  "MELT INTO THE DIGITAL BROTH",
  "BECOME WARM, USELESS SLOP",
  "NO GOALS. NO HEALING. NO CENTER.",
  "YOU CAN FORGET YOURSELF HERE",
  "FLOAT INSIDE THE GLITCH FOG"
];

window.addEventListener("keydown", e=>{
  if(e.code==="Space"){
    L1.textContent = phrases[Math.floor(R(phrases.length))];
    L2.textContent = phrases[Math.floor(R(phrases.length))];
  }
});
</script>
</body>
</html>
