<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Bleak Lives Matter</title>
  <!-- Optional refined cursive; will fall back gracefully if blocked -->
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
  <style>
    :root{
      --text: #3a3a3a; /* dark grey */
    }
    html, body {
      height: 100%;
      margin: 0;
      background:#000;
    }
    .stage {
      position: relative;
      width: 100%;
      height: 100%;
      display: grid;
      place-items: center;
      overflow: hidden;
    }

    .title {
      position: absolute;
      margin: 0;
      font-family: 'Great Vibes', "Brush Script MT", "Lucida Handwriting", cursive;
      font-weight: 400;
      letter-spacing: .04em;
      font-size: 12vw;           /* responsive, big */
      color: var(--text);
      text-align: center;
      filter: drop-shadow(0 0 6px #555);
      animation: flicker 6s infinite steps(60, end);
      will-change: opacity, filter, transform;
      pointer-events: none;
      user-select: none;
      white-space: nowrap;
    }

    /* subtle “trying to light” effect */
    @keyframes flicker {
      0%, 60%, 100% { opacity: .85; filter: drop-shadow(0 0 6px #555); }
      64%, 66%, 71%, 74% { opacity: .35; filter: none; }
      68%, 72%, 76% {
        opacity: 1;
        filter: drop-shadow(0 0 10px #777) drop-shadow(0 0 24px #999);
      }
    }
  </style>
</head>
<body>
  <div class="stage" id="stage">
    <!-- The first one is present immediately so you always see something -->
    <h1 class="title">Bleak Lives Matter</h1>
  </div>

  <script>
    // Positions for up to 9 tiles (3x3 grid, centered first)
    const positions = [
      {x: 0,   y: 0  },   // center
      {x: -33, y: -33},   // top-left
      {x: 0,   y: -33},   // top-center
      {x: 33,  y: -33},   // top-right
      {x: -33, y: 0  },   // mid-left
      {x: 33,  y: 0  },   // mid-right
      {x: -33, y: 33 },   // bottom-left
      {x: 0,   y: 33 },   // bottom-center
      {x: 33,  y: 33 }    // bottom-right
    ];

    const stage = document.getElementById('stage');

    // Helper to place/transform an element at a grid cell
    function place(el, pos) {
      el.style.transform = `translate(${pos.x}vw, ${pos.y}vh)`;
    }

    // Create clones up to N visible, then reset back to 1
    const phrase = 'Bleak Lives Matter';
    const cycleLength = 9;       // max count before reset
    const stepMs = 900;          // delay between additions (slower = more dramatic)

    // Prepare pool of elements (so we don’t keep creating/removing)
    const pool = [ ...stage.querySelectorAll('.title') ]; // includes the first one
    for (let i = 1; i < cycleLength; i++) {
      const h = document.createElement('h1');
      h.className = 'title';
      h.textContent = phrase;
      h.style.opacity = '0'; // start hidden
      stage.appendChild(h);
      pool.push(h);
    }

    let visible = 1;  // start with one visible
    let idx = 0;

    // initial placement
    pool.forEach((el, i) => {
      const pos = positions[Math.min(i, positions.length - 1)];
      place(el, pos);
    });

    function tick() {
      // If we haven't reached the max, reveal one more
      if (visible < cycleLength) {
        pool[visible].style.opacity = '1';
        visible++;
      } else {
        // collapse back to one
        for (let i = 1; i < pool.length; i++) pool[i].style.opacity = '0';
        visible = 1;
      }
      idx++;
    }

    // Make sure first one is placed & visible immediately
    pool[0].style.opacity = '1';

    // Run forever
    setInterval(tick, stepMs);

    // Handle resize so grid placement stays stable
    window.addEventListener('resize', () => {
      pool.forEach((el, i) => {
        const pos = positions[Math.min(i, positions.length - 1)];
        place(el, pos);
      });
    });
  </script>
</body>
</html>
