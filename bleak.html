<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>k-blm</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
  <style>
    :root {
      --base-gray: #2f2f2f;   /* dark grey text */
      --glow1: #6a6a6a;
      --glow2: #8a8a8a;
    }

    html, body {
      height: 100%;
      margin: 0;
      background: #000;
    }

    /* full-screen stage */
    #stage {
      position: relative;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      display: grid;
      place-items: center;
    }

    /* the text “stamp” we’ll clone */
    .echo {
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%) scale(1);
      margin: 0;
      font-family: "Great Vibes", cursive;
      font-weight: 400;
      line-height: 1;
      text-align: center;
      font-size: min(14vw, 160px);
      color: var(--base-gray);
      filter: blur(0.2px); /* makes the glow smoother on some renderers */
      text-shadow:
        0 0 6px var(--glow1),
        0 0 14px var(--glow2);
      opacity: 0.95;
      white-space: nowrap;
      pointer-events: none;
    }

    /* subtle flicker per echo */
    @keyframes flicker {
      0%, 100% { opacity: 0.85; text-shadow: 0 0 6px var(--glow1), 0 0 14px var(--glow2); }
      6%       { opacity: 0.35; text-shadow: none; }
      8%       { opacity: 0.95; text-shadow: 0 0 10px var(--glow1), 0 0 22px var(--glow2); }
      12%      { opacity: 0.6;  text-shadow: none; }
      15%      { opacity: 0.92; text-shadow: 0 0 8px var(--glow1), 0 0 18px var(--glow2); }
    }

    .echo.flicker { animation: flicker 5s infinite ease-in-out; }
  </style>
</head>
<body>
  <div id="stage"></div>

  <script>
    // CONFIG
    const PHRASE = "Bleak Lives Matter";
    const MAX_ECHOS = 7;          // how many copies before shrinking back to 1
    const STEP_MS = 900;          // how fast it grows/shrinks
    const SCALE_STEP = 0.07;      // growth per additional echo
    const OFFSET_STEP = 7;        // px drift per additional echo

    const stage = document.getElementById('stage');

    // create one immediately so you always see something
    function makeEcho(i = 0) {
      const el = document.createElement('div');
      el.className = 'echo flicker';
      el.textContent = PHRASE;

      // scale and slight drift for each successive echo
      const scale = 1 + i * SCALE_STEP;
      const dx = i * OFFSET_STEP * (i % 2 ? 1 : -1);
      const dy = i * OFFSET_STEP * (i % 3 ? 1 : -1);

      el.style.transform = `translate(-50%, -50%) scale(${scale}) translate(${dx}px, ${dy}px)`;

      // deeper echoes a bit dimmer
      const op = Math.max(0.2, 1 - i * 0.12);
      el.style.opacity = op.toString();

      // slight desync in flicker per layer
      el.style.animationDelay = `${(i * 173) % 1000}ms`;

      stage.appendChild(el);
      return el;
    }

    // start with one visible
    makeEcho(0);

    // progression: 1→MAX_ECHOS then back to 1, loop
    let count = 1;
    let growing = true;

    setInterval(() => {
      if (growing) {
        if (count < MAX_ECHOS) {
          makeEcho(count);
          count++;
        } else {
          growing = false;
        }
      } else {
        if (count > 1) {
          // remove the topmost echo
          stage.lastElementChild.remove();
          count--;
        } else {
          growing = true;
        }
      }
    }, STEP_MS);

    // ensure the font is loaded; if not, still show with a fallback
    document.fonts && document.fonts.ready.then(() => {
      // nothing needed—this avoids a flash of invisible text in some setups
    });
  </script>
</body>
</html>
