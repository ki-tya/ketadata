<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>K / / / STUDIO</title>

  <style>
    :root{
      /* core palette */
      --void:#000;
      --laser:#ff0033;          /* aggressive red */
      --darkroom:#4a000a;       /* dried-blood red */
      --uv:#7a00ff;             /* UV */

      /* live-customizable (tester) */
      --bg1:#000000;
      --bg2:#06060a;
      --bgAngle: 160deg;
      --txt:#ffffff;

      /* typography */
      --nameFont: Arial, sans-serif;
      --uiFont: Arial, sans-serif;
      --uiSize: 12px;           /* tester-controlled base size */

      /* chrome */
      --hair: rgba(255,255,255,.14);
      --hair2: rgba(255,255,255,.08);

      /* links */
      --linkRest:#666;
      --linkHover:#fff;

      /* title auto-fit */
      --titleClamp: clamp(96px, 14vw, 22rem);
    }

    *{ box-sizing:border-box; }
    html, body{ height:100%; }
    html{ scroll-behavior:smooth; }
    body{
      margin:0;
      color: var(--txt);
      font-family: var(--uiFont);
      font-size: var(--uiSize);
      overflow-x:hidden;

      background:
        radial-gradient(900px 520px at 50% 12%, rgba(255,0,51,.08), transparent 70%),
        radial-gradient(800px 460px at 78% 82%, rgba(122,0,255,.06), transparent 72%),
        linear-gradient(var(--bgAngle), var(--bg1), var(--bg2));

      scroll-snap-type: y mandatory;
      scroll-snap-stop: always;
    }

    section{
      height:100vh;
      scroll-snap-align:start;
      overflow:hidden;
      position:relative;
    }

    /* ========= LINKS ========= */
    a.klink{
      color: var(--linkRest);
      text-decoration:none;
      font-family: var(--uiFont);
      letter-spacing:.18em;
      text-transform:uppercase;
      font-weight:800;
      font-size: 1em;
      transition: color .14s ease, transform .14s ease, text-shadow .14s ease;
    }
    a.klink:hover{
      color: var(--linkHover);
      transform: translateY(-1px);
      text-shadow: 0 0 16px rgba(255,255,255,.18);
    }

    /* ========= LANDING ========= */
    .landing{
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 0 1.2vw; /* minimal margin */
      text-align:center;
    }
    .titleWrap{
      width: 100%;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap: 2.2vh;
    }

    .title{
      margin:0;
      padding:0;
      font-family: var(--nameFont);
      font-weight: 900;
      letter-spacing: .06em;
      text-transform: uppercase;
      line-height: .88;
      user-select:none;

      white-space:nowrap;
      display:inline-flex;
      align-items:baseline;
      justify-content:center;

      font-size: var(--titleSize, var(--titleClamp));
    }
    .slashes{
      font-family: var(--nameFont);
      font-weight: 900;
      letter-spacing: .25em;
      margin: 0 .14em;
      opacity: .98;
    }

    .navRow{
      display:flex;
      justify-content:center;
      align-items:center;
      gap: 2.4vw;
      flex-wrap:wrap;
    }

    .warning{
      text-align:center;
      font-size: .92em;
      letter-spacing: .22em;
      text-transform: uppercase;
      color: rgba(255,255,255,.72);
      line-height: 1.6;
      padding: 10px 14px;
      border: 1px dashed rgba(255,0,51,.62);
      background: rgba(255,0,51,.10);
      max-width: 820px;
    }
    .warning b{ color: var(--laser); letter-spacing:.26em; }

    .hint{
      position:absolute;
      bottom: 18px;
      left: 50%;
      transform: translateX(-50%);
      font-size: .92em;
      letter-spacing: .18em;
      text-transform: uppercase;
      color: rgba(255,255,255,.55);
      display:flex;
      align-items:center;
      gap: 10px;
      user-select:none;
      font-family: var(--uiFont);
    }
    .arrow{
      opacity:.7;
      animation: bob 1.4s ease-in-out infinite;
    }
    @keyframes bob{ 0%,100%{ transform: translateY(0); } 50%{ transform: translateY(6px); } }

    /* ========= TYPE TESTER (sleek, NOT rounded) ========= */
    .typeTester{
      position: fixed;
      top: 16px;
      right: 16px;
      width: 300px;

      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.62);
      backdrop-filter: blur(8px);

      padding: 12px;
      z-index: 2000;
      font-family: var(--uiFont);
    }
    .typeTester h3{
      margin:0 0 10px 0;
      font-size: 11px;
      letter-spacing:.18em;
      text-transform: uppercase;
      color: rgba(255,255,255,.86);
      font-weight: 900;
    }
    .typeTester .lbl{
      font-size: 10px;
      letter-spacing:.16em;
      text-transform: uppercase;
      opacity:.72;
      margin: 10px 0 6px;
      display:block;
      font-weight: 900;
    }
    .typeTester .row{
      display:grid;
      grid-template-columns: 1fr;
      gap: 8px;
      margin-bottom: 6px;
    }

    .typeTester select,
    .typeTester input[type="number"],
    .typeTester input[type="color"],
    .typeTester input[type="range"]{
      width: 100%;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
      color: rgba(255,255,255,.92);
      padding: 9px 10px;
      outline:none;
      font-family: var(--uiFont);
    }

    .twoCol{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
    }
    .mini{
      font-size: 10px;
      letter-spacing:.14em;
      opacity:.72;
      text-transform: uppercase;
      line-height: 1.4;
      font-weight: 900;
    }
    .meta{
      margin-top: 10px;
      font-size: 10px;
      letter-spacing:.14em;
      opacity:.70;
      line-height: 1.45;
      text-transform: uppercase;
      font-weight: 900;
    }

    /* ========= MEOW ticker ========= */
    .meow-ticker{
      position: fixed;
      bottom: 110px;
      left: 0;
      width: 100%;
      color: rgba(255,255,255,.88);
      padding: 12px 0;
      overflow: hidden;
      white-space: nowrap;
      font-family: var(--uiFont);
      font-size: 13px;
      font-weight: 900;
      letter-spacing: .22em;
      text-transform: uppercase;
      z-index: 1000;
      mix-blend-mode: screen;
      opacity: 0;
      pointer-events:none;
      transition: opacity .12s linear;
    }
    body.flashing .meow-ticker{ opacity:1; }
    .meow-content{ display:inline-block; animation: ticker 34s linear infinite; will-change: transform; }
    @keyframes ticker{ 0%{ transform: translateX(0); } 100%{ transform: translateX(-100%); } }

    /* ========= DIRECTORY: OPEN PLAN BLUEPRINT / HOTEL WAYFINDING ========= */
    .directory{
      border-top: 1px solid rgba(255,255,255,.12);
      padding: 0;
      display:flex;
      align-items:stretch;
      justify-content:stretch;
      overflow:hidden;
    }

    .blueprint{
      position:relative;
      width:100%;
      height:100%;

      /* blueprint grid + faint corridor glow */
      background:
        linear-gradient(rgba(255,255,255,.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,.05) 1px, transparent 1px),
        radial-gradient(900px 520px at 20% 30%, rgba(255,0,51,.10), transparent 68%),
        radial-gradient(900px 520px at 80% 70%, rgba(122,0,255,.08), transparent 70%),
        transparent;
      background-size: 44px 44px, 44px 44px, auto, auto, auto;
      background-position: 0 0, 0 0, center, center, center;
    }

    /* top bar (hotel signage vibe, no rounded edges) */
    .bpTop{
      position:absolute;
      top:0; left:0; right:0;
      padding: 14px 18px;
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 14px;
      border-bottom: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.40);
      backdrop-filter: blur(6px);
      z-index: 5;
    }
    .bpBrand{
      display:flex;
      flex-direction:column;
      gap: 6px;
      min-width: 260px;
    }
    .bpBrand .line{
      font-family: var(--uiFont);
      font-weight: 900;
      letter-spacing: .20em;
      text-transform: uppercase;
      font-size: 12px;
      white-space:nowrap;
    }
    .bpBrand .sub{
      font-family: var(--uiFont);
      font-weight: 900;
      letter-spacing: .14em;
      text-transform: uppercase;
      font-size: 11px;
      color: rgba(255,255,255,.62);
    }
    .bpNav{
      display:flex;
      gap: 18px;
      flex-wrap:wrap;
      justify-content:flex-end;
      align-items:center;
      padding-top: 2px;
    }

    /* nodes / zones */
    .zone{
      position:absolute;
      width: min(420px, 30vw);
      padding: 0;
      z-index: 3;
    }

    .zone h2{
      margin:0 0 10px 0;
      font-family: var(--uiFont);
      font-weight: 900;
      letter-spacing: .22em;
      text-transform: uppercase;
      font-size: 12px;
      color: rgba(255,255,255,.92);
    }
    .zone h2 .br{ color: rgba(255,255,255,.58); }
    .zoneList{
      display:flex;
      flex-direction:column;
      gap: 8px;
      padding-left: 0;
      margin:0;
      list-style:none;
    }
    .zoneList li{
      display:flex;
      align-items:baseline;
      justify-content:space-between;
      gap: 12px;
      border-bottom: 1px solid rgba(255,255,255,.08);
      padding: 8px 0;
    }
    .zoneList .hintTxt{
      font-family: var(--uiFont);
      letter-spacing:.08em;
      color: rgba(255,255,255,.55);
      text-transform: uppercase;
      font-weight: 900;
      font-size: 10px;
      white-space:nowrap;
    }

    /* connector lines (SVG sits under zones) */
    .wires{
      position:absolute;
      inset:0;
      z-index: 1;
      pointer-events:none;
      opacity: .85;
      mix-blend-mode: screen;
    }
    .wires line{
      stroke: rgba(255,255,255,.16);
      stroke-width: 1;
    }
    .wires .laser{ stroke: rgba(255,0,51,.34); }
    .wires .uv{ stroke: rgba(122,0,255,.28); }
    .wires .dash{ stroke-dasharray: 6 8; }

    /* search bar: floats like concierge desk */
    .concierge{
      position:absolute;
      bottom: 16px;
      left: 16px;
      right: 16px;
      z-index: 6;
      display:flex;
      gap: 10px;
      align-items:center;
      justify-content:space-between;
      padding: 12px 14px;
      border-top: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.40);
      backdrop-filter: blur(6px);
    }
    .concierge .search{
      flex: 1 1 auto;
      display:flex;
      gap: 10px;
      align-items:center;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
      padding: 10px 12px;
      min-width: 260px;
    }
    .concierge .search span{
      font-family: var(--uiFont);
      font-weight: 900;
      letter-spacing:.18em;
      text-transform: uppercase;
      opacity:.70;
      font-size: 11px;
      white-space:nowrap;
    }
    .concierge input{
      width:100%;
      border:none;
      outline:none;
      background: transparent;
      color: rgba(255,255,255,.92);
      font-family: var(--uiFont);
      font-weight: 900;
      letter-spacing:.12em;
      text-transform: uppercase;
      font-size: 11px;
    }
    .concierge .keys{
      display:flex;
      gap: 16px;
      flex-wrap:wrap;
      justify-content:flex-end;
      color: rgba(255,255,255,.62);
      font-family: var(--uiFont);
      font-weight: 900;
      letter-spacing:.12em;
      text-transform: uppercase;
      font-size: 10px;
      white-space:nowrap;
    }
    .kbd{
      border: 1px solid rgba(255,255,255,.22);
      padding: 2px 6px;
      background: rgba(255,255,255,.04);
      font-weight: 900;
    }

    /* strobe */
    body.flashing{ animation: flashBW 0.125s infinite; }
    @keyframes flashBW{ 0%{ background:#000; } 50%{ background:#fff; } 100%{ background:#000; } }

    @media (max-width: 1100px){
      .typeTester{ width: 270px; }
      .zone{ width: min(520px, 44vw); }
    }
    @media (max-width: 860px){
      .typeTester{ display:none; } /* keep for desktop */
      .bpNav{ justify-content:flex-start; }
      .zone{ width: calc(100% - 32px); position:relative; left:auto; top:auto; }
      .blueprint{ overflow:auto; padding-top: 86px; padding-bottom: 88px; }
      .wires{ display:none; }
      .concierge{ position: sticky; bottom:0; left:0; right:0; margin-top: 18px; }
    }
  </style>
</head>

<body>

  <!-- TYPE TESTER -->
  <div class="typeTester">
    <h3>TYPE TESTER</h3>

    <span class="lbl">NAME FONT</span>
    <div class="row">
      <select id="nameFont">
        <option value="Arial, sans-serif">Arial</option>
        <option value="Helvetica Neue, Helvetica, Arial, sans-serif">Helvetica Neue</option>
        <option value="Inter, system-ui, -apple-system, Arial, sans-serif">Inter</option>
        <option value="SF Pro Display, system-ui, -apple-system, Arial, sans-serif">SF Pro Display</option>
        <option value="Avenir Next, Avenir, Arial, sans-serif">Avenir Next</option>
        <option value="DIN Condensed, Arial Narrow, Arial, sans-serif">DIN Condensed</option>
        <option value="Impact, Haettenschweiler, Arial Black, sans-serif">Impact</option>
        <option value="Bahnschrift, Arial, sans-serif">Bahnschrift</option>
        <option value="Gill Sans, Gill Sans MT, Arial, sans-serif">Gill Sans</option>
        <option value="Trebuchet MS, Arial, sans-serif">Trebuchet</option>
      </select>
    </div>

    <span class="lbl">UI FONT</span>
    <div class="row">
      <select id="uiFont">
        <option value="Arial, sans-serif">Arial</option>
        <option value="Helvetica Neue, Helvetica, Arial, sans-serif">Helvetica Neue</option>
        <option value="Inter, system-ui, -apple-system, Arial, sans-serif">Inter</option>
        <option value="SF Pro Text, system-ui, -apple-system, Arial, sans-serif">SF Pro Text</option>
        <option value="IBM Plex Mono, ui-monospace, Menlo, Monaco, Consolas, monospace">IBM Plex Mono</option>
        <option value="JetBrains Mono, ui-monospace, Menlo, Monaco, Consolas, monospace">JetBrains Mono</option>
        <option value="Space Mono, ui-monospace, Menlo, Monaco, Consolas, monospace">Space Mono</option>
        <option value="Roboto Mono, ui-monospace, Menlo, Monaco, Consolas, monospace">Roboto Mono</option>
        <option value="Courier New, ui-monospace, Menlo, Monaco, Consolas, monospace">Courier New</option>
      </select>
    </div>

    <span class="lbl">TEXT SIZE (UI)</span>
    <div class="twoCol">
      <div>
        <div class="mini">PX</div>
        <input id="uiSize" type="number" min="10" max="18" step="1" value="12" />
      </div>
      <div>
        <div class="mini">ANGLE</div>
        <input id="bgAngle" type="range" min="0" max="360" value="160" />
      </div>
    </div>

    <span class="lbl">BACKGROUND GRADIENT</span>
    <div class="twoCol">
      <div>
        <div class="mini">START</div>
        <input id="bg1" type="color" value="#000000" />
      </div>
      <div>
        <div class="mini">END</div>
        <input id="bg2" type="color" value="#06060a" />
      </div>
    </div>

    <span class="lbl">TEXT COLOR</span>
    <div class="row">
      <input id="txt" type="color" value="#ffffff" />
    </div>

    <div class="meta">
      SPACE = STROBE · / = SEARCH · SCROLL = SNAP
    </div>
  </div>

  <!-- PAGE 1 -->
  <section class="landing" id="top">
    <div class="titleWrap">
      <div class="title" id="bigTitle" aria-label="KETADATA">
        <span>КЕТАDATA</span><span>STUDIO</span>
      </div>

      <div class="navRow" aria-label="primary">
        <a class="klink" href="#directory">[DIRECTORY]</a>
        <a class="klink" href="page2.html">[K-LIGHT]</a>
        <a class="klink" href="map.html">[K-WORLD]</a>
        <a class="klink" href="room.html">[K-ROOM]</a>
        <a class="klink" href="vape-drive.html">[K-APPS]</a>
        <a class="klink" href="shop.html">[SHOP]</a>
        <a class="klink" href="stylebook.html">[STYLEBOOK]</a>
      </div>

      <div class="warning">
        <b>BAD GATEWAY</b><br/>
        MAY TRIGGER SEIZURES IN PHOTOSENSITIVE INDIVIDUALS
      </div>
    </div>

    <div class="hint">
      SCROLL <span class="arrow">↓</span>
    </div>
  </section>

  <!-- MEOW ticker -->
  <div class="meow-ticker" aria-hidden="true">
    <div class="meow-content">
      MEOW — MIAOU — MIAU — MIAO — MIAUW — MJAU — MJAV — MIAV — MIJAV — MIJAU — MIYAV — MIYAO — MIAAO — MIAOO — MIAOOO — МЯУ — МЯУУ — MYAU — МЬЯУ — МЯУМ — НЯВ — NYA — NYAA — NYAN — にゃー — ニャー — 야옹 — 냥 — 喵 — 喵喵 —
    </div>
    <div class="meow-content">
      MEOW — MIAOU — MIAU — MIAO — MIAUW — MJAU — MJAV — MIAV — MIJAV — MIJAU — MIYAV — MIYAO — MIAAO — MIAOO — MIAOOO — МЯУ — МЯУУ — MYAU — МЬЯУ — МЯУМ — НЯВ — NYA — NYAA — NYAN — にゃー — ニャー — 야옹 — 냥 — 喵 — 喵喵 —
    </div>
  </div>

  <!-- PAGE 2 -->
  <section class="directory" id="directory">
    <div class="blueprint" id="bp">

      <!-- connectors -->
      <svg class="wires" id="wires" viewBox="0 0 1000 1000" preserveAspectRatio="none" aria-hidden="true">
        <!-- these get positioned in JS to feel “connected”; defaults still look fine -->
        <line class="dash" x1="120" y1="210" x2="520" y2="250"></line>
        <line class="laser" x1="520" y1="250" x2="860" y2="220"></line>
        <line class="uv dash" x1="520" y1="250" x2="500" y2="520"></line>
        <line class="dash" x1="500" y1="520" x2="190" y2="730"></line>
        <line class="uv" x1="500" y1="520" x2="860" y2="720"></line>
      </svg>

      <!-- top signage -->
      <div class="bpTop">
        <div class="bpBrand">
          <div class="line">KETADATA STUDIO</div>
          <div class="sub">OPEN PLAN DIRECTORY — HOTEL FLOOR LOGIC</div>
        </div>
        <div class="bpNav">
          <a class="klink" href="#top">[TOP]</a>
          <a class="klink" href="map.html">[K-WORLD]</a>
          <a class="klink" href="room.html">[K-ROOM]</a>
          <a class="klink" href="library.html">[LIBRARY]</a>
          <a class="klink" href="video.html">[VIDEO]</a>
          <a class="klink" href="fund.html">[FUND]</a>
          <a class="klink" href="shop.html">[SHOP]</a>
        </div>
      </div>

      <!-- zones (open-plan placement) -->
      <div class="zone" id="zCore" style="left: 18px; top: 120px;">
        <h2><span class="br">[</span>CORE<span class="br">]</span></h2>
        <ul class="zoneList">
          <li><a class="klink" href="index.html">[INDEX.HTML]</a><span class="hintTxt">ENTRY</span></li>
          <li><a class="klink" href="desktop.html">[DESKTOP.HTML]</a><span class="hintTxt">HOME</span></li>
          <li><a class="klink" href="nav.html">[NAV.HTML]</a><span class="hintTxt">ALT NAV</span></li>
          <li><a class="klink" href="login.html">[LOGIN.HTML]</a><span class="hintTxt">PORTAL</span></li>
          <li><a class="klink" href="1.html">[1.HTML → 6.HTML]</a><span class="hintTxt">NUM</span></li>
        </ul>
      </div>

      <div class="zone" id="zWorld" style="left: 36vw; top: 155px;">
        <h2><span class="br">[</span>WORLD<span class="br">]</span></h2>
        <ul class="zoneList">
          <li><a class="klink" href="map.html">[MAP.HTML]</a><span class="hintTxt">OBSERVATORY</span></li>
          <li><a class="klink" href="dmt.html">[DMT.HTML → DMTZOOM.HTML]</a><span class="hintTxt">VARIANTS</span></li>
        </ul>
      </div>

      <div class="zone" id="zRoom" style="right: 18px; top: 120px; width:min(460px,32vw);">
        <h2><span class="br">[</span>ROOM<span class="br">]</span></h2>
        <ul class="zoneList">
          <li><a class="klink" href="room.html">[ROOM.HTML]</a><span class="hintTxt">SENSORY</span></li>
          <li><a class="klink" href="room2.html">[ROOM2.HTML]</a><span class="hintTxt">ALT</span></li>
          <li><a class="klink" href="darkroom.html">[DARKROOM.HTML]</a><span class="hintTxt" style="color:rgba(255,0,51,.95)">DARKROOM</span></li>
        </ul>
      </div>

      <div class="zone" id="zTools" style="left: 18px; top: 520px;">
        <h2><span class="br">[</span>TOOLS<span class="br">]</span></h2>
        <ul class="zoneList">
          <li><a class="klink" href="editor.html">[EDITOR.HTML]</a><span class="hintTxt">EDIT</span></li>
          <li><a class="klink" href="mandala.html">[MANDALA.HTML → MANDALA3.HTML]</a><span class="hintTxt">RHYTHM</span></li>
          <li><a class="klink" href="rippleuv.html">[RIPPLE… → RIPPLEUV.HTML]</a><span class="hintTxt" style="color:rgba(122,0,255,.95)">UV</span></li>
        </ul>
      </div>

      <div class="zone" id="zLibrary" style="left: 36vw; top: 520px;">
        <h2><span class="br">[</span>LIBRARY<span class="br">]</span></h2>
        <ul class="zoneList">
          <li><a class="klink" href="library.html">[LIBRARY.HTML]</a><span class="hintTxt">DOCS</span></li>
          <li><a class="klink" href="release.html">[RELEASE… → RELEASE4.HTML]</a><span class="hintTxt">ARCHIVE</span></li>
        </ul>
      </div>

      <div class="zone" id="zVideo" style="right: 18px; top: 520px; width:min(460px,32vw);">
        <h2><span class="br">[</span>VIDEO<span class="br">]</span></h2>
        <ul class="zoneList">
          <li><a class="klink" href="video.html">[VIDEO.HTML]</a><span class="hintTxt">CURATE</span></li>
          <li><a class="klink" href="videomanager.html">[VIDEOMANAGER.HTML]</a><span class="hintTxt">TOOLS</span></li>
          <li><a class="klink" href="slopstream.html">[SLOPSTREAM…]</a><span class="hintTxt" style="color:rgba(255,0,51,.95)">RECORD</span></li>
        </ul>
      </div>

      <div class="zone" id="zPortals" style="left: 18px; top: 760px;">
        <h2><span class="br">[</span>PORTALS<span class="br">]</span></h2>
        <ul class="zoneList">
          <li><a class="klink" href="capture.html">[CAPTURE.HTML]</a><span class="hintTxt">AURA</span></li>
          <li><a class="klink" href="submit.html">[SUBMIT.HTML]</a><span class="hintTxt">INTAKE</span></li>
          <li><a class="klink" href="ball.html">[BALL.HTML]</a><span class="hintTxt">ORACLE</span></li>
        </ul>
      </div>

      <div class="zone" id="zCommerce" style="left: 36vw; top: 760px;">
        <h2><span class="br">[</span>COMMERCE<span class="br">]</span></h2>
        <ul class="zoneList">
          <li><a class="klink" href="fund.html">[FUND.HTML]</a><span class="hintTxt">LEDGER</span></li>
          <li><a class="klink" href="shop.html">[SHOP.HTML]</a><span class="hintTxt">SHOP</span></li>
          <li><a class="klink" href="box.html">[BOX.HTML]</a><span class="hintTxt">DROP</span></li>
        </ul>
      </div>

      <div class="zone" id="zApps" style="right: 18px; top: 760px; width:min(460px,32vw);">
        <h2><span class="br">[</span>APPS<span class="br">]</span></h2>
        <ul class="zoneList">
          <li><a class="klink" href="vape-drive.html">[VAPE-DRIVE.HTML]</a><span class="hintTxt">LOG</span></li>
          <li><a class="klink" href="gptsubject.html">[GPTSUBJECT.HTML]</a><span class="hintTxt">TEST</span></li>
        </ul>
      </div>

      <!-- concierge search -->
      <div class="concierge" role="search">
        <div class="search">
          <span>SEARCH</span>
          <input id="q" type="text" autocomplete="off" spellcheck="false"
                 placeholder="TYPE: WORLD / ROOM / LIBRARY / CAPTURE / MANDALA / SLOP / ETC" />
        </div>
        <div class="keys">
          <span><span class="kbd">/</span> FOCUS</span>
          <span><span class="kbd">ESC</span> CLEAR</span>
          <span><span class="kbd">ENTER</span> OPEN</span>
        </div>
      </div>

    </div>
  </section>

  <script>
    // ---------- Title auto-fit ----------
    const bigTitle = document.getElementById("bigTitle");
    const page1 = document.querySelector(".landing");

    function fitTitle(){
      if(!bigTitle) return;
      bigTitle.style.transform = "";

      const cs = page1 ? getComputedStyle(page1) : getComputedStyle(document.body);
      const padL = parseFloat(cs.paddingLeft) || 0;
      const padR = parseFloat(cs.paddingRight) || 0;
      const maxW = Math.max(320, window.innerWidth - padL - padR);
      const maxH = Math.max(120, window.innerHeight * 0.52);

      let lo = 80, hi = 1400, best = lo;
      for(let i=0;i<18;i++){
        const mid = (lo + hi) / 2;
        bigTitle.style.setProperty("--titleSize", mid + "px");
        const r = bigTitle.getBoundingClientRect();
        if(r.width <= maxW && r.height <= maxH){ best = mid; lo = mid; }
        else { hi = mid; }
      }
      bigTitle.style.setProperty("--titleSize", best + "px");

      const r2 = bigTitle.getBoundingClientRect();
      if(r2.width > maxW){
        const scale = maxW / r2.width;
        bigTitle.style.transform = `scale(${scale})`;
        bigTitle.style.transformOrigin = "center";
      }
    }

    // ---------- Tester wiring ----------
    const nameSel = document.getElementById("nameFont");
    const uiSel   = document.getElementById("uiFont");
    const uiSize  = document.getElementById("uiSize");
    const bg1     = document.getElementById("bg1");
    const bg2     = document.getElementById("bg2");
    const txt     = document.getElementById("txt");
    const bgAngle = document.getElementById("bgAngle");

    function applyTester(){
      document.documentElement.style.setProperty("--nameFont", nameSel.value);
      document.documentElement.style.setProperty("--uiFont", uiSel.value);
      document.documentElement.style.setProperty("--uiSize", (parseInt(uiSize.value,10) || 12) + "px");
      document.documentElement.style.setProperty("--bg1", bg1.value);
      document.documentElement.style.setProperty("--bg2", bg2.value);
      document.documentElement.style.setProperty("--txt", txt.value);
      document.documentElement.style.setProperty("--bgAngle", (bgAngle.value || 160) + "deg");
      fitTitle();
    }

    // defaults
    nameSel.value = "Arial, sans-serif";
    uiSel.value   = "Arial, sans-serif";
    uiSize.value  = 12;

    [nameSel, uiSel, uiSize, bg1, bg2, txt, bgAngle].forEach(el => {
      el.addEventListener("input", applyTester);
      el.addEventListener("change", applyTester);
    });

    // ---------- Strobe ----------
    let isFlashing = false;
    let flashInterval;

    function startStrobe() {
      document.body.classList.add("flashing");
      document.body.style.backgroundColor = "black";
      flashInterval = setInterval(() => {
        document.body.style.backgroundColor =
          (document.body.style.backgroundColor === "black") ? "white" : "black";
      }, 50);
    }
    function stopStrobe() {
      clearInterval(flashInterval);
      document.body.classList.remove("flashing");
      document.body.style.backgroundColor = "";
    }

    // ---------- Directory search (filters links in-place) ----------
    const q = document.getElementById("q");
    const allLinks = Array.from(document.querySelectorAll(".zoneList a.klink"));

    function norm(s){ return (s||"").toLowerCase().trim(); }
    function applySearch(){
      const term = norm(q.value);
      allLinks.forEach(a => {
        const pass = !term || norm(a.textContent).includes(term);
        a.closest("li").style.display = pass ? "" : "none";
      });
    }

    // focus shortcut + open first visible result
    function openFirstVisible(){
      const first = allLinks.find(a => a.closest("li").style.display !== "none");
      if(first) window.location.href = first.getAttribute("href");
    }

    document.addEventListener("keydown", (event) => {
      if (event.key === " " || event.code === "Space") {
        event.preventDefault();
        if (isFlashing) stopStrobe(); else startStrobe();
        isFlashing = !isFlashing;
        return;
      }
      if(event.key === "/"){
        event.preventDefault();
        q.focus(); q.select();
        return;
      }
      if(event.key === "Escape"){
        if(document.activeElement === q && q.value){
          q.value = "";
          applySearch();
        }
        return;
      }
      if(event.key === "Enter" && document.activeElement === q){
        openFirstVisible();
      }
    });

    q.addEventListener("input", applySearch);

    // init
    applyTester();
    window.addEventListener("resize", fitTitle);
    window.addEventListener("load", fitTitle);
  </script>

</body>
</html>
