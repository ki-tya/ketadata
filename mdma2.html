<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MDMA Experience Interface</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes float {
            0%, 100% { transform: translateY(0) translateX(0); opacity: 0.3; }
            25% { transform: translateY(-20px) translateX(10px); opacity: 0.6; }
            50% { transform: translateY(-40px) translateX(-10px); opacity: 0.3; }
            75% { transform: translateY(-20px) translateX(5px); opacity: 0.6; }
        }
        
        .particle {
            animation: float linear infinite;
        }
        
        @keyframes pulse-heart {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .heart-pulse {
            animation: pulse-heart 0.6s ease-in-out infinite;
        }
        
        @keyframes ping-custom {
            0% { transform: scale(1); opacity: 0.3; }
            100% { transform: scale(2); opacity: 0; }
        }
        
        .ping-effect {
            animation: ping-custom 1.5s cubic-bezier(0, 0, 0.2, 1) infinite;
        }
    </style>
</head>
<body class="m-0 p-0 overflow-hidden">
    <div id="app" class="w-screen h-screen relative flex flex-col items-center justify-center transition-all duration-1000">
        <!-- Particles container -->
        <div id="particles" class="absolute inset-0 overflow-hidden pointer-events-none"></div>
        
        <!-- Central heart -->
        <div id="heart-container" class="relative mb-12 z-10">
            <svg id="heart" xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="transition-all duration-1000">
                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
            </svg>
            <svg id="heart-ping" xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 24 24" fill="white" stroke="white" class="absolute inset-0 hidden ping-effect" style="margin-left: -30px; margin-top: -30px;">
                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
            </svg>
        </div>
        
        <!-- Phase indicator -->
        <div class="text-center mb-8 z-10 transition-all duration-1000">
            <h1 id="phase-text" class="font-light tracking-widest uppercase mb-4 text-xl transition-all duration-1000">ANTICIPATION</h1>
            <div class="w-64 h-1 bg-white bg-opacity-20 rounded-full overflow-hidden mx-auto">
                <div id="intensity-bar" class="h-full bg-pink-400 transition-all duration-300 rounded-full" style="width: 0%"></div>
            </div>
        </div>
        
        <!-- Messages -->
        <div id="messages" class="text-center max-w-2xl space-y-4 z-10 transition-all duration-1000"></div>
        
        <!-- Bottom icons -->
        <div id="icons" class="absolute bottom-12 flex gap-8 opacity-0 transition-all duration-1000">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"></path><path d="M5 3v4"></path><path d="M19 17v4"></path><path d="M3 5h4"></path><path d="M17 19h4"></path></svg>
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"></path><path d="M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"></path><path d="M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"></path></svg>
            <svg id="sun-icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="hidden"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg>
        </div>
    </div>

    <script>
        const messages = {
            anticipation: ["waiting", "subtle warmth", "awareness beginning"],
            comeup: ["waves building", "heart opening", "everything softening", "boundary dissolving"],
            peak: ["pure love", "we are all connected", "this is beautiful", "i understand everything", "boundless empathy", "infinite present"]
        };

        let phase = 'anticipation';
        let intensity = 0;

        const app = document.getElementById('app');
        const heart = document.getElementById('heart');
        const heartPing = document.getElementById('heart-ping');
        const heartContainer = document.getElementById('heart-container');
        const phaseText = document.getElementById('phase-text');
        const intensityBar = document.getElementById('intensity-bar');
        const messagesContainer = document.getElementById('messages');
        const iconsContainer = document.getElementById('icons');
        const particlesContainer = document.getElementById('particles');
        const sunIcon = document.getElementById('sun-icon');

        function updateBackground() {
            if (phase === 'anticipation') {
                app.className = 'w-screen h-screen relative flex flex-col items-center justify-center transition-all duration-1000 bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 text-gray-400';
            } else if (phase === 'comeup') {
                app.className = 'w-screen h-screen relative flex flex-col items-center justify-center transition-all duration-1000 bg-gradient-to-br from-purple-900 via-pink-800 to-orange-700 text-pink-100';
            } else {
                app.className = 'w-screen h-screen relative flex flex-col items-center justify-center transition-all duration-1000 bg-gradient-to-br from-pink-500 via-rose-400 to-amber-300 text-white';
            }
        }

        function updateHeart() {
            if (phase === 'peak') {
                heart.setAttribute('width', '120');
                heart.setAttribute('height', '120');
                heart.setAttribute('fill', 'currentColor');
                heart.setAttribute('stroke-width', '1');
                heartPing.classList.remove('hidden');
                heartContainer.classList.add('heart-pulse');
            } else if (phase === 'comeup') {
                heart.setAttribute('width', '80');
                heart.setAttribute('height', '80');
                heart.setAttribute('fill', 'rgba(255,255,255,0.3)');
                heart.setAttribute('stroke-width', '1');
                heartPing.classList.add('hidden');
                heartContainer.classList.remove('heart-pulse');
            } else {
                heart.setAttribute('width', '60');
                heart.setAttribute('height', '60');
                heart.setAttribute('fill', 'none');
                heart.setAttribute('stroke-width', '1.5');
                heartPing.classList.add('hidden');
                heartContainer.classList.remove('heart-pulse');
            }
        }

        function updatePhaseText() {
            if (phase === 'peak') {
                phaseText.textContent = 'âˆž';
                phaseText.className = 'font-light tracking-widest uppercase mb-4 text-5xl transition-all duration-1000';
            } else if (phase === 'comeup') {
                phaseText.textContent = 'COMEUP';
                phaseText.className = 'font-light tracking-widest uppercase mb-4 text-3xl transition-all duration-1000';
            } else {
                phaseText.textContent = 'ANTICIPATION';
                phaseText.className = 'font-light tracking-widest uppercase mb-4 text-xl transition-all duration-1000';
            }
        }

        function updateMessages() {
            messagesContainer.innerHTML = '';
            messages[phase].forEach((msg, i) => {
                const p = document.createElement('p');
                p.textContent = msg;
                if (phase === 'peak') {
                    p.className = 'text-2xl font-light opacity-70 tracking-wide transition-all duration-500';
                } else if (phase === 'comeup') {
                    p.className = 'text-lg opacity-70 tracking-wide transition-all duration-500';
                } else {
                    p.className = 'text-sm opacity-70 tracking-wide transition-all duration-500';
                }
                messagesContainer.appendChild(p);
            });
        }

        function updateIcons() {
            if (phase !== 'anticipation') {
                iconsContainer.style.opacity = '1';
                if (phase === 'peak') {
                    iconsContainer.querySelectorAll('svg').forEach(icon => {
                        icon.setAttribute('width', '40');
                        icon.setAttribute('height', '40');
                    });
                    sunIcon.classList.remove('hidden');
                } else {
                    iconsContainer.querySelectorAll('svg').forEach(icon => {
                        icon.setAttribute('width', '32');
                        icon.setAttribute('height', '32');
                    });
                    sunIcon.classList.add('hidden');
                }
            } else {
                iconsContainer.style.opacity = '0';
            }
        }

        function createParticles() {
            particlesContainer.innerHTML = '';
            if (phase === 'anticipation') return;
            
            const count = phase === 'peak' ? 30 : 15;
            for (let i = 0; i < count; i++) {
                const particle = document.createElement('div');
                particle.className = `absolute rounded-full blur-sm particle ${phase === 'peak' ? 'bg-white/40' : 'bg-pink-300/30'}`;
                particle.style.width = `${Math.random() * 8 + 4}px`;
                particle.style.height = `${Math.random() * 8 + 4}px`;
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                particle.style.animationDuration = `${Math.random() * 10 + 10}s`;
                particle.style.animationDelay = `${Math.random() * 5}s`;
                particlesContainer.appendChild(particle);
            }
        }

        function update() {
            if (phase === 'anticipation' && intensity < 30) {
                intensity = Math.min(intensity + 1, 30);
            } else if (phase === 'anticipation' && intensity >= 30) {
                phase = 'comeup';
                intensity = 30;
                updateBackground();
                updateHeart();
                updatePhaseText();
                updateMessages();
                updateIcons();
                createParticles();
            } else if (phase === 'comeup' && intensity < 100) {
                intensity = Math.min(intensity + 2, 100);
            } else if (phase === 'comeup' && intensity >= 100) {
                phase = 'peak';
                updateBackground();
                updateHeart();
                updatePhaseText();
                updateMessages();
                updateIcons();
                createParticles();
            }
            
            intensityBar.style.width = `${intensity}%`;
            if (phase === 'peak') {
                intensityBar.className = 'h-full bg-white transition-all duration-300 rounded-full';
            } else {
                intensityBar.className = 'h-full bg-pink-400 transition-all duration-300 rounded-full';
            }
        }

        // Initialize
        updateBackground();
        updateHeart();
        updatePhaseText();
        updateMessages();
        updateIcons();

        // Animation loop
        setInterval(update, 100);
    </script>
</body>
</html>
