<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>KETADATA TESTER</title>

<style>
:root{
  --bg1:#050508;
  --bg2:#120000;
  --fg1:#ffffff;
  --fg2:#ff2a2a;

  --speed: 14s;

  --nameFont: Arial, Helvetica, sans-serif;
  --uiFont: Arial, Helvetica, sans-serif;
}

*{ box-sizing:border-box; }
html,body{
  margin:0;
  height:100%;
  background:#000;
  color:#fff;
  font-family:var(--uiFont);
  overflow:hidden;
}

/* ===== BACKGROUND ===== */
.stage{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:
    radial-gradient(circle,var(--bg1),var(--bg2));
  animation: hueSpin var(--speed) linear infinite;
}
@keyframes hueSpin{
  from{ filter:hue-rotate(0deg); }
  to{ filter:hue-rotate(360deg); }
}

/* ===== WORD ===== */
.word{
  font-family:var(--nameFont);
  font-weight:900;
  letter-spacing:.06em;
  white-space:nowrap;
  line-height:.95;
  background:linear-gradient(90deg,var(--fg1),var(--fg2));
  background-clip:text;
  -webkit-background-clip:text;
  color:transparent;
  user-select:none;
}

/* ===== INPUT ===== */
.inputWrap{
  position:fixed;
  bottom:16px;
  left:50%;
  transform:translateX(-50%);
}
.inputWrap input{
  width:260px;
  background:#000;
  color:#fff;
  border:1px solid #333;
  text-align:center;
  font-size:11px;
  letter-spacing:.2em;
  text-transform:uppercase;
}

/* ===== CONTROL PANELS ===== */
.panel{
  position:fixed;
  top:12px;
  left:12px;
  width:360px;
  background:#07070c;
  border:1px solid #222;
  padding:10px;
  font-size:11px;
}

.panel h3{
  margin:0 0 6px;
  letter-spacing:.22em;
  text-transform:uppercase;
}

button{
  background:#000;
  border:1px solid #333;
  color:#666;
  padding:6px 8px;
  cursor:pointer;
  font-size:11px;
  letter-spacing:.18em;
}
button:hover{ color:#fff; border-color:#fff; }

.hidden{ display:none; }

/* ===== LIGHT UI ===== */
.kRow{ display:flex; gap:6px; flex-wrap:wrap; margin-bottom:6px; }
.kMeta{ color:#aaa; font-size:10px; letter-spacing:.1em; }
.kRange{ width:100%; }
</style>
</head>

<body>

<div class="stage">
  <div id="word" class="word">WHATEVER</div>
</div>

<div class="inputWrap">
  <input id="textInput" maxlength="11" placeholder="TYPE (MAX 11)" />
</div>

<!-- TESTER -->
<div class="panel">
  <h3>TESTER</h3>
  <button id="toggleTester">[ OPEN / CLOSE ]</button>
  <div id="testerPanel" class="hidden">

    <label>NAME FONT</label>
    <select id="nameFont">
      <option>Arial</option>
      <option>Helvetica Neue</option>
      <option>Inter</option>
      <option>Space Grotesk</option>
    </select>

    <label>TEXT COLOR A</label>
    <input type="color" id="fg1" value="#ffffff">

    <label>TEXT COLOR B</label>
    <input type="color" id="fg2" value="#ff2a2a">

    <label>BG COLOR A</label>
    <input type="color" id="bg1" value="#050508">

    <label>BG COLOR B</label>
    <input type="color" id="bg2" value="#120000">
  </div>
</div>

<!-- LIGHT CONTROLLER -->
<div class="panel" style="top:auto; bottom:80px;">
  <h3>[STROBE EFFECTS]</h3>
  <div class="kRow">
    <button data-e="1">[1 STROBE]</button>
    <button data-e="2">[2 EMDR]</button>
    <button data-e="3">[3 NYAN]</button>
    <button data-e="4">[4 HEART]</button>
    <button data-e="5">[5 VIOLET]</button>
    <button data-e="6">[6 PAP]</button>
  </div>
  <div class="kMeta">
    SPACE toggle · 1–6 select · 0 stop
  </div>
</div>

<script>
const word = document.getElementById("word");
const input = document.getElementById("textInput");

/* === AUTO FIT === */
function fit(){
  let size = 50;
  word.style.fontSize = size+"px";
  while(word.scrollWidth < innerWidth * .98){
    size += 4;
    word.style.fontSize = size+"px";
  }
  while(word.scrollWidth > innerWidth * .98){
    size -= 2;
    word.style.fontSize = size+"px";
  }
}
window.addEventListener("resize",fit);
fit();

input.addEventListener("input",()=>{
  word.textContent = input.value || "WHATEVER";
  fit();
});

/* === TESTER TOGGLE === */
toggleTester.onclick = () =>
  testerPanel.classList.toggle("hidden");

/* === STYLE CONTROLS === */
["fg1","fg2","bg1","bg2"].forEach(id=>{
  document.getElementById(id).oninput=e=>
    document.documentElement.style.setProperty(`--${id}`,e.target.value);
});
nameFont.onchange=e=>{
  document.documentElement.style.setProperty("--nameFont",e.target.value);
  fit();
};

/* === LIGHT ENGINE === */
let active=0, timer=null, t=0;

function stop(){
  clearInterval(timer);
  document.body.style.background="#000";
  document.body.style.filter="none";
}

function start(){
  stop();
  if(active===1){
    timer=setInterval(()=>document.body.style.background=
      document.body.style.background==="black"?"white":"black",50);
  }
  if(active===2){
    timer=setInterval(()=>{
      t+=30;
      document.body.style.background=`hsl(${t%360},100%,50%)`;
    },20);
  }
  if(active===3){
    timer=setInterval(()=>{
      document.body.style.background=`hsl(${Math.random()*360},100%,60%)`;
    },40);
  }
  if(active===4){
    timer=setInterval(()=>{
      document.body.style.background=
        Math.sin(t+=.1)>0?"#800":"black";
    },30);
  }
  if(active===5){
    timer=setInterval(()=>{
      document.body.style.background=`hsl(270,90%,${30+20*Math.sin(t+=.1)}%)`;
    },30);
  }
  if(active===6){
    timer=setInterval(()=>{
      document.body.style.background=
        Math.random()>.8?"white":"black";
    },25);
  }
}

document.querySelectorAll("[data-e]").forEach(b=>{
  b.onclick=()=>{
    active=+b.dataset.e;
    start();
  };
});

document.addEventListener("keydown",e=>{
  if(e.code==="Space"){ e.preventDefault(); start(); }
  if(e.key==="0") stop();
  if(e.key>="1"&&e.key<="6"){ active=+e.key; start(); }
});
</script>

</body>
</html>
