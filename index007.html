<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>KETADATA // LINE OCEAN // VOID SHORE</title>

<style>
:root{
  --bg:#000;
  --ink:#fff;

  /* GRID (STRAIGHT LINES ONLY) */
  --cols: 120;              /* vertical strands */
  --rows: 80;               /* text rows */

  /* OCEAN SHAPE */
  --shore: 0.70;            /* baseline (0..1 from top) */
  --amp: 0.18;              /* wave amplitude as % height */
  --foamBand: 44;           /* px thickness around crest */

  /* MOTION */
  --speed: 0.70;            /* time multiplier */
  --fall: 34;               /* px/sec downward drift (keeps it like falling lines) */
  --trail: 0.085;           /* persistence */

  /* DENSITY */
  --waveFill: 0.62;         /* inside wave body */
  --foamFill: 0.96;         /* near shoreline */
  --whiteHot: 1.00;         /* alpha */

  /* GLYPHS (code) */
  --fontPx: 12;
  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

  /* UI: ARIAL, BRUTAL, UNMISSABLE */
  --uiFont: Arial, Helvetica, sans-serif;
  --uiSize: 16px;
  --uiKern: 0.18em;
  --uiPadY: 16px;
  --uiPadX: 18px;
  --uiBorder: 4px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  overflow:hidden;
}

/* field */
#wrap{position:fixed; inset:0; z-index:1}
canvas{width:100%; height:100%; image-rendering:pixelated}

/* UI */
#ui{
  position:fixed; inset:0; z-index:2;
  pointer-events:none;
  user-select:none;
  font-family:var(--uiFont);
}
#warn{
  position:absolute; top:16px; left:16px;
  pointer-events:auto;
  font-weight:900;
  font-size:var(--uiSize);
  letter-spacing:var(--uiKern);
  text-transform:uppercase;
  color:#000;
  background:#fff;
  border: var(--uiBorder) solid #fff;
  padding: var(--uiPadY) var(--uiPadX);
  box-shadow: 0 0 0 4px #000 inset;
}
#enter{
  position:absolute; right:16px; bottom:16px;
  pointer-events:auto;
  font-weight:900;
  font-size:var(--uiSize);
  letter-spacing:var(--uiKern);
  text-transform:uppercase;
  color:#000;
  background:#fff;
  border: var(--uiBorder) solid #fff;
  padding: var(--uiPadY) var(--uiPadX);
  text-decoration:none;
  box-shadow: 0 0 0 4px #000 inset;
  transition: transform .08s linear;
}
#enter:hover{transform:translateY(-2px)}
#enter:active{transform:translateY(0px)}

@media (prefers-reduced-motion: reduce){
  canvas{display:none}
}
</style>
</head>

<body>
<div id="wrap"><canvas id="c"></canvas></div>

<div id="ui">
  <div id="warn">EPILEPSY WARNING</div>
  <a id="enter" href="https://ketadata.com/index11.html">ENTER</a>
</div>

<script>
/* =========================================================
   LINE OCEAN (NO SPLASHBACK, STRAIGHT LINES ONLY)
   - strict column grid (vertical strands)
   - strict row grid (text baseline)
   - wave boundary is a function, but glyphs remain grid-aligned
   - no particles, no spray, no arcs
========================================================= */

const TARGET_URL = "https://ketadata.com/index11.html";
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d", { alpha:true });

let w,h,dpr;
function resize(){
  dpr = window.devicePixelRatio || 1;
  w = innerWidth; h = innerHeight;
  canvas.width = Math.floor(w*dpr);
  canvas.height = Math.floor(h*dpr);
  ctx.setTransform(dpr,0,0,dpr,0,0);
}
addEventListener("resize", resize);
resize();

function cssNum(name, fallback){
  const v = parseFloat(getComputedStyle(document.documentElement).getPropertyValue(name));
  return Number.isFinite(v) ? v : fallback;
}
function clamp01(x){ return Math.max(0, Math.min(1, x)); }
function pick(a){ return a[(Math.random()*a.length)|0]; }

function brailleDense(){
  const r=Math.random();
  if(r<0.72) return String.fromCharCode(0x2800 + (0xC0 + (Math.random()*64|0)));
  if(r<0.985) return String.fromCharCode(0x2800 + (Math.random()*256|0));
  return String.fromCharCode(0x28FF);
}
const TOK = ["<",">","/","=","{","}","[","]","|","::","//","----","K","D","T","A","0","1","#"];
function glyph(){
  const r=Math.random();
  if(r<0.64) return brailleDense();
  if(r<0.86) return pick(TOK);
  return "â–ˆ";
}

let last = performance.now();

function frame(now){
  const dt = Math.max(0.001, (now-last)/1000);
  last = now;

  const cols = Math.max(70, Math.round(cssNum("--cols", 120)));
  const rows = Math.max(50, Math.round(cssNum("--rows", 80)));

  const shore = clamp01(cssNum("--shore", 0.70));
  const ampPct = Math.max(0.02, Math.min(0.35, cssNum("--amp", 0.18)));
  const foamBand = Math.max(16, cssNum("--foamBand", 44));

  const speed = cssNum("--speed", 0.70);
  const fall = cssNum("--fall", 34);
  const trail = Math.max(0.02, Math.min(0.18, cssNum("--trail", 0.085)));

  const waveFill = clamp01(cssNum("--waveFill", 0.62));
  const foamFill = clamp01(cssNum("--foamFill", 0.96));
  const whiteHot = clamp01(cssNum("--whiteHot", 1.00));

  const fontPx = Math.max(10, Math.round(cssNum("--fontPx", 12)));

  // trail
  ctx.fillStyle = `rgba(0,0,0,${trail})`;
  ctx.fillRect(0,0,w,h);

  // grid cell sizing
  const cellW = w / cols;
  const cellH = h / rows;

  // time
  const t = (now/1000) * speed;

  // vertical drift (keeps everything in straight vertical motion)
  const yDrift = ((now/1000) * fall) % cellH;

  // baseline
  const baseY = h * shore;

  // typography
  ctx.textBaseline = "top";
  ctx.font = `900 ${fontPx}px ${getComputedStyle(document.body).fontFamily}`;
  ctx.fillStyle = "#fff";
  ctx.shadowBlur = 0;

  // render per column (strict x grid) and per row (strict y grid)
  for(let cx=0; cx<cols; cx++){
    const nx = cx / cols;

    // wave crest height at this column (continuous function, but used only to decide fill)
    const crest =
      baseY
      + Math.sin(nx*6.0 + t*1.30) * (h*ampPct*0.40)
      + Math.sin(nx*14.0 + t*0.92) * (h*ampPct*0.22)
      + Math.sin(nx*28.0 + t*0.62) * (h*ampPct*0.10);

    const foamTop = crest - foamBand*0.55;
    const foamBot = crest + foamBand*0.55;

    // strict x position
    const x = cx * cellW;

    for(let ry=0; ry<rows; ry++){
      // strict y position + global drift down
      const y = (ry * cellH + yDrift) - cellH;

      // determine region: wave is above crest, void below foamBot
      if(y > foamBot) continue;

      const inFoam = (y >= foamTop && y <= foamBot);
      const p = inFoam ? foamFill : waveFill;

      if(Math.random() > p) continue;

      const ch = glyph();

      // foam is hottest white; wave varies slightly but stays bright
      ctx.globalAlpha = (inFoam ? 1.0 : (0.80 + Math.random()*0.20)) * whiteHot;

      // draw ON GRID (no offsets)
      ctx.fillText(ch, x, y);
    }
  }

  // thin hard shoreline cut (still straight)
  ctx.globalAlpha = 1;
  ctx.fillStyle = "#fff";
  // draw as a row of blocks across the shoreline using the same grid
  const shoreRow = Math.floor((baseY + yDrift)/cellH);
  const yLine = (shoreRow * cellH) - yDrift;
  ctx.fillRect(0, yLine + foamBand*0.95, w, 1);

  requestAnimationFrame(frame);
}
requestAnimationFrame(frame);

addEventListener("keydown",(e)=>{
  if(e.key === "Enter") location.href = TARGET_URL;
});
</script>

<!-- ============================================================
KETADATA HTML SERIALIZATION STAMP
AE/EE/WB: AE
FILE_ID: LINE_OCEAN_VOID_SHORE_V1
ROOM_ID: COVER
VERSION: v1
UPDATED_AT: 2025-12-28T00:00:00-05:00
CHANGELOG:
- OCEAN: CODE/BRAILLE WAVE HITTING VOID BEACH
- REMOVED: ALL SPRAY/SPLASH/PARTICLES
- CONSTRAINT: EVERYTHING GRID-ALIGNED (STRAIGHT LINES ONLY)
- UI: ARIAL / BOLD / BRUTALIST / UNMISSABLE
============================================================
