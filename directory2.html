<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KETADATA</title>

  <style>
    :root{
      --bg: #000;
      --fg: #fff;
      --muted: rgba(255,255,255,0.45);
      --muted2: rgba(255,255,255,0.18);
      --red: #ff1a1a;
      --red2: rgba(255,26,26,0.45);

      /* type */
      --sans: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text",
              "Helvetica Neue", Helvetica, Arial, system-ui, sans-serif;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body{
      margin: 0;
      background: var(--bg);
      color: var(--fg);
      font-family: var(--sans);
      overflow-y: auto;

      /* “double page” snap */
      scroll-snap-type: y mandatory;
      scroll-behavior: smooth;
    }

    /* Each “page” is exactly one screen */
    section.page{
      height: 100vh;
      width: 100%;
      scroll-snap-align: start;
      scroll-snap-stop: always;
      position: relative;
      display: grid;
      place-items: center;
      padding: 4vh 4vw;
    }

    /* Top header block */
    .top{
      position: absolute;
      top: 3.2vh;
      left: 0;
      right: 0;
      display: grid;
      place-items: center;
      gap: 1.8vh;
      pointer-events: none; /* prevents accidental selection during scroll snap */
    }

    h1{
      margin: 0;
      font-weight: 800;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      font-size: clamp(56px, 10vw, 140px);
      line-height: 0.95;
      pointer-events: auto;
      user-select: none;
    }

    /* Nav pills */
    .nav-links{
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 12px;
      pointer-events: auto;
    }

    .nav-item{
      text-decoration: none;
      color: var(--fg);
      font-family: var(--mono);
      font-size: 12px;
      letter-spacing: 0.16em;
      text-transform: uppercase;

      padding: 9px 14px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.22);
      background: rgba(255,255,255,0.03);
      transition: border-color 180ms ease, color 180ms ease, background 180ms ease;
    }
    .nav-item:hover{
      border-color: rgba(255,26,26,0.55);
      color: var(--red);
      background: rgba(255,26,26,0.06);
    }

    /* Landing middle warning */
    .gateway{
      display: grid;
      place-items: center;
      gap: 12px;
      margin-top: 14vh;
      text-align: center;
    }

    .bad-pill{
      display: inline-grid;
      place-items: center;
      padding: 14px 20px;
      border-radius: 14px;
      border: 1px dashed rgba(255,26,26,0.35);
      background: rgba(255,26,26,0.05);
      max-width: min(560px, 88vw);
    }

    .bad-pill .title{
      font-family: var(--mono);
      font-size: 12px;
      letter-spacing: 0.48em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.8);
      margin-bottom: 6px;
    }

    .bad-pill .sub{
      font-family: var(--mono);
      font-size: 11px;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.55);
    }

    .scroll-hint{
      position: absolute;
      bottom: 2.4vh;
      left: 0;
      right: 0;
      display: grid;
      place-items: center;
      font-family: var(--mono);
      font-size: 11px;
      letter-spacing: 0.26em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.35);
      user-select: none;
      pointer-events: none;
    }

    /* MEOW ticker — invisible unless flashing */
    .meow-ticker{
      position: fixed;
      left: 0;
      right: 0;
      bottom: 9.5vh;
      padding: 10px 0;
      overflow: hidden;
      white-space: nowrap;
      z-index: 999;

      opacity: 0;
      transform: translateY(6px);
      transition: opacity 160ms ease, transform 160ms ease;
      pointer-events: none;

      /* sleek + bold + modern */
      font-family: var(--sans);
      font-weight: 800;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      font-size: 14px;
      color: rgba(255,255,255,0.92);
      mix-blend-mode: screen;
    }
    body.is-flashing .meow-ticker{
      opacity: 1;
      transform: translateY(0);
    }

    .meow-track{
      display: inline-flex;
      gap: 24px;
      animation: ticker 34s linear infinite;
      will-change: transform;
    }
    @keyframes ticker{
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    /* Flashing */
    @keyframes flash{
      0% { background-color: #000; }
      50% { background-color: #fff; }
      100% { background-color: #000; }
    }
    body.is-flashing{
      animation: flash 0.125s infinite;
    }

    /* When flashing, invert key UI so it remains legible */
    body.is-flashing h1,
    body.is-flashing .nav-item,
    body.is-flashing .bad-pill,
    body.is-flashing .scroll-hint{
      filter: invert(1);
    }

    /* DIRECTORY PAGE */
    .dir-wrap{
      width: min(1120px, 92vw);
      height: min(74vh, 760px);
      margin-top: 10vh;
      display: grid;
      grid-template-rows: auto 1fr auto;
      gap: 14px;
    }

    .dir-header{
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 16px;
      border-bottom: 1px solid rgba(255,255,255,0.12);
      padding-bottom: 10px;
    }
    .dir-title{
      font-family: var(--mono);
      letter-spacing: 0.22em;
      text-transform: uppercase;
      font-size: 12px;
      color: rgba(255,255,255,0.75);
    }
    .dir-meta{
      font-family: var(--mono);
      letter-spacing: 0.18em;
      text-transform: uppercase;
      font-size: 11px;
      color: rgba(255,255,255,0.35);
    }

    .dir-grid{
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 10px;
      overflow: hidden;
    }

    .dir-col{
      border: 1px solid rgba(255,255,255,0.10);
      border-radius: 14px;
      background: rgba(255,255,255,0.03);
      padding: 12px 12px 10px;
      overflow: hidden;
    }

    .dir-col h3{
      margin: 0 0 10px 0;
      font-family: var(--mono);
      font-size: 11px;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.55);
    }

    .dir-list{
      margin: 0;
      padding: 0;
      list-style: none;
      display: grid;
      gap: 6px;
      overflow: hidden;
    }

    .dir-list a{
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;

      text-decoration: none;
      color: rgba(255,255,255,0.88);
      border-radius: 10px;
      padding: 8px 10px;

      background: rgba(255,255,255,0.02);
      border: 1px solid rgba(255,255,255,0.08);
      transition: border-color 160ms ease, background 160ms ease, color 160ms ease;
      font-family: var(--sans);
      font-weight: 600;
      letter-spacing: 0.02em;
      font-size: 13px;
    }
    .dir-list a:hover{
      border-color: rgba(255,26,26,0.45);
      background: rgba(255,26,26,0.06);
      color: #fff;
    }

    .tag{
      font-family: var(--mono);
      font-size: 10px;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.35);
      white-space: nowrap;
    }

    .dir-footer{
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 14px;
      border-top: 1px solid rgba(255,255,255,0.10);
      padding-top: 10px;

      font-family: var(--mono);
      font-size: 11px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.35);
    }

    .kbd{
      border: 1px solid rgba(255,255,255,0.16);
      border-bottom-color: rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.04);
      border-radius: 8px;
      padding: 6px 10px;
      color: rgba(255,255,255,0.75);
      display: inline-flex;
      gap: 10px;
      align-items: center;
      white-space: nowrap;
    }

    /* Responsive */
    @media (max-width: 980px){
      .dir-grid{ grid-template-columns: 1fr; }
      .dir-wrap{ height: 78vh; }
      .meow-ticker{ bottom: 8vh; font-size: 13px; }
    }
  </style>
</head>

<body>
  <!-- MEOW ticker (hidden unless flashing) -->
  <div class="meow-ticker" aria-hidden="true">
    <div class="meow-track" id="meowTrack">
      <span>MEOW — MIAOU — MIAU — MIAO — MIAUW — MJAU — MJAV — MIAV — MIJAV — MIJAU — MIYAV — MIYAO — МЯУ — NYA — NYAA — NYAN — にゃー — ニャー — 야옹 — 喵 —</span>
      <span>MEOW — MIAOU — MIAU — MIAO — MIAUW — MJAU — MJAV — MIAV — MIJAV — MIJAU — MIYAV — MIYAO — МЯУ — NYA — NYAA — NYAN — にゃー — ニャー — 야옹 — 喵 —</span>
    </div>
  </div>

  <!-- PAGE 1: LANDING -->
  <section class="page" id="landing">
    <div class="top">
      <h1>KETA /// ДATA</h1>

      <nav class="nav-links">
        <a href="#directory" class="nav-item">[DIRECTORY]</a>
        <a href="page2.html" class="nav-item">[K-LIGHT]</a>
        <a href="map.html" class="nav-item">[K-WORLD]</a>
        <a href="room.html" class="nav-item">[K-ROOM]</a>
        <a href="vape-drive.html" class="nav-item">[K-APPS]</a>
        <a href="shop.html" class="nav-item">[SHOP]</a>
      </nav>
    </div>

    <div class="gateway">
      <div class="bad-pill">
        <div class="title">BAD GATEWAY</div>
        <div class="sub">MAY TRIGGER SEIZURES IN PHOTOSENSITIVE INDIVIDUALS</div>
      </div>
    </div>

    <div class="scroll-hint">SCROLL FOR DIRECTORY</div>
  </section>

  <!-- PAGE 2: DIRECTORY (one-screen) -->
  <section class="page" id="directory">
    <div class="top">
      <h1>KETA /// ДATA</h1>

      <nav class="nav-links">
        <a href="#landing" class="nav-item">[UP]</a>
        <a href="fund.html" class="nav-item">[FUND]</a>
        <a href="video.html" class="nav-item">[VIDEO]</a>
        <a href="library.html" class="nav-item">[LIBRARY]</a>
        <a href="login.html" class="nav-item">[LOGIN]</a>
        <a href="desktop.html" class="nav-item">[DESKTOP]</a>
      </nav>
    </div>

    <div class="dir-wrap">
      <div class="dir-header">
        <div class="dir-title">MASTER DIRECTORY</div>
        <div class="dir-meta">ketadata.com / {file}.html</div>
      </div>

      <div class="dir-grid" id="dirGrid">
        <!-- Filled by JS from the list below -->
      </div>

      <div class="dir-footer">
        <div class="kbd">SPACE = FLASH</div>
        <div class="kbd">WHEEL / TOUCH = SNAP</div>
        <div class="kbd">1–6 / M / R = QUICK JUMPS</div>
      </div>
    </div>
  </section>

  <script>
    /* ===========
       1) FLASH (SPACE)
       =========== */
    let isFlashing = false;
    document.addEventListener("keydown", (event) => {
      if (event.code === "Space") {
        event.preventDefault();
        isFlashing = !isFlashing;
        document.body.classList.toggle("is-flashing", isFlashing);
      }
    });

    /* ===========
       2) SNAP SCROLL (full-page jump)
       =========== */
    const pages = [document.getElementById("landing"), document.getElementById("directory")];
    let snapLock = false;

    function goToPage(idx){
      if (idx < 0 || idx >= pages.length) return;
      snapLock = true;
      pages[idx].scrollIntoView({ behavior: "smooth", block: "start" });
      setTimeout(() => snapLock = false, 520);
    }

    function currentPageIndex(){
      const y = window.scrollY;
      const h = window.innerHeight;
      return (y >= h * 0.5) ? 1 : 0;
    }

    window.addEventListener("wheel", (e) => {
      if (snapLock) { e.preventDefault(); return; }
      const idx = currentPageIndex();
      if (Math.abs(e.deltaY) < 8) return;

      e.preventDefault();
      if (e.deltaY > 0) goToPage(idx + 1);
      else goToPage(idx - 1);
    }, { passive: false });

    // touch swipe snap
    let touchStartY = null;
    window.addEventListener("touchstart", (e) => {
      touchStartY = e.touches[0].clientY;
    }, { passive: true });

    window.addEventListener("touchend", (e) => {
      if (touchStartY == null || snapLock) return;
      const endY = e.changedTouches[0].clientY;
      const dy = touchStartY - endY;
      const idx = currentPageIndex();
      if (Math.abs(dy) > 40) {
        if (dy > 0) goToPage(idx + 1);
        else goToPage(idx - 1);
      }
      touchStartY = null;
    }, { passive: true });

    /* ===========
       3) QUICK JUMPS (keep your existing behavior)
       =========== */
    document.addEventListener("keydown", (event) => {
      // 1–6
      if (event.key >= "1" && event.key <= "6") window.location.href = event.key + ".html";
      // M => map
      if (event.key.toLowerCase() === "m") window.location.href = "map.html";
      // R => room
      if (event.key.toLowerCase() === "r") window.location.href = "room.html";
    });

    /* ===========
       4) DIRECTORY DATA (edit this list when files change)
       =========== */
    const DIRECTORY = [
      // CORE
      { href: "index.html", label: "index.html", tag: "entry" },
      { href: "desktop.html", label: "desktop.html", tag: "hub" },
      { href: "nav.html", label: "nav.html", tag: "nav" },
      { href: "map.html", label: "map.html", tag: "k-world" },
      { href: "room.html", label: "room.html", tag: "k-room" },
      { href: "page2.html", label: "page2.html", tag: "k-light" },
      { href: "shop.html", label: "shop.html", tag: "shop" },
      { href: "fund.html", label: "fund.html", tag: "public" },
      { href: "login.html", label: "login.html", tag: "gate" },

      // LIBRARY / VIDEO
      { href: "library.html", label: "library.html", tag: "library" },
      { href: "video.html", label: "video.html", tag: "video" },
      { href: "video2.html", label: "video2.html", tag: "video" },
      { href: "videomanager.html", label: "videomanager.html", tag: "ops" },

      // ORACLE / BLEAK
      { href: "ball.html", label: "ball.html", tag: "oracle" },
      { href: "bleak.html", label: "bleak.html", tag: "bleak" },

      // EDITOR / CAPTURE
      { href: "editor.html", label: "editor.html", tag: "studio" },
      { href: "capture.html", label: "capture.html", tag: "capture" },
      { href: "capturegpt.html", label: "capturegpt.html", tag: "capture" },
      { href: "capturegpt2.html", label: "capturegpt2.html", tag: "capture" },
      { href: "capturegpt3.html", label: "capturegpt3.html", tag: "capture" },
      { href: "capturegpt4.html", label: "capturegpt4.html", tag: "capture" },
      { href: "capturegpt5.html", label: "capturegpt5.html", tag: "capture" },
      { href: "capturegpt6.html", label: "capturegpt6.html", tag: "capture" },
      { href: "capturegpt7.html", label: "capturegpt7.html", tag: "capture" },
      { href: "capturegpt8.html", label: "capturegpt8.html", tag: "capture" },

      // MANDALA / RIPPLE / STREAM
      { href: "mandala.html", label: "mandala.html", tag: "visual" },
      { href: "mandala2.html", label: "mandala2.html", tag: "visual" },
      { href: "mandala3.html", label: "mandala3.html", tag: "visual" },
      { href: "mandalagpt.html", label: "mandalagpt.html", tag: "visual" },
      { href: "mandalagpt2.html", label: "mandalagpt2.html", tag: "visual" },
      { href: "mandalagpt3.html", label: "mandalagpt3.html", tag: "visual" },
      { href: "mandalagpt4.html", label: "mandalagpt4.html", tag: "visual" },

      { href: "ripple.html", label: "ripple.html", tag: "visual" },
      { href: "ripple2.html", label: "ripple2.html", tag: "visual" },
      { href: "ripple3.html", label: "ripple3.html", tag: "visual" },
      { href: "ripplefull.html", label: "ripplefull.html", tag: "visual" },
      { href: "ripplegpt.html", label: "ripplegpt.html", tag: "visual" },
      { href: "rippleinfra.html", label: "rippleinfra.html", tag: "visual" },
      { href: "rippleuv.html", label: "rippleuv.html", tag: "visual" },

      { href: "slopstream.html", label: "slopstream.html", tag: "stream" },
      { href: "slopstream2.html", label: "slopstream2.html", tag: "stream" },
      { href: "slopstream3.html", label: "slopstream3.html", tag: "stream" },

      // DMT / MDMA
      { href: "dmt.html", label: "dmt.html", tag: "state" },
      { href: "dmt2.html", label: "dmt2.html", tag: "state" },
      { href: "dmt3.html", label: "dmt3.html", tag: "state" },
      { href: "dmt4.html", label: "dmt4.html", tag: "state" },
      { href: "dmtzoom.html", label: "dmtzoom.html", tag: "state" },
      { href: "mdma.html", label: "mdma.html", tag: "state" },
      { href: "mdma2.html", label: "mdma2.html", tag: "state" },
      { href: "mdmagpt.html", label: "mdmagpt.html", tag: "state" },
      { href: "mdmagpt2.html", label: "mdmagpt2.html", tag: "state" },

      // RELEASE / MISC / OTHER
      { href: "release.html", label: "release.html", tag: "release" },
      { href: "release2.html", label: "release2.html", tag: "release" },
      { href: "release3.html", label: "release3.html", tag: "release" },
      { href: "release4.html", label: "release4.html", tag: "release" },

      { href: "misc.html", label: "misc.html", tag: "misc" },
      { href: "misc2.html", label: "misc2.html", tag: "misc" },
      { href: "misc3.html", label: "misc3.html", tag: "misc" },
      { href: "misc4.html", label: "misc4.html", tag: "misc" },
      { href: "misc5.html", label: "misc5.html", tag: "misc" },
      { href: "misc6.html", label: "misc6.html", tag: "misc" },
      { href: "misc7.html", label: "misc7.html", tag: "misc" },
      { href: "misc8.html", label: "misc8.html", tag: "misc" },

      { href: "darkroom.html", label: "darkroom.html", tag: "red-room" },
      { href: "box.html", label: "box.html", tag: "fund" },
      { href: "beatball.html", label: "beatball.html", tag: "audio" },
      { href: "gptsubject.html", label: "gptsubject.html", tag: "prompt" },
      { href: "submit.html", label: "submit.html", tag: "intake" },
      { href: "vape-drive.html", label: "vape-drive.html", tag: "app" },
      { href: "newtrap.html", label: "newtrap.html", tag: "trap" },
      { href: "newtrap2.html", label: "newtrap2.html", tag: "trap" },
      { href: "newtrap3.html", label: "newtrap3.html", tag: "trap" },

      // NUMBERED
      { href: "1.html", label: "1.html", tag: "num" },
      { href: "2.html", label: "2.html", tag: "num" },
      { href: "3.html", label: "3.html", tag: "num" },
      { href: "4.html", label: "4.html", tag: "num" },
      { href: "5.html", label: "5.html", tag: "num" },
      { href: "6.html", label: "6.html", tag: "num" },
    ];

    const GROUPS = [
      { title: "CORE", filter: (x) => ["entry","hub","nav","k-world","k-room","k-light","shop","public","gate"].includes(x.tag) },
      { title: "LIBRARY / VIDEO / ORACLE", filter: (x) => ["library","video","ops","oracle","bleak"].includes(x.tag) },
      { title: "STUDIO / VISUAL / STATES", filter: (x) => !["entry","hub","nav","k-world","k-room","k-light","shop","public","gate","library","video","ops","oracle","bleak"].includes(x.tag) }
    ];

    function renderDirectory(){
      const grid = document.getElementById("dirGrid");
      grid.innerHTML = "";

      GROUPS.forEach(group => {
        const col = document.createElement("div");
        col.className = "dir-col";

        const h = document.createElement("h3");
        h.textContent = group.title;
        col.appendChild(h);

        const ul = document.createElement("ul");
        ul.className = "dir-list";

        DIRECTORY.filter(group.filter).slice(0, 18).forEach(item => {
          const li = document.createElement("li");
          const a = document.createElement("a");
          a.href = item.href;
          a.innerHTML = `<span>${item.label}</span><span class="tag">${item.tag}</span>`;
          li.appendChild(a);
          ul.appendChild(li);
        });

        col.appendChild(ul);
        grid.appendChild(col);
      });
    }

    renderDirectory();
  </script>
</body>
</html>
