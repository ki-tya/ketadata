<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>KETA_MONO // TENNIS MACHINE</title>
<style>
:root{
  --bg:#000;
  --fg:rgba(255,255,255,.90);
  --muted:rgba(255,255,255,.46);
  --line:rgba(255,255,255,.12);
  --line2:rgba(255,255,255,.22);

  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;

  /* intensity 0..1 */
  --I:.62;

  /* ball sizing */
  --ball: 220px;      /* big */
  --ball2: 140px;     /* alt */
  --blur: 18px;

  /* pulse */
  --pulse: 1.0;
}

*{box-sizing:border-box}
html,body{height:100%; margin:0; background:var(--bg); color:var(--fg); overflow:hidden; font-family:var(--mono)}
#root{position:fixed; inset:0; background:var(--bg);}

/* subtle mono grid (hallucinatory but not “designed”) */
#field{
  position:absolute; inset:0;
  background:
    linear-gradient(var(--line) 1px, transparent 1px),
    linear-gradient(90deg, var(--line) 1px, transparent 1px),
    radial-gradient(circle at 50% 45%, rgba(255,255,255,.08), rgba(0,0,0,0) 58%),
    radial-gradient(circle at 52% 47%, rgba(255,255,255,.05), rgba(0,0,0,0) 62%);
  background-size: 88px 88px, 88px 88px, cover, cover;
  filter: contrast(calc(1.0 + var(--I)*.45)) brightness(calc(.92 + var(--I)*.22));
  opacity: .55;
  animation: drift 8.5s linear infinite;
  pointer-events:none;
}
@keyframes drift{
  0%{ transform: translate3d(0,0,0) }
  100%{ transform: translate3d(-44px,22px,0) }
}

/* vignette */
#vignette{
  position:absolute; inset:-2%;
  background: radial-gradient(circle at 50% 48%, rgba(0,0,0,0) 45%, rgba(0,0,0,.70) 88%);
  pointer-events:none;
}

/* top label */
#label{
  position:absolute;
  top:14px; left:14px;
  font-size:12px;
  color:var(--muted);
  letter-spacing:.06em;
  user-select:none;
}

/* controls (minimal, mono) */
#ctl{
  position:absolute;
  left:14px;
  bottom:14px;
  display:flex;
  gap:10px;
  align-items:center;
  font-size:12px;
  color:var(--muted);
  user-select:none;
}
.btn{
  padding:6px 10px;
  border:1px solid var(--line);
  cursor:pointer;
}
.btn.on{
  color:var(--fg);
  border-color:var(--line2);
}
.readout{
  padding:6px 10px;
  border:1px solid var(--line);
  color:var(--muted);
}

/* big mono “tennis balls” */
.ball{
  position:absolute;
  width:var(--s);
  height:var(--s);
  border-radius:50%;
  transform:translate3d(var(--x0),var(--y0),0) scale(.88);
  opacity:.0;
  pointer-events:none;

  /* mono: edge + faint inner + glow */
  background:
    radial-gradient(circle at 32% 30%,
      rgba(255,255,255,.22),
      rgba(255,255,255,.08) 38%,
      rgba(255,255,255,.04) 56%,
      rgba(0,0,0,0) 76%),
    radial-gradient(circle at 50% 50%,
      rgba(255,255,255,.08),
      rgba(255,255,255,.02) 52%,
      rgba(0,0,0,0) 72%);

  box-shadow:
    0 0 calc(var(--blur) + var(--I)*22px) rgba(255,255,255, calc(.16 + var(--I)*.16)),
    0 0 calc(2px + var(--I)*3px) rgba(255,255,255,.55) inset;

  filter: blur(calc(var(--I)*.6px));
  animation: fly var(--t) linear forwards, pulse 1.15s ease-in-out infinite;
}
@keyframes fly{
  0%{
    transform:translate3d(var(--x0),var(--y0),0) scale(.82);
    opacity:0;
    filter: blur(calc(2px + var(--I)*2px));
  }
  10%{
    opacity: calc(.25 + var(--I)*.45);
  }
  100%{
    transform:translate3d(var(--x1),var(--y1),0) scale(1.08);
    opacity:0;
    filter: blur(calc(12px + var(--I)*10px));
  }
}
@keyframes pulse{
  0%,100%{ --pulse:1.0; }
  50%{ --pulse:1.045; }
}

/* NULL blackout (quiet fullscreen) */
.null #label,
.null #ctl{ display:none; }
.null #field{ opacity:.18; filter: contrast(1.2) brightness(.75); }
.null #vignette{ opacity:1; }

</style>
</head>
<body>
<div id="root">
  <div id="field"></div>
  <div id="vignette"></div>

  <div id="label">
    KETA_MONO // TENNIS MACHINE<br/>
    BIG INPUT. NO VERDICT.
  </div>

  <div id="ctl">
    <div class="btn on" id="runBtn">RUN</div>
    <div class="btn" id="rateBtn">RATE: MED</div>
    <div class="btn" id="intBtn">INTENSITY: 0.62</div>
    <div class="btn" id="nullBtn">NULL</div>
    <div class="readout" id="note">SPACE = PULSE • CLICK = SINGLE</div>
  </div>
</div>

<script>
/* ===== KETA_MONO TENNIS MACHINE (big mono) ===== */
const root = document.getElementById("root");
const runBtn  = document.getElementById("runBtn");
const rateBtn = document.getElementById("rateBtn");
const intBtn  = document.getElementById("intBtn");
const nullBtn = document.getElementById("nullBtn");

let RUN = true;
let NULL = false;

const RATES = { LOW: 1400, MED: 900, HIGH: 420 };
let rateKey = "MED";
let intervalMs = RATES[rateKey];

let I = 0.62; // 0..1
document.documentElement.style.setProperty("--I", String(I));

function setRate(key){
  rateKey = key;
  intervalMs = RATES[rateKey];
  rateBtn.textContent = "RATE: " + rateKey;
  restartLoop();
}

function setIntensity(v){
  I = Math.max(0, Math.min(1, v));
  document.documentElement.style.setProperty("--I", String(I));
  intBtn.textContent = "INTENSITY: " + I.toFixed(2);
}

runBtn.onclick = () => {
  RUN = !RUN;
  runBtn.classList.toggle("on", RUN);
  runBtn.textContent = RUN ? "RUN" : "PAUSE";
};

rateBtn.onclick = () => {
  if(rateKey === "LOW") setRate("MED");
  else if(rateKey === "MED") setRate("HIGH");
  else setRate("LOW");
};

intBtn.onclick = () => {
  // stepped, no sliders (mono discipline)
  const steps = [0.18, 0.32, 0.48, 0.62, 0.78, 0.92];
  let idx = steps.findIndex(x => Math.abs(x - I) < 1e-6);
  if(idx < 0) idx = 3;
  idx = (idx + 1) % steps.length;
  setIntensity(steps[idx]);
};

nullBtn.onclick = () => {
  NULL = !NULL;
  root.classList.toggle("null", NULL);
  nullBtn.classList.toggle("on", NULL);
};

function rnd(min,max){ return min + Math.random()*(max-min); }

function spawnBall(){
  if(!RUN || NULL) return;

  const b = document.createElement("div");
  b.className = "ball";

  const w = window.innerWidth;
  const h = window.innerHeight;

  // BIG sizes, mono
  const size = Math.random() < 0.52 ? "var(--ball)" : "var(--ball2)";
  b.style.setProperty("--s", size);

  // launch from bottom band -> into mid field (like machine)
  const x0 = rnd(-120, w+120);
  const y0 = h + rnd(40, 220);

  const x1 = rnd(-80, w+80);
  const y1 = rnd(h*0.06, h*0.68);

  // duration tied to intensity + slight variance
  const t = Math.round(rnd(650, 1100) + (1-I)*420) + "ms";

  b.style.setProperty("--x0", x0 + "px");
  b.style.setProperty("--y0", y0 + "px");
  b.style.setProperty("--x1", x1 + "px");
  b.style.setProperty("--y1", y1 + "px");
  b.style.setProperty("--t", t);

  root.appendChild(b);
  b.addEventListener("animationend", ()=> b.remove(), { once:true });
}

function pulseBurst(n=6){
  if(NULL) return;
  for(let i=0;i<n;i++){
    setTimeout(spawnBall, i*40);
  }
}

root.addEventListener("click", (e)=>{
  if(NULL) return;
  // single ball on click (manual mode)
  spawnBall();
});

window.addEventListener("keydown", (e)=>{
  // avoid messing with typing (no inputs in this file anyway)
  if(e.code === "Space"){
    e.preventDefault();
    pulseBurst(9);
  }
  if(e.key === "n" || e.key === "N"){
    NULL = !NULL;
    root.classList.toggle("null", NULL);
    nullBtn.classList.toggle("on", NULL);
  }
});

let timer = null;
function restartLoop(){
  if(timer) clearInterval(timer);
  timer = setInterval(()=> spawnBall(), intervalMs);
}
restartLoop();

// a second loop offset for density (mono hallucination)
let timer2 = setInterval(()=> {
  if(RUN && !NULL && Math.random() < (0.55 + I*0.25)) spawnBall();
}, 520);

</script>

<!--
AE: KETA_MONO_TENNIS_MACHINE
EE: big-mono-input-apparatus
WB: single-file_html

FILE_ID: KETA-MONO-TENNIS-001
ROOM_ID: BASE
VERSION: v1.0
UPDATED_AT: 2026-01-07
CHANGELOG:
- Big monochrome “tennis ball machine” field
- RUN / RATE / INTENSITY / NULL controls
- Click = single ball, SPACE = pulse burst
-->
</body>
</html>
