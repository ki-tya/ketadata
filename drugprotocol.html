<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>KETADATA // DRUG PROTOCOL</title>

<style>
:root{
  --bg:#000;
  --fg:#fff;
  --pulse:1;
  --speed:22s;
  --density:140px;
  --invert:0;
}

/* RESET */
*{box-sizing:border-box;}
html,body{
  margin:0;
  height:100%;
  overflow:hidden;
  background:var(--bg);
  color:var(--fg);
  font-family:Arial,Helvetica,sans-serif;
}

/* PRIMARY CURRENT */
#current{
  position:fixed;
  inset:-40%;
  background:
    radial-gradient(circle at center,
      var(--fg) 0 28%,
      transparent 30% 100%);
  background-size:var(--density) var(--density);
  animation:flow var(--speed) linear infinite;
  transform:rotate(14deg);
  opacity:0.9;
  will-change:background-position,transform;
}

/* SECONDARY CURRENT (COUNTERFLOW) */
#counter{
  position:fixed;
  inset:-50%;
  background:
    radial-gradient(circle at center,
      var(--bg) 0 26%,
      transparent 28% 100%);
  background-size:calc(var(--density) * 1.6) calc(var(--density) * 1.6);
  animation:counterflow calc(var(--speed) * 1.6) linear infinite;
  mix-blend-mode:difference;
  opacity:0.85;
}

/* SUBTLE STROBE NOISE */
#noise{
  position:fixed;
  inset:0;
  background:
    repeating-linear-gradient(
      0deg,
      rgba(255,255,255,0.035) 0 1px,
      transparent 1px 3px
    );
  opacity:0.15;
  pointer-events:none;
}

/* BREATHING CORE */
#core{
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;
  pointer-events:none;
}

#core .node{
  width:320px;
  height:320px;
  border:3px solid var(--fg);
  border-radius:50%;
  display:grid;
  place-items:center;
  animation:breathe 6s ease-in-out infinite;
}

@keyframes breathe{
  0%,100%{transform:scale(1);}
  50%{transform:scale(1.06);}
}

/* TEXT = MANTRA, NOT INSTRUCTION */
#core .mantra{
  text-align:center;
  font-weight:900;
  letter-spacing:0.22em;
  font-size:13px;
  text-transform:uppercase;
  line-height:1.5;
  mix-blend-mode:difference;
}

/* HUD */
#hud{
  position:fixed;
  top:0;left:0;right:0;
  padding:10px 12px;
  border-bottom:2px solid var(--fg);
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:rgba(0,0,0,0.55);
  z-index:10;
}

.tag{
  border:2px solid var(--fg);
  padding:6px 10px;
  font-weight:900;
  letter-spacing:0.12em;
  font-size:11px;
  text-transform:uppercase;
}

.btn{
  border:2px solid var(--fg);
  background:transparent;
  color:var(--fg);
  padding:6px 10px;
  font-weight:900;
  letter-spacing:0.12em;
  cursor:pointer;
  text-transform:uppercase;
}

/* NULL = REMOVE ALL DEMAND */
body.null #current,
body.null #counter,
body.null #noise,
body.null #core{
  opacity:0;
}

/* INVERT */
body.invert{
  --bg:#fff;
  --fg:#000;
  background:var(--bg);
  color:var(--fg);
}

/* STAMP */
#stamp{
  position:fixed;
  bottom:10px;
  left:12px;
  right:12px;
  font-size:10px;
  font-weight:800;
  letter-spacing:0.1em;
  text-transform:uppercase;
  mix-blend-mode:difference;
  white-space:pre-wrap;
}
</style>
</head>

<body>

<div id="current"></div>
<div id="counter"></div>
<div id="noise"></div>

<div id="hud">
  <div class="tag">KETADATA — DRUG PROTOCOL</div>
  <div>
    <button class="btn" id="invert">Invert (⇧I)</button>
    <button class="btn" id="null">NULL (⇧N)</button>
  </div>
</div>

<div id="core">
  <div class="node">
    <div class="mantra">
      NO QUESTIONS<br/>
      NO TASKS<br/>
      NO IDENTITY<br/><br/>
      FEEL THE LOOP
    </div>
  </div>
</div>

<div id="stamp">
AE: SOMATIC_FIELD + BREATHING_CORE<br/>
EE: USER_SET_RHYTHM + NO_LOGIC<br/>
WB: SINGLE_FILE_HTML<br/><br/>
FILE_ID: "KETA_DRUG_PROTOCOL"<br/>
ROOM_ID: "NULL"<br/>
VERSION_ID: "V1"<br/>
UPDATED_AT: <span id="ts"></span><br/>
CHANGELOG: "DRUG PROTOCOL — SOMATIC LOOP / SAFE INTENSITY"
</div>

<script>
const body=document.body;
document.getElementById('invert').onclick=()=>body.classList.toggle('invert');
document.getElementById('null').onclick=()=>body.classList.toggle('null');

window.addEventListener('keydown',e=>{
  if(e.shiftKey && e.key.toLowerCase()==='i'){e.preventDefault();body.classList.toggle('invert');}
  if(e.shiftKey && e.key.toLowerCase()==='n'){e.preventDefault();body.classList.toggle('null');}
});

// Subtle adaptive drift (self-balancing, not reactive)
let t=0;
setInterval(()=>{
  t+=0.0015;
  document.documentElement.style.setProperty('--density', 120 + Math.sin(t)*20 + 'px');
},60);

document.getElementById('ts').textContent=new Date().toISOString();
</script>

</body>
</html>
