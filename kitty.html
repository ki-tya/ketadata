<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>VI/DI — ABSTRACT INTENSIFIER FIELD</title>
<style>
:root{
  --bg:#000;
  --fg:#fff;
  --line:#222;
  --line2:#333;
  --top:0px;
  --bot:0px;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{background:var(--bg);overflow:hidden}
#root{position:fixed;inset:0;background:#000}
#root.invert{filter:invert(1)}
#stage{position:absolute;inset:0;background:#000;z-index:0}
#fx{position:absolute;inset:0;z-index:1;pointer-events:none}

/* field layers */
.layer{position:absolute;inset:-20%;transform:translate3d(0,0,0)}
#noise{
  background:
    radial-gradient(circle at 20% 30%, rgba(255,255,255,.06), rgba(0,0,0,0) 45%),
    radial-gradient(circle at 80% 70%, rgba(255,255,255,.05), rgba(0,0,0,0) 50%),
    repeating-linear-gradient(90deg, rgba(255,255,255,.03) 0 1px, rgba(0,0,0,0) 1px 18px),
    repeating-linear-gradient(0deg, rgba(255,255,255,.02) 0 1px, rgba(0,0,0,0) 1px 24px);
  mix-blend-mode:screen;
  opacity:.0;
}
#scan{
  background:
    repeating-linear-gradient(135deg,
      rgba(255,255,255,.07) 0 1px,
      rgba(0,0,0,0) 1px 16px);
  mix-blend-mode:screen;
  opacity:0;
}
#shards{
  background:
    conic-gradient(from 0deg at 50% 50%,
      rgba(255,255,255,.12),
      rgba(0,0,0,0) 8%,
      rgba(255,255,255,.07) 16%,
      rgba(0,0,0,0) 24%,
      rgba(255,255,255,.09) 33%,
      rgba(0,0,0,0) 42%,
      rgba(255,255,255,.06) 55%,
      rgba(0,0,0,0) 70%,
      rgba(255,255,255,.10) 85%,
      rgba(0,0,0,0) 100%);
  mix-blend-mode:screen;
  opacity:0;
  filter:contrast(1.6);
}
#pulse{
  background:radial-gradient(circle at 50% 50%,
    rgba(255,255,255,.16),
    rgba(255,255,255,.06) 22%,
    rgba(0,0,0,0) 52%);
  mix-blend-mode:screen;
  opacity:0;
  filter:blur(0px);
}
#ring{
  background:
    radial-gradient(circle at 50% 50%,
      rgba(0,0,0,0) 0 54%,
      rgba(255,255,255,.14) 55% 56%,
      rgba(0,0,0,0) 57% 100%),
    radial-gradient(circle at 50% 50%,
      rgba(0,0,0,0) 0 34%,
      rgba(255,255,255,.09) 35% 36%,
      rgba(0,0,0,0) 37% 100%);
  mix-blend-mode:screen;
  opacity:0;
}

#glyphs{position:absolute;inset:0;z-index:2;pointer-events:none}
.g{position:absolute; width:10px; height:10px; border:1px solid rgba(255,255,255,.65); background:#000; transform:translate3d(0,0,0)}
.g.fill{background:#fff}
.g.thin{border-color:rgba(255,255,255,.32)}
.g.big{width:18px;height:18px}
.g.tiny{width:6px;height:6px}
.g.round{border-radius:999px}
.g.blur{filter:blur(.6px)}
.g.glow{box-shadow:0 0 12px rgba(255,255,255,.18)}
#vignette{position:absolute;inset:0;z-index:3;pointer-events:none;
  background:radial-gradient(circle at 50% 50%, rgba(0,0,0,0) 38%, rgba(0,0,0,.55) 80%, rgba(0,0,0,.9) 100%);
}

/* minimal cursor cue (no text) */
#cursorDot{position:absolute; width:10px;height:10px; border:1px solid rgba(255,255,255,.75); background:rgba(0,0,0,0); transform:translate(-50%,-50%); z-index:4; pointer-events:none}
#cursorDot.on{background:rgba(255,255,255,.18)}

/* no UI; keys only */
</style>
</head>
<body>
<div id="root">
  <div id="stage"></div>

  <div id="fx">
    <div id="noise" class="layer"></div>
    <div id="scan" class="layer"></div>
    <div id="shards" class="layer"></div>
    <div id="pulse" class="layer"></div>
    <div id="ring" class="layer"></div>
  </div>

  <div id="glyphs"></div>
  <div id="vignette"></div>
  <div id="cursorDot"></div>
</div>

<script>
/* NO TEXT. ONLY INTENSITIES + INTENSIFIERS.
KEYS:
1–6 = PRESET
SPACE = TRANSPORT (RUN)
SHIFT+I = INVERT
HOLD MOUSE = INTENSIFY
R = RESET
*/

const root = document.getElementById("root");
const stage = document.getElementById("stage");
const noise = document.getElementById("noise");
const scan  = document.getElementById("scan");
const shards= document.getElementById("shards");
const pulse = document.getElementById("pulse");
const ring  = document.getElementById("ring");
const glyphs= document.getElementById("glyphs");
const cursorDot = document.getElementById("cursorDot");

let preset = 1;
let running = false;
let invert = false;

let t = 0;
let raf = null;
let down = false;

let mx = 0.5, my = 0.5;
let intensity = 0.0;
let targetIntensity = 0.0;

const clamp = (v,a,b)=>Math.max(a,Math.min(b,v));
const lerp  = (a,b,k)=>a+(b-a)*k;

function rnd(a,b){return a+Math.random()*(b-a);}
function pick(arr){return arr[(Math.random()*arr.length)|0];}

function clearGlyphs(){ glyphs.innerHTML = ""; }

function seedGlyphs(n){
  clearGlyphs();
  const W = window.innerWidth, H = window.innerHeight;
  for(let i=0;i<n;i++){
    const g = document.createElement("div");
    g.className = "g";
    const kind = (Math.random()<0.22) ? "fill" : "";
    const size = pick(["tiny","", "", "big"]);
    const thin = (Math.random()<0.35) ? "thin" : "";
    const round= (Math.random()<0.18) ? "round" : "";
    const blur = (Math.random()<0.10) ? "blur" : "";
    const glow = (Math.random()<0.14) ? "glow" : "";
    g.className = `g ${kind} ${size} ${thin} ${round} ${blur} ${glow}`.trim();

    const x = rnd(0, W), y = rnd(0, H);
    g.dataset.x = x;
    g.dataset.y = y;
    g.dataset.z = rnd(0.3, 2.2).toFixed(3); // parallax depth
    g.style.left = x + "px";
    g.style.top  = y + "px";
    glyphs.appendChild(g);
  }
}

function applyPreset(p){
  preset = p;

  // preset sets baseline intensities; runtime modulated by (intensity) and cursor
  const base = {
    1:{ n:120, noiseO:0.06, scanO:0.00, shardsO:0.00, pulseO:0.05, ringO:0.00, blur:0.0, c:1.1, s:1.0 },
    2:{ n:220, noiseO:0.10, scanO:0.06, shardsO:0.02, pulseO:0.06, ringO:0.02, blur:0.4, c:1.35, s:1.2 },
    3:{ n:300, noiseO:0.14, scanO:0.10, shardsO:0.08, pulseO:0.08, ringO:0.06, blur:0.8, c:1.7, s:1.35 },
    4:{ n:420, noiseO:0.18, scanO:0.14, shardsO:0.12, pulseO:0.10, ringO:0.10, blur:1.2, c:2.1, s:1.55 },
    5:{ n:560, noiseO:0.22, scanO:0.18, shardsO:0.18, pulseO:0.12, ringO:0.14, blur:1.8, c:2.6, s:1.8 },
    6:{ n:720, noiseO:0.28, scanO:0.22, shardsO:0.26, pulseO:0.16, ringO:0.18, blur:2.6, c:3.2, s:2.2 }
  }[p];

  seedGlyphs(base.n);

  noise.style.opacity = base.noiseO;
  scan.style.opacity  = base.scanO;
  shards.style.opacity= base.shardsO;
  pulse.style.opacity = base.pulseO;
  ring.style.opacity  = base.ringO;

  stage.style.filter = `contrast(${base.c}) saturate(${base.s})`;
  pulse.style.filter = `blur(${base.blur}px)`;

  // reset dynamics to let preset lock in
  intensity = 0;
  targetIntensity = 0;
}

function transport(on){
  running = !!on;
  if(running && !raf) tick();
  if(!running && raf){
    cancelAnimationFrame(raf);
    raf = null;
  }
}

function setInvert(on){
  invert = !!on;
  root.classList.toggle("invert", invert);
}

function resetAll(){
  setInvert(false);
  applyPreset(1);
  transport(false);
}

function tick(){
  t += 0.016;

  // intensity ramps with mouse down; decays otherwise
  targetIntensity = down ? 1.0 : 0.0;
  intensity = lerp(intensity, targetIntensity, down ? 0.08 : 0.05);

  const W = window.innerWidth, H = window.innerHeight;

  // cursor-driven drift
  const dx = (mx - 0.5);
  const dy = (my - 0.5);

  // baseline + intensifier
  const I = intensity;
  const spin = (running ? 1 : 0) * (0.6 + I*2.4);

  // layers motion
  const nTx = (dx * 40) + Math.sin(t*0.9)*18;
  const nTy = (dy * 40) + Math.cos(t*0.8)*18;

  noise.style.transform = `translate3d(${nTx}px, ${nTy}px, 0) scale(${1.0 + I*0.04})`;

  const sTx = (dx * -60) + Math.sin(t*1.7)*35;
  const sTy = (dy * -60) + Math.cos(t*1.6)*35;
  scan.style.transform  = `translate3d(${sTx}px, ${sTy}px, 0) rotate(${t*spin}deg)`;

  const shRot = t*(0.35 + I*2.2) * (running?1:0.2);
  shards.style.transform = `rotate(${shRot}rad) scale(${1.0 + I*0.08})`;

  const px = (mx*100).toFixed(2) + "%";
  const py = (my*100).toFixed(2) + "%";
  pulse.style.background = `radial-gradient(circle at ${px} ${py},
    rgba(255,255,255,${(0.10 + I*0.20).toFixed(3)}),
    rgba(255,255,255,${(0.04 + I*0.10).toFixed(3)}) 22%,
    rgba(0,0,0,0) 52%)`;

  const pBlur = (0.2 + I*2.8);
  pulse.style.filter = `blur(${pBlur.toFixed(2)}px)`;

  ring.style.transform = `scale(${(1.0 + Math.sin(t*1.2)*(0.01 + I*0.06)).toFixed(4)}) rotate(${(t*0.2 + I*0.6).toFixed(4)}rad)`;

  // modulate opacities with I and transport
  const runK = running ? 1.0 : 0.4;
  noise.style.opacity  = clamp(parseFloat(noise.style.opacity)  + (I*0.12)*runK, 0.02, 0.40);
  scan.style.opacity   = clamp(parseFloat(scan.style.opacity)   + (I*0.10)*runK, 0.00, 0.34);
  shards.style.opacity = clamp(parseFloat(shards.style.opacity) + (I*0.14)*runK, 0.00, 0.46);
  pulse.style.opacity  = clamp(parseFloat(pulse.style.opacity)  + (I*0.10)*runK, 0.02, 0.42);
  ring.style.opacity   = clamp(parseFloat(ring.style.opacity)   + (I*0.10)*runK, 0.00, 0.34);

  // decay opacities back toward preset baseline when not down
  if(!down){
    const base = {
      1:{noise:0.06,scan:0.00,shards:0.00,pulse:0.05,ring:0.00},
      2:{noise:0.10,scan:0.06,shards:0.02,pulse:0.06,ring:0.02},
      3:{noise:0.14,scan:0.10,shards:0.08,pulse:0.08,ring:0.06},
      4:{noise:0.18,scan:0.14,shards:0.12,pulse:0.10,ring:0.10},
      5:{noise:0.22,scan:0.18,shards:0.18,pulse:0.12,ring:0.14},
      6:{noise:0.28,scan:0.22,shards:0.26,pulse:0.16,ring:0.18}
    }[preset];

    noise.style.opacity  = String(lerp(parseFloat(noise.style.opacity),  base.noise, 0.06));
    scan.style.opacity   = String(lerp(parseFloat(scan.style.opacity),   base.scan,  0.06));
    shards.style.opacity = String(lerp(parseFloat(shards.style.opacity), base.shards,0.06));
    pulse.style.opacity  = String(lerp(parseFloat(pulse.style.opacity),  base.pulse, 0.06));
    ring.style.opacity   = String(lerp(parseFloat(ring.style.opacity),   base.ring,  0.06));
  }

  // glyph parallax + micro-jitter intensifier
  const nodes = glyphs.children;
  const jitter = (running ? 1 : 0) * (0.25 + I*2.2);
  for(let i=0;i<nodes.length;i++){
    const g = nodes[i];
    const zx = parseFloat(g.dataset.z || "1");
    const gx = parseFloat(g.dataset.x || "0");
    const gy = parseFloat(g.dataset.y || "0");
    const jx = (Math.sin(t* (0.7 + zx) + i)*jitter);
    const jy = (Math.cos(t* (0.6 + zx) + i)*jitter);
    const px2 = (dx * 80 / zx) + jx;
    const py2 = (dy * 80 / zx) + jy;
    g.style.transform = `translate3d(${px2.toFixed(2)}px, ${py2.toFixed(2)}px, 0) rotate(${(t*0.12*zx).toFixed(4)}rad)`;
  }

  // cursor dot
  cursorDot.style.left = (mx*W) + "px";
  cursorDot.style.top  = (my*H) + "px";
  cursorDot.classList.toggle("on", down);

  raf = requestAnimationFrame(tick);
}

/* input */
window.addEventListener("mousemove", (e)=>{
  mx = clamp(e.clientX / window.innerWidth, 0, 1);
  my = clamp(e.clientY / window.innerHeight, 0, 1);
});
window.addEventListener("mousedown", ()=>{ down=true; });
window.addEventListener("mouseup", ()=>{ down=false; });

window.addEventListener("keydown", (e)=>{
  if(e.shiftKey && e.key.toLowerCase()==="i"){ e.preventDefault(); setInvert(!invert); return; }
  if(e.key === " " || e.code==="Space"){ e.preventDefault(); transport(!running); return; }
  if(/^[1-6]$/.test(e.key)){ e.preventDefault(); applyPreset(parseInt(e.key,10)); return; }
  if(e.key.toLowerCase()==="r"){ e.preventDefault(); resetAll(); return; }
});

/* boot */
applyPreset(3);
transport(true);

window.addEventListener("resize", ()=>applyPreset(preset));
</script>
</body>
</html>

<!--
============================================================
KETADATA HTML SERIALIZATION STAMP
FILE_ID: VI_DI_ABSTRACT_INTENSIFIER_FIELD_V1
ROOM_ID: VI_DI
VERSION: AE/EE/WB::vi-di.abstract.intensifier-field.v1
UPDATED_AT: 2025-12-24T00:00:00-05:00
CHANGELOG:
- NO TEXT UI. ONLY INTENSITIES + INTENSIFIERS.
- KEYS: 1–6 PRESETS, SPACE TRANSPORT, SHIFT+I INVERT, R RESET, MOUSE HOLD INTENSIFY.
============================================================
-->
