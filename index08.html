<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>KETADATA // BRAILLE CAPILLARY (PURE WHITE)</title>

<style>
:root{
  --bg:#000000;
  --ink:#ffffff;

  /* BURN TRAIL */
  --trail:0.035;        /* persistence */
  --density:1.7;        /* column activity */
  --speed:1.05;

  /* SHAPE */
  --font:12px;
  --lh:14px;
  --colW:9.2;

  /* HARDNESS */
  --fat:1;              /* minimal thickening */
  --fatPx:0.5;

  /* ETCH (burn-through, NOT glow) */
  --etch:1;
  --etchAlpha:0.75;
  --etchStep:1;

  /* BLACK DEPTH */
  --vignette:0.94;
  --crush:0.22;
  --grain:0.10;

  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  overflow:hidden;
  font-family:var(--mono);
}

/* BLACK DEPTH (HARD, NO SOFTNESS) */
#crush{
  position:fixed; inset:0; z-index:0;
  pointer-events:none;
  opacity:var(--crush);
  background:
    radial-gradient(circle at 50% 55%, transparent 42%, #000 100%);
}
#vignette{
  position:fixed; inset:0; z-index:1;
  pointer-events:none;
  opacity:var(--vignette);
  background:
    radial-gradient(circle at 50% 55%, transparent 55%, #000 100%);
}
#grain{
  position:fixed; inset:0; z-index:2;
  pointer-events:none;
  opacity:var(--grain);
  mix-blend-mode:overlay;
  filter:url(#grainFilter);
}

/* FIELD */
#wrap{position:fixed; inset:0; z-index:3}
canvas{
  width:100%;
  height:100%;
  image-rendering:pixelated;
}

/* UI */
#ui{position:fixed; inset:0; z-index:5; pointer-events:none}
#warn{
  position:absolute; top:12px; left:12px;
  pointer-events:auto;
  font-size:10px;
  letter-spacing:.22em;
  padding:8px 10px;
  border:2px solid rgba(255,255,255,.2);
  color:#fff;
}
#enter{
  position:absolute; right:12px; bottom:12px;
  pointer-events:auto;
  font-size:11px;
  letter-spacing:.26em;
  padding:10px 12px;
  border:2px solid rgba(255,255,255,.2);
  color:#fff;
  text-decoration:none;
}
#enter:hover{background:#fff;color:#000}

textarea{display:none}
</style>
</head>

<body>

<svg width="0" height="0">
  <filter id="grainFilter">
    <feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" seed="12"/>
    <feColorMatrix type="matrix" values="
      1 0 0 0 0
      0 1 0 0 0
      0 0 1 0 0
      0 0 0 0.15 0"/>
  </filter>
</svg>

<div id="crush"></div>
<div id="vignette"></div>
<div id="grain"></div>

<div id="wrap">
  <canvas id="c"></canvas>
</div>

<div id="ui">
  <div id="warn">WARNING: HIGH CONTRAST</div>
  <a id="enter" href="https://ketadata.com/index11.html">[ENTER]</a>
</div>

<textarea id="payload"></textarea>

<script>
/* PURE WHITE CAPILLARY â€” NO GLOW */

const TARGET_URL="https://ketadata.com/index11.html";
const canvas=document.getElementById("c");
const ctx=canvas.getContext("2d",{alpha:true});

let w,h,dpr;
function resize(){
  dpr=window.devicePixelRatio||1;
  w=innerWidth; h=innerHeight;
  canvas.width=w*dpr; canvas.height=h*dpr;
  ctx.setTransform(dpr,0,0,dpr,0,0);
}
addEventListener("resize",resize); resize();

function braille(){
  return String.fromCharCode(0x2800+(Math.random()*256|0));
}

const payload=document.getElementById("payload");
payload.value="<html><body>KETADATA</body></html>";

function colW(){return 9.2}
function lh(){return 14}

let cols=Math.ceil(w/colW());
let drops=[...Array(cols)].map(()=>({
  y:Math.random()*h,
  v:1+Math.random()*2,
  p:Math.random()*Math.PI*2
}));

function tick(){
  ctx.fillStyle=`rgba(0,0,0,${0.035})`;
  ctx.fillRect(0,0,w,h);

  ctx.font=`900 12px ${getComputedStyle(document.body).fontFamily}`;
  ctx.textBaseline="top";
  ctx.fillStyle="#fff";
  ctx.shadowBlur=0;
  ctx.globalCompositeOperation="source-over";

  const t=performance.now()/1000;
  const step=2;

  for(let i=0;i<cols;i+=step){
    const d=drops[i];
    const x=i*colW();
    const y=d.y;

    const ch=braille();
    ctx.globalAlpha=1;
    ctx.fillText(ch,x,y);

    /* minimal thickness */
    ctx.fillText(ch,x+0.5,y);

    /* etch burn */
    ctx.globalCompositeOperation="difference";
    ctx.globalAlpha=0.75;
    ctx.fillText(ch,x+1,y);
    ctx.fillText(ch,x,y+1);
    ctx.globalCompositeOperation="source-over";

    d.y+=lh()*(d.v*(0.7+0.3*Math.sin(t+d.p)));

    if(d.y>h+60){
      d.y=-Math.random()*300;
      d.v=1+Math.random()*2.5;
      d.p=Math.random()*Math.PI*2;
    }
  }
  requestAnimationFrame(tick);
}
tick();

addEventListener("keydown",e=>{
  if(e.key==="Enter") location.href=TARGET_URL;
});
</script>

<!--
KETADATA SERIALIZATION
FILE_ID: BRAILLE_CAPILLARY_PUREWHITE
ROOM_ID: COVER
VERSION: v1
-->
</body>
</html>
