<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>KETADATA // NUMBER PAD MOCKUPS x4</title>
  <style>
    :root{
      --bg:#050607;
      --ink:#f1f2f6;
      --muted:rgba(241,242,246,.62);
      --line:rgba(241,242,246,.14);
      --line2:rgba(241,242,246,.22);
      --panel:rgba(10,10,12,.72);
      --panel2:rgba(10,10,12,.52);
      --shadow:rgba(0,0,0,.55);
      --r:12px;
      --gap:14px;

      --padW: 320px;
      --padH: 420px;

      /* “lights” */
      --on: rgba(255,255,255,.92);
      --off: rgba(255,255,255,.18);
      --halo: rgba(255,255,255,.16);
      --halo2: rgba(255,255,255,.08);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:
        radial-gradient(900px 600px at 50% 38%, rgba(255,255,255,.05), transparent 60%),
        linear-gradient(180deg, #050607 0%, #040405 100%);
      color:var(--ink);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      overflow:hidden;
    }

    .topbar{
      position:fixed; left:0; right:0; top:0;
      height:56px;
      display:flex; align-items:center; justify-content:space-between;
      padding:0 14px;
      border-bottom:1px solid var(--line);
      background:linear-gradient(180deg, rgba(10,10,12,.84), rgba(10,10,12,.62));
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      z-index:50;
    }
    .brand{
      display:flex; gap:10px; align-items:baseline;
      text-transform:uppercase;
      letter-spacing:.22em;
      font-weight:800;
      font-size:12px;
      user-select:none;
    }
    .brand .sub{
      font-weight:700;
      color:var(--muted);
      font-size:11px;
      letter-spacing:.18em;
    }
    .tabs{
      display:flex; gap:8px; align-items:center;
      user-select:none;
    }
    .tab{
      border:1px solid var(--line);
      background:rgba(255,255,255,.03);
      color:var(--muted);
      padding:9px 10px;
      border-radius:999px;
      cursor:pointer;
      font-size:11px;
      letter-spacing:.14em;
      text-transform:uppercase;
      transition:transform .12s ease, background .12s ease, border-color .12s ease, color .12s ease;
      white-space:nowrap;
    }
    .tab:hover{ transform: translateY(-1px); border-color:var(--line2); background:rgba(255,255,255,.06); color:rgba(255,255,255,.82);}
    .tab.active{
      color:rgba(0,0,0,.92);
      background:rgba(255,255,255,.86);
      border-color:rgba(255,255,255,.86);
    }

    .stage{
      position:fixed; inset:56px 0 0 0;
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:var(--gap);
      padding:var(--gap);
    }

    .canvas{
      border:1px solid var(--line);
      border-radius:var(--r);
      background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
      box-shadow: 0 20px 80px var(--shadow);
      position:relative;
      overflow:hidden;
    }

    .hud{
      border:1px solid var(--line);
      border-radius:var(--r);
      background:linear-gradient(180deg, rgba(10,10,12,.74), rgba(10,10,12,.52));
      box-shadow: 0 20px 80px var(--shadow);
      padding:12px;
      overflow:hidden;
    }

    .hud h3{
      margin:0 0 8px 0;
      font-size:11px;
      letter-spacing:.20em;
      text-transform:uppercase;
      color:rgba(255,255,255,.78);
      font-weight:800;
    }
    .hud .row{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      margin-bottom:10px;
    }
    .pill{
      border:1px solid var(--line);
      background:rgba(0,0,0,.22);
      padding:8px 10px;
      border-radius:999px;
      font-size:11px;
      letter-spacing:.12em;
      text-transform:uppercase;
      color:rgba(255,255,255,.72);
      cursor:pointer;
      transition:transform .12s ease, border-color .12s ease, background .12s ease;
    }
    .pill:hover{ transform: translateY(-1px); border-color:var(--line2); background:rgba(255,255,255,.05); }
    .kv{
      display:grid;
      grid-template-columns: 1fr;
      gap:8px;
      padding-top:6px;
      border-top:1px solid rgba(255,255,255,.08);
    }
    .kv .k{
      font-size:11px;
      letter-spacing:.12em;
      text-transform:uppercase;
      color:rgba(255,255,255,.45);
    }
    .kv .v{
      font-size:12px;
      line-height:1.35;
      color:rgba(255,255,255,.78);
    }
    .mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }

    /* ========== PAD COMMON ========== */
    .padWrap{
      position:absolute;
      inset:0;
      display:grid;
      place-items:center;
    }
    .pad{
      width:var(--padW);
      height:var(--padH);
      border-radius:var(--r);
      border:1px solid var(--line);
      background:linear-gradient(180deg, rgba(10,10,12,.74), rgba(10,10,12,.52));
      box-shadow:
        0 24px 90px rgba(0,0,0,.70),
        0 0 0 1px rgba(255,255,255,.05) inset;
      overflow:hidden;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .padTop{
      height:44px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:0 10px;
      border-bottom:1px solid rgba(255,255,255,.08);
      user-select:none;
    }
    .padTitle{
      font-size:11px;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:rgba(255,255,255,.78);
      font-weight:800;
    }
    .padReadout{
      font-size:11px;
      letter-spacing:.14em;
      text-transform:uppercase;
      color:rgba(255,255,255,.55);
      display:flex;
      gap:8px;
      align-items:center;
    }
    .badge{
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.20);
      padding:6px 8px;
      border-radius:999px;
      color:rgba(255,255,255,.70);
    }

    .padBody{
      height:calc(100% - 44px);
      padding:12px;
      display:grid;
      gap:12px;
    }

    /* buttons (base) */
    .keys{
      display:grid;
      gap:10px;
      user-select:none;
    }
    .key{
      border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.20);
      border-radius:12px;
      height:62px;
      display:grid;
      place-items:center;
      cursor:pointer;
      transition: transform .08s ease, border-color .12s ease, background .12s ease, box-shadow .12s ease;
      position:relative;
      overflow:hidden;
    }
    .key:hover{
      transform: translateY(-1px);
      border-color: rgba(255,255,255,.20);
      background:rgba(255,255,255,.04);
      box-shadow: 0 16px 50px rgba(0,0,0,.45);
    }
    .key:active{
      transform: translateY(0px) scale(.99);
    }
    .key .n{
      font-size:18px;
      letter-spacing:.22em;
      font-weight:900;
      color:rgba(255,255,255,.80);
      text-transform:uppercase;
    }
    .key .s{
      font-size:10px;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:rgba(255,255,255,.40);
      margin-top:6px;
    }

    /* “light” state */
    .key.on{
      border-color: rgba(255,255,255,.42);
      background:
        radial-gradient(220px 120px at 50% 40%, rgba(255,255,255,.10), transparent 60%),
        rgba(255,255,255,.06);
      box-shadow:
        0 0 0 1px rgba(255,255,255,.08) inset,
        0 18px 60px rgba(0,0,0,.55),
        0 0 32px var(--halo);
    }
    .key.on::after{
      content:"";
      position:absolute; inset:-30px;
      background: radial-gradient(circle at 50% 40%, rgba(255,255,255,.16), transparent 60%);
      opacity:.7;
      pointer-events:none;
    }

    /* visibility */
    .view{ display:none; }
    .view.active{ display:block; }

    /* ========== MOCKUP 1: CLASSIC 3x4 ========== */
    .m1 .keys{
      grid-template-columns: repeat(3, 1fr);
    }
    .m1 .key{
      height:64px;
    }
    .m1 .actions{
      display:flex; gap:10px;
    }
    .m1 .actionKey{
      flex:1;
      height:54px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.20);
      display:grid;
      place-items:center;
      cursor:pointer;
      transition: transform .08s ease, border-color .12s ease, background .12s ease;
      letter-spacing:.18em;
      text-transform:uppercase;
      font-size:11px;
      color:rgba(255,255,255,.70);
      font-weight:800;
    }
    .m1 .actionKey:hover{ transform: translateY(-1px); border-color: rgba(255,255,255,.20); background:rgba(255,255,255,.04); }
    .m1 .actionKey:active{ transform: translateY(0px) scale(.99); }

    /* ========== MOCKUP 2: FULL PANEL (LIGHTS CAN BE CLOSEST UI LAYER) ========== */
    .m2 .keys{
      grid-template-columns: repeat(4, 1fr);
      grid-auto-rows: 58px;
    }
    .m2 .key{
      height:auto;
      border-radius:10px;
    }
    .m2 .key .n{ font-size:14px; letter-spacing:.18em; }
    .m2 .key .s{ display:none; }

    /* ========== MOCKUP 3: RING DIAL (FURTHEST LAYER, “SYSTEM LIGHTS”) ========== */
    .m3 .padBody{
      grid-template-rows: 1fr auto;
      align-items:center;
    }
    .dial{
      position:relative;
      width:100%;
      height:100%;
      min-height:260px;
      display:grid;
      place-items:center;
    }
    .dialCore{
      width:170px; height:170px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.18);
      background: radial-gradient(circle at 50% 40%, rgba(255,255,255,.06), rgba(0,0,0,.18));
      box-shadow: 0 20px 70px rgba(0,0,0,.55), 0 0 0 1px rgba(255,255,255,.05) inset;
      display:grid;
      place-items:center;
      text-align:center;
      user-select:none;
    }
    .dialCore .big{
      font-size:28px;
      font-weight:900;
      letter-spacing:.18em;
      color:rgba(255,255,255,.88);
    }
    .dialCore .small{
      margin-top:8px;
      font-size:10px;
      letter-spacing:.22em;
      text-transform:uppercase;
      color:rgba(255,255,255,.45);
    }
    .ring{
      position:absolute;
      width:300px; height:300px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.10);
      background: radial-gradient(circle at 50% 40%, rgba(255,255,255,.03), transparent 60%);
      box-shadow: 0 0 0 1px rgba(255,255,255,.03) inset;
    }
    .dialKey{
      position:absolute;
      width:56px; height:56px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.22);
      display:grid;
      place-items:center;
      cursor:pointer;
      transition: transform .10s ease, border-color .12s ease, background .12s ease, box-shadow .12s ease;
      user-select:none;
    }
    .dialKey:hover{ transform: translateY(-1px) scale(1.02); border-color: rgba(255,255,255,.24); background:rgba(255,255,255,.04); box-shadow: 0 18px 60px rgba(0,0,0,.55); }
    .dialKey:active{ transform: translateY(0px) scale(.99); }
    .dialKey .n{
      font-size:12px;
      font-weight:900;
      letter-spacing:.12em;
      color:rgba(255,255,255,.78);
    }
    .dialKey.on{
      border-color: rgba(255,255,255,.42);
      box-shadow: 0 0 30px var(--halo2), 0 18px 60px rgba(0,0,0,.55);
      background: radial-gradient(circle at 50% 40%, rgba(255,255,255,.10), rgba(255,255,255,.02));
    }
    .m3 .strip{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:10px;
    }
    .m3 .strip .key{ height:52px; }
    .m3 .strip .key .n{ font-size:12px; letter-spacing:.18em; }

    /* ========== MOCKUP 4: HORIZONTAL NUM STRIP (FAST ROOM SWITCH) ========== */
    .m4 .pad{
      width: min(560px, calc(100% - 40px));
      height: 190px;
    }
    .m4 .padBody{
      grid-template-rows: auto 1fr;
    }
    .m4 .keys{
      grid-template-columns: repeat(8, 1fr);
      grid-auto-rows: 56px;
    }
    .m4 .key{
      height:auto;
      border-radius:12px;
    }
    .m4 .key .n{
      font-size:14px;
      letter-spacing:.18em;
    }
    .m4 .metaRow{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      padding-top:6px;
      border-top:1px solid rgba(255,255,255,.08);
      color:rgba(255,255,255,.55);
      font-size:11px;
      letter-spacing:.14em;
      text-transform:uppercase;
      user-select:none;
    }

    /* small help (bottom left) */
    .foot{
      position:fixed; left:14px; bottom:12px;
      font-size:10px;
      letter-spacing:.22em;
      text-transform:uppercase;
      color:rgba(255,255,255,.24);
      user-select:none;
    }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div>KETADATA</div>
      <div class="sub">NUMBER PAD MOCKUPS x4</div>
    </div>
    <div class="tabs">
      <button class="tab active" data-view="v1">MOCKUP 01</button>
      <button class="tab" data-view="v2">MOCKUP 02</button>
      <button class="tab" data-view="v3">MOCKUP 03</button>
      <button class="tab" data-view="v4">MOCKUP 04</button>
    </div>
  </header>

  <main class="stage">
    <section class="canvas">
      <!-- MOCKUP 01 -->
      <div class="view active m1" id="v1">
        <div class="padWrap">
          <div class="pad">
            <div class="padTop">
              <div class="padTitle">SYSTEM NUMPAD</div>
              <div class="padReadout">
                <span class="badge mono" id="readout1">ROOM: 01</span>
                <span class="badge mono" id="mode1">NULL</span>
              </div>
            </div>
            <div class="padBody">
              <div class="keys" id="keys1"></div>
              <div class="actions">
                <div class="actionKey" id="m1Back">BACK</div>
                <div class="actionKey" id="m1Enter">ENTER</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- MOCKUP 02 -->
      <div class="view m2" id="v2">
        <div class="padWrap">
          <div class="pad">
            <div class="padTop">
              <div class="padTitle">LIGHT PANEL</div>
              <div class="padReadout">
                <span class="badge mono" id="readout2">SELECT: 01</span>
                <span class="badge mono">SNAP</span>
              </div>
            </div>
            <div class="padBody">
              <div class="keys" id="keys2"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- MOCKUP 03 -->
      <div class="view m3" id="v3">
        <div class="padWrap">
          <div class="pad">
            <div class="padTop">
              <div class="padTitle">RING DIAL</div>
              <div class="padReadout">
                <span class="badge mono" id="readout3">FOCUS: 01</span>
                <span class="badge mono" id="mode3">FAR</span>
              </div>
            </div>
            <div class="padBody">
              <div class="dial">
                <div class="ring"></div>
                <div class="dialCore">
                  <div class="big mono" id="dialBig">01</div>
                  <div class="small">ROOM SELECT</div>
                </div>
                <!-- dial keys injected -->
              </div>
              <div class="strip" id="strip3"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- MOCKUP 04 -->
      <div class="view m4" id="v4">
        <div class="padWrap">
          <div class="pad">
            <div class="padTop">
              <div class="padTitle">FAST STRIP</div>
              <div class="padReadout">
                <span class="badge mono" id="readout4">ROOM: 01</span>
                <span class="badge mono">INLINE</span>
              </div>
            </div>
            <div class="padBody">
              <div class="keys" id="keys4"></div>
              <div class="metaRow">
                <div>SHIFT = NO SNAP</div>
                <div class="mono">1–16</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <aside class="hud">
      <h3>INTEGRATION NOTES</h3>
      <div class="row">
        <div class="pill" id="toggleGlow">TOGGLE GLOW</div>
        <div class="pill" id="toggleBig">TOGGLE BIG PAD</div>
        <div class="pill" id="toggleNull">TOGGLE NULL</div>
      </div>
      <div class="kv">
        <div>
          <div class="k">Intent</div>
          <div class="v">
            Replace tiring room links with a <span class="mono">NUMPAD</span> primitive.
            These are four distinct ergonomics: <span class="mono">3x4</span>, <span class="mono">4x4 lights</span>, <span class="mono">ring dial</span>, <span class="mono">strip</span>.
          </div>
        </div>
        <div>
          <div class="k">Binding (recommended)</div>
          <div class="v">
            Map <span class="mono">1–16</span> → room ids. Keep it universal: the numpad is a selector, not navigation chrome.
            Emit event: <span class="mono">KETA_ROOM_SELECT(id)</span>.
          </div>
        </div>
        <div>
          <div class="k">Compounding recommendation</div>
          <div class="v">
            Pick ONE layout as default (I’d choose <span class="mono">MOCKUP 02</span>).
            Then lock its behavior into Shell Kernel as a primitive: stable, fast, no drift.
          </div>
        </div>
      </div>
    </aside>
  </main>

  <div class="foot">KETADATA // NUMPAD MOCKUPS // AE</div>

  <script>
    // Minimal behavior: selection highlight + readout.
    // You will wire selection → room switching in Shell.

    const tabs = [...document.querySelectorAll('.tab')];
    const views = [...document.querySelectorAll('.view')];

    function showView(id){
      views.forEach(v => v.classList.toggle('active', v.id === id));
      tabs.forEach(t => t.classList.toggle('active', t.dataset.view === id));
    }
    tabs.forEach(t => t.addEventListener('click', ()=> showView(t.dataset.view)));

    let selected = 1;

    function pad(n){ return String(n).padStart(2,'0'); }

    function setSelected(n){
      selected = n;
      // readouts
      const r1 = document.getElementById('readout1');
      const r2 = document.getElementById('readout2');
      const r3 = document.getElementById('readout3');
      const r4 = document.getElementById('readout4');
      const dialBig = document.getElementById('dialBig');

      if(r1) r1.textContent = `ROOM: ${pad(n)}`;
      if(r2) r2.textContent = `SELECT: ${pad(n)}`;
      if(r3) r3.textContent = `FOCUS: ${pad(n)}`;
      if(r4) r4.textContent = `ROOM: ${pad(n)}`;
      if(dialBig) dialBig.textContent = pad(n);

      // keys highlight
      document.querySelectorAll('[data-k]').forEach(el=>{
        el.classList.toggle('on', Number(el.dataset.k) === n);
      });
    }

    // ===== MOCKUP 01: 3x4 + 4 extras (13-16) via long-press style: keep simple => 16 keys in a 4-row
    function buildKeys1(){
      const host = document.getElementById('keys1');
      host.innerHTML = '';
      // 12 grid + a 4th row for 13-16 (still 3 columns; last row becomes 13,14,15; 16 handled by ENTER)
      const order = [1,2,3,4,5,6,7,8,9,10,11,12];
      order.forEach(n => host.appendChild(keyEl(n, `R${pad(n)}`)));
    }

    // ===== MOCKUP 02: 4x4 lights (1–16)
    function buildKeys2(){
      const host = document.getElementById('keys2');
      host.innerHTML = '';
      for(let n=1;n<=16;n++){
        host.appendChild(keyEl(n));
      }
    }

    // ===== MOCKUP 03: ring dial 1–12 around, 13–16 in strip
    function buildDial3(){
      const dial = document.querySelector('#v3 .dial');
      // place 12 keys around ring
      const cx = 0.5, cy = 0.5;
      const R = 150;
      for(let i=0;i<12;i++){
        const n = i+1;
        const a = (-90 + i*(360/12)) * Math.PI/180;
        const x = 50 + (R*Math.cos(a))/3; // % feel
        const y = 50 + (R*Math.sin(a))/3;
        const el = document.createElement('div');
        el.className = 'dialKey';
        el.dataset.k = String(n);
        el.style.left = `calc(${x}% - 28px)`;
        el.style.top  = `calc(${y}% - 28px)`;
        el.innerHTML = `<div class="n mono">${pad(n)}</div>`;
        el.addEventListener('click', ()=> setSelected(n));
        dial.appendChild(el);
      }

      const strip = document.getElementById('strip3');
      strip.innerHTML = '';
      for(let n=13;n<=16;n++){
        const k = keyEl(n);
        k.style.height = '52px';
        strip.appendChild(k);
      }
    }

    // ===== MOCKUP 04: 8-wide strip, two rows (1–16)
    function buildKeys4(){
      const host = document.getElementById('keys4');
      host.innerHTML = '';
      for(let n=1;n<=16;n++){
        const k = keyEl(n);
        k.style.borderRadius = '14px';
        host.appendChild(k);
      }
    }

    function keyEl(n, label){
      const el = document.createElement('div');
      el.className = 'key';
      el.dataset.k = String(n);
      el.innerHTML = `
        <div style="display:grid; place-items:center;">
          <div class="n mono">${pad(n)}</div>
          <div class="s">${label || 'ROOM'}</div>
        </div>
      `;
      el.addEventListener('click', ()=> setSelected(n));
      return el;
    }

    // extras for mockup 1: back/enter behavior as “select prev/confirm”
    document.getElementById('m1Back').addEventListener('click', ()=>{
      setSelected(Math.max(1, selected-1));
    });
    document.getElementById('m1Enter').addEventListener('click', ()=>{
      // placeholder: this is where Shell would jump to room
      flash(`ENTER ROOM ${pad(selected)}`);
    });

    // HUD toggles (pure mock)
    let glow = true;
    document.getElementById('toggleGlow').addEventListener('click', ()=>{
      glow = !glow;
      document.documentElement.style.setProperty('--halo', glow ? 'rgba(255,255,255,.16)' : 'rgba(255,255,255,0)');
      document.documentElement.style.setProperty('--halo2', glow ? 'rgba(255,255,255,.08)' : 'rgba(255,255,255,0)');
      flash(glow ? 'GLOW ON' : 'GLOW OFF');
    });

    let big = false;
    document.getElementById('toggleBig').addEventListener('click', ()=>{
      big = !big;
      document.documentElement.style.setProperty('--padW', big ? '420px' : '320px');
      document.documentElement.style.setProperty('--padH', big ? '520px' : '420px');
      flash(big ? 'PAD BIG' : 'PAD NORMAL');
    });

    let isNull = true;
    const mode1 = document.getElementById('mode1');
    const mode3 = document.getElementById('mode3');
    document.getElementById('toggleNull').addEventListener('click', ()=>{
      isNull = !isNull;
      if(mode1) mode1.textContent = isNull ? 'NULL' : 'CONSTRAINED';
      if(mode3) mode3.textContent = isNull ? 'FAR' : 'CLOSE';
      flash(isNull ? 'NULL' : 'CONSTRAINTS');
    });

    function flash(text){
      const el = document.createElement('div');
      el.style.position='fixed';
      el.style.left='50%';
      el.style.top='74px';
      el.style.transform='translateX(-50%)';
      el.style.border='1px solid rgba(255,255,255,.16)';
      el.style.background='rgba(0,0,0,.45)';
      el.style.backdropFilter='blur(10px)';
      el.style.webkitBackdropFilter='blur(10px)';
      el.style.padding='10px 12px';
      el.style.borderRadius='999px';
      el.style.fontSize='11px';
      el.style.letterSpacing='.18em';
      el.style.textTransform='uppercase';
      el.style.color='rgba(255,255,255,.72)';
      el.style.zIndex='999';
      el.textContent = text;
      document.body.appendChild(el);
      setTimeout(()=>{ el.style.opacity='0'; el.style.transition='opacity .18s ease'; }, 650);
      setTimeout(()=> el.remove(), 900);
    }

    // keyboard direct select 1–16 (two-digit entry: 1 then 6 => 16)
    let buf = '';
    let bufTO = null;

    window.addEventListener('keydown', (e)=>{
      if(e.target && (e.target.tagName === 'TEXTAREA' || e.target.tagName === 'INPUT')) return;

      const k = e.key;
      if(/^\d$/.test(k)){
        clearTimeout(bufTO);
        buf += k;
        if(buf.length === 1){
          const n = Number(buf);
          if(n >= 1 && n <= 9) setSelected(n);
          bufTO = setTimeout(()=> buf = '', 650);
        }else if(buf.length === 2){
          const n = Number(buf);
          if(n >= 10 && n <= 16) setSelected(n);
          buf = '';
        }else{
          buf = '';
        }
      }
      if(k === 'Escape'){
        buf = '';
      }
      if(k === 'Enter'){
        flash(`ENTER ROOM ${pad(selected)}`);
      }
    });

    // init
    buildKeys1();
    buildKeys2();
    buildDial3();
    buildKeys4();
    setSelected(1);
  </script>

  <!-- KETADATA SERIALIZATION STAMP (RULE) -->
  <!-- AE/EE/WB: AE — FILE_ID:KETA_NUMPAD_MOCKUPS_4 — ROOM_ID:NULL — VERSION:v1 — UPDATED_AT:2025-12-26 — CHANGELOG:INIT_4_NUMPAD_LAYOUTS+READOUT+HIGHLIGHT+KEYBIND_1_16 -->
</body>
</html>
