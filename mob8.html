<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
<title>KETADATA // MOB7</title>

<style>
  :root{
    --bg:#000;
    --fg:rgba(255,255,255,.92);
    --muted:rgba(255,255,255,.34);
    --muted2:rgba(255,255,255,.18);
    --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
    --sans: Arial, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  }
  *{box-sizing:border-box}
  html,body{height:100%; margin:0}
  body{
    background:var(--bg);
    color:var(--fg);
    font-family:var(--sans);
    overflow:hidden;
    -webkit-tap-highlight-color: transparent;
    user-select:none; -webkit-user-select:none;
    touch-action: manipulation;
  }

  /* Center rig */
  #root{
    position:fixed; inset:0;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    padding: calc(14px + env(safe-area-inset-top)) calc(14px + env(safe-area-inset-right))
             calc(14px + env(safe-area-inset-bottom)) calc(14px + env(safe-area-inset-left));
  }

  #wordWrap{
    width:min(96vw, 860px);
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    gap:10px;
  }

  /* Word (fixed cells) */
  #ketaWord{
    width:100%;
    display:inline-flex;
    align-items:baseline;
    justify-content:center;
    font-weight:800;
    letter-spacing:0.02em;
    line-height:1;
    font-size:clamp(2.25rem, 12vw, 4.8rem);
    cursor:pointer;
    -webkit-tap-highlight-color: transparent;
  }
  #ketaWord .cell{
    flex:1 1 0;
    min-width:0;
    display:flex;
    justify-content:center;
    align-items:baseline;
  }
  #ketaWord .ch{
    width:1ch;
    display:inline-block;
    text-align:center;
    line-height:1;
  }

  /* SINGLE LINE SUBTITLE */
  .subtitle{
    width:100%;
    text-align:center;
    white-space:nowrap;
    font-weight:600;
    letter-spacing:0.28em;
    text-transform:uppercase;
    color:var(--muted);
    font-size:clamp(0.55rem, 2.6vw, 0.9rem);
    line-height:1;
  }

  /* warning (small, low alpha) */
  #warning{
    position:fixed;
    left:50%;
    transform:translateX(-50%);
    bottom: calc(58px + env(safe-area-inset-bottom));
    width:min(92vw, 860px);
    text-align:center;
    color:var(--muted2);
    font-size:0.78rem;
    letter-spacing:0.18em;
    text-transform:uppercase;
    line-height:1.25;
    pointer-events:none;
  }

  /* Isolated slash (no animation) */
  #isolatedSlash{
    position:fixed;
    left:50%;
    top:50%;
    transform:translate(-50%,-50%);
    color:#fff;
    font-family:var(--sans);
    font-weight:800;
    line-height:1;
    opacity:0;
    z-index:999;
    pointer-events:none;
  }

  /* hard blackout */
  #blackout{
    position:fixed; inset:0;
    background:#000;
    opacity:0;
    z-index:998;
    pointer-events:none;
  }
  body.entering #wordWrap,
  body.entering #warning,
  body.entering .meow-ticker{
    opacity:0;
    transition:opacity 120ms linear;
  }
  body.blacked #blackout{ opacity:1; transition:opacity 80ms linear; }

  /* MEOW TICKER (VISIBLE; sits at bottom) */
  .meow-ticker{
    position:fixed;
    left:0;
    bottom: calc(10px + env(safe-area-inset-bottom));
    width:100%;
    background:none;
    color:rgba(255,255,255,.72);
    padding:10px 0;
    overflow:hidden;
    white-space:nowrap;
    font-family: Arial, Helvetica, sans-serif;
    font-size:14px;
    font-weight:700;
    letter-spacing:2px;
    z-index:10;
    pointer-events:none;
    border-top:none !important;
    box-shadow:none !important;
    outline:none !important;
    opacity:1;
  }
  .meow-content{
    display:inline-block;
    animation:ticker 26s linear infinite;
    padding-left:16px;
  }
  @keyframes ticker{
    0%{transform:translateX(0);}
    100%{transform:translateX(-100%);}
  }

  /* strobe state: flip ticker contrast per frame via JS; keep baseline here */
  body.strobing .meow-ticker{ opacity:1; }

</style>
</head>

<body>
  <div id="blackout"></div>
  <div id="isolatedSlash">/</div>

  <div id="root">
    <div id="wordWrap">
      <div id="ketaWord" aria-label="KETADATA"></div>
      <div class="subtitle">ENDLESS INTER /// FACE ASSEMBLAGE</div>
    </div>
  </div>

  <div id="warning">
    B A D&nbsp;&nbsp;G A T E W A Y<br/>
    MAY TRIGGER SEIZURES IN PHOTOSENSITIVE INDIVIDUALS
  </div>

  <div class="meow-ticker" aria-hidden="true">
    <div class="meow-content">
      MEOW — MIAOU — MIAU — MIAO — MIAUW — MJAU — MJAV — MIAV — MIJAV — MIJAU — MIYAV — MIYAO — MIAAO — MIAOO — MIAOOO — МЯУ — МЯУУ — MYAU — МЬЯУ — МЯУМ — НЯВ — МИЙАУ — МИЙАВ — NIAOU — NYA — NYAA — NYAN — にゃー — ニャー — にゃお — にゃーー — 야옹 — 냐아옹 — 냥 — 喵 — 喵喵 —
      MEOW — MIAOU — MIAU — MIAO — MIAUW — MJAU — MJAV — MIAV — MIJAV — MIJAU — MIYAV — MIYAO — MIAAO — MIAOO — MIAOOO — МЯУ — МЯУУ — MYAU — МЬЯУ — МЯУM — НЯВ — МИЙАУ — МИЙАВ — NIAOU — NYA — NYAA — NYAN — にゃー — ニャー — にゃお — にゃーー — 야옹 — 냐아옹 — 냥 — 喵 — 喵喵 —
    </div>
    <div class="meow-content">
      MEOW — MIAOU — MIAU — MIAO — MIAUW — MJAU — MJAV — MIAV — MIJAV — MIJAU — MIYAV — MIYAO — MIAAO — MIAOO — MIAOOO — МЯУ — МЯУУ — MYAU — МЬЯУ — МЯУМ — НЯВ — МИЙАУ — МИЙАВ — NIAOU — NYA — NYAA — NYAN — にゃー — ニャー — にゃお — にゃーー — 야옹 — 냐아옹 — 냥 — 喵 — 喵喵 —
      MEOW — MIAOU — MIAU — MIAO — MIAUW — MJAU — MJAV — MIAV — MIJAV — MIJAU — MIYAV — MIYAO — MIAAO — MIAOO — MIAOOO — МЯУ — МЯУУ — MYAU — МЬЯУ — МЯУM — НЯВ — МИЙАУ — МИЙАВ — NIAOU — NYA — NYAA — NYAN — にゃー — ニャー — にゃお — にゃーー — 야옹 — 냐아옹 — 냥 — 喵 — 喵喵 —
    </div>
  </div>

<script>
  const ketaWord = document.getElementById("ketaWord");
  const isolated = document.getElementById("isolatedSlash");
  const blackout = document.getElementById("blackout");
  const tickerEl = document.querySelector(".meow-ticker");

  const word = "KETADATA";
  const letters = [];

  // ROUTE: mob7 -> base (mobile)
  const BASE_TARGET = "base_mobile.html"; // change to your mobile base filename

  let entering = false;
  let introDone = false;
  let hoverIdx = Math.floor(word.length / 2);

  // Build fixed-width cells (start empty for intro)
  for (let i = 0; i < word.length; i++) {
    const cell = document.createElement("span");
    cell.className = "cell";

    const s = document.createElement("span");
    s.className = "ch";
    s.textContent = "";
    s.dataset.orig = word[i];

    // desktop hover preview (if mob7 ever opened on desktop)
    s.addEventListener("mouseenter", () => {
      if (!introDone) return;
      if (ketaWord.dataset.locked === "1") return;
      hoverIdx = i;
      s.textContent = "/";
    });

    s.addEventListener("mouseleave", () => {
      if (!introDone) return;
      if (ketaWord.dataset.locked === "1") return;
      s.textContent = s.dataset.orig;
    });

    cell.appendChild(s);
    ketaWord.appendChild(cell);
    letters.push(s);
  }

  function clamp(n,a,b){ return Math.max(a, Math.min(b, n)); }

  function renderOneSlashAt(idx){
    letters.forEach((s, i) => { s.textContent = (i === idx) ? "/" : s.dataset.orig; });
  }

  // Touch-drag chooses index and previews one "/"
  function setIdxFromClientX(clientX){
    const rect = ketaWord.getBoundingClientRect();
    const rel = (clientX - rect.left) / Math.max(1, rect.width);
    const idx = Math.round(rel * (letters.length - 1));
    hoverIdx = clamp(idx, 0, letters.length - 1);
    if (!introDone) return;
    if (ketaWord.dataset.locked === "1") return;
    renderOneSlashAt(hoverIdx);
  }

  ketaWord.addEventListener("pointerdown", (ev) => {
    if (entering) return;
    if (ev.pointerType === "touch") setIdxFromClientX(ev.clientX);
  }, {passive:true});

  ketaWord.addEventListener("pointermove", (ev) => {
    if (ev.pointerType !== "touch") return;
    if (entering) return;
    setIdxFromClientX(ev.clientX);
  }, {passive:true});

  function placeIsolatedAtLetter(idx){
    const el = letters[clamp(idx, 0, letters.length - 1)];
    const r = el.getBoundingClientRect();
    const cx = r.left + r.width / 2;
    const cy = r.top + r.height / 2;

    isolated.style.left = cx + "px";
    isolated.style.top  = cy + "px";

    const fs = parseFloat(getComputedStyle(ketaWord).fontSize) || 72;
    isolated.style.fontSize = Math.max(56, fs) + "px";
  }

  function enter(){
    if (!introDone) return;
    if (entering) return;
    entering = true;

    // lock all slashes
    ketaWord.dataset.locked = "1";
    letters.forEach(s => (s.textContent = "/"));

    // isolate chosen slash
    placeIsolatedAtLetter(hoverIdx);

    document.body.classList.add("entering");
    isolated.style.opacity = "1";

    const SLASH_HOLD_MS = 850;
    const BLACK_HOLD_MS = 650;

    setTimeout(() => {
      isolated.style.opacity = "0";
      document.body.classList.add("blacked");
    }, SLASH_HOLD_MS);

    setTimeout(() => {
      location.replace(BASE_TARGET);
    }, SLASH_HOLD_MS + BLACK_HOLD_MS);
  }

  // tap to enter
  ketaWord.addEventListener("click", enter);

  // INTRO: moving single glyph -> KETADATA -> //////// -> KETADATA (no jitter frames)
  function intro(){
    const STEP_MS = 70;
    const HOLD_WORD_MS = 220;
    const HOLD_SLASH_MS = 220;
    const END_SETTLE_MS = 120;

    letters.forEach(s => (s.textContent = ""));

    let i = 0;
    let active = 0;

    const tick = () => {
      if (i >= letters.length){
        letters.forEach(s => (s.textContent = s.dataset.orig));

        setTimeout(() => {
          letters.forEach(s => (s.textContent = "/"));

          setTimeout(() => {
            letters.forEach(s => (s.textContent = s.dataset.orig));

            setTimeout(() => {
              introDone = true;
              hoverIdx = Math.floor(letters.length / 2);
            }, END_SETTLE_MS);

          }, HOLD_SLASH_MS);

        }, HOLD_WORD_MS);

        return;
      }

      letters.forEach((s, j) => {
        s.textContent = (j === active) ? word[i] : "";
      });

      i++;
      active = (active + 1) % letters.length;
      setTimeout(tick, STEP_MS);
    };

    tick();
  }

  intro();

  // STROBE: SPACE + DOUBLE TAP, ticker flips contrast per frame
  let isFlashing = false;
  let flashInterval = null;

  function applyStrobeFrame(isWhite){
    document.body.style.backgroundColor = isWhite ? "white" : "black";
    if (tickerEl) tickerEl.style.color = isWhite ? "black" : "white";
  }

  function startStrobe(){
    if (flashInterval) clearInterval(flashInterval);
    document.body.classList.add("strobing");

    let white = false;
    applyStrobeFrame(white);

    flashInterval = setInterval(() => {
      white = !white;
      applyStrobeFrame(white);
    }, 50);
  }

  function stopStrobe(){
    if (flashInterval) clearInterval(flashInterval);
    flashInterval = null;

    document.body.classList.remove("strobing");
    document.body.style.backgroundColor = "black";
    if (tickerEl) tickerEl.style.color = "rgba(255,255,255,.72)";
  }

  function toggleStrobe(){
    if (isFlashing) stopStrobe(); else startStrobe();
    isFlashing = !isFlashing;
  }

  // SPACE toggles (if hardware keyboard)
  document.addEventListener("keydown", (event) => {
    if (event.key === " " || event.code === "Space") {
      event.preventDefault();
      toggleStrobe();
    }
  });

  // Double tap toggles strobe (mobile)
  let lastTapAt = 0;
  const DBL_MS = 280;

  document.addEventListener("pointerdown", (ev) => {
    if (ev.pointerType !== "touch") return;
    const now = performance.now();
    if (now - lastTapAt < DBL_MS){
      ev.preventDefault();
      toggleStrobe();
      lastTapAt = 0;
    } else {
      lastTapAt = now;
    }
  }, {passive:false});
</script>

<!--
AE:
- MOBILE LANDING (MOB7) with visible MEOW ticker at bottom.
- SINGLE-LINE SUBTITLE.
- INTRO: moving glyph -> KETADATA -> //////// -> KETADATA (no jitter).
- DOUBLE TAP toggles strobe; strobe flips ticker contrast per frame.

EE:
- Touch-drag chooses slash position preview.
- Tap enters: lock slashes -> isolate -> black -> replace() to BASE_TARGET.

WB:
FILE_ID: mob7
ROOM_ID: ENTRY_MOBILE
VERSION: v1.0.0
UPDATED_AT: 2026-01-15
CHANGELOG:
- New mobile landing built for phone path.
-->

</body>
</html>
