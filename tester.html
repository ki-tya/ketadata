<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>KETADATA — STYLEBOOK + SHOWCASE</title>

<style>
  :root{
    --void:#000000;
    --mind:#ffffff;

    /* aggressive laser red (less muted) */
    --laser:#ff0000;
    --laser2:#ff1a00;

    /* darkroom red (rich, dried-blood adjacent) */
    --darkroom:#5a0a0a;
    --darkroom-wet:#6e0f0f;
    --darkroom-shadow:#2b0505;

    /* ultraviolet aura */
    --uv:#7a00ff;

    --hair: rgba(255,255,255,.12);
    --hair2: rgba(255,255,255,.08);

    /* link defaults you requested */
    --linkRest:#666666;
    --linkHover:#ffffff;

    /* base fonts (we override via JS) */
    --nameFont: Arial, sans-serif;
    --uiFont: Arial, sans-serif;
    --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  }

  *{ box-sizing:border-box; }
  html, body{ height:100%; }
  html{ scroll-behavior:smooth; }

  body{
    margin:0;
    background:var(--void);
    color:var(--mind);
    font-family: var(--uiFont);
    overflow-x:hidden;

    /* snap landing -> directory */
    scroll-snap-type: y mandatory;
    scroll-snap-stop: always;
  }

  /* links as [ALLCAPS] */
  a.klink{
    color: var(--linkRest);
    text-decoration:none;
    font-weight:800;
    letter-spacing:.14em;
    text-transform: uppercase;
    transition: color .12s linear, background .12s linear;
    font-family: var(--uiFont);
  }
  a.klink::before{ content:"["; }
  a.klink::after{ content:"]"; }
  a.klink:hover{
    color: var(--linkHover);
  }
  a.klink:focus{
    outline: 1px solid rgba(255,255,255,.4);
    outline-offset: 3px;
  }

  /* =========================
     SECTION SIZING
  ========================== */
  section{
    height:100vh;
    scroll-snap-align:start;
    position:relative;
    overflow:hidden;
  }

  /* =========================
     LANDING (BIG)
  ========================== */
  .landing{
    display:flex;
    align-items:center;
    justify-content:center;
    padding: 0 4vw;
    text-align:center;
  }

  .titleWrap{
    display:flex;
    flex-direction:column;
    align-items:center;
    gap: 22px;
  }

  .title{
    font-family: var(--nameFont);
    font-weight: 900;
    letter-spacing: .06em;
    text-transform: uppercase;
    line-height: .92;
    user-select:none;
    white-space:nowrap;

    /* BIG */
    font-size: clamp(88px, 12.5vw, 22rem);
  }

  .slashes{
    font-family: var(--mono);
    font-weight: 900;
    letter-spacing: .28em;
    margin: 0 .16em;
    display:inline-block;
    opacity:.98;
  }

  .navRow{
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    gap: 2.2vw;
    row-gap: 12px;
  }

  .warning{
    margin-top: 2vh;
    font-family: var(--uiFont);
    letter-spacing:.18em;
    text-transform: uppercase;
    color:#777;
    font-weight:700;
    font-size: 14px; /* big site, not 11 */
    line-height:1.5;
  }
  .warning b{ color: var(--laser); font-weight:900; }

  .hint{
    position:absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    font-family: var(--mono);
    font-size: 12px;
    letter-spacing: .18em;
    text-transform: uppercase;
    color: rgba(255,255,255,.55);
    display:flex;
    align-items:center;
    gap: 10px;
    user-select:none;
  }

  .arrow{
    display:inline-block;
    opacity:.75;
    animation: bob 1.4s ease-in-out infinite;
  }
  @keyframes bob{
    0%,100%{ transform: translateY(0); }
    50%{ transform: translateY(6px); }
  }

  /* =========================
     MEOW ticker: hidden unless flashing
  ========================== */
  .meow{
    position:fixed;
    bottom: 120px;
    left:0;
    width:100%;
    padding: 12px 0;
    overflow:hidden;
    white-space:nowrap;
    z-index: 1000;

    opacity:0;
    pointer-events:none;
    transition: opacity .12s linear;
    mix-blend-mode: screen;

    font-family: var(--uiFont);
    font-weight: 900;
    letter-spacing: .22em;
    text-transform: uppercase;
    font-size: 16px; /* big site */
    color: rgba(255,255,255,.9);
  }
  body.flashing .meow{ opacity:1; }

  .meowTrack{
    display:inline-block;
    animation: ticker 28s linear infinite;
    will-change: transform;
  }
  @keyframes ticker{
    0%{ transform: translateX(0); }
    100%{ transform: translateX(-100%); }
  }

  /* =========================
     DIRECTORY (BIG SITE, ONE SCREEN)
  ========================== */
  .directory{
    border-top: 1px solid var(--hair);
    padding: 18px 18px 18px;
    display:flex;
    align-items:center;
    justify-content:center;
  }

  .dirWrap{
    width: min(1320px, 94vw);
    height: min(90vh, 980px);
    display:flex;
    flex-direction:column;
    gap: 14px;
  }

  .dirTop{
    display:flex;
    align-items:flex-start;
    justify-content:space-between;
    gap: 16px;
    padding-bottom: 12px;
    border-bottom: 1px solid var(--hair);
  }

  .brandline{
    display:flex;
    align-items:baseline;
    gap: 10px;
    white-space:nowrap;
  }

  .brandline .k,
  .brandline .d{
    font-family: var(--uiFont);
    font-weight: 900;
    letter-spacing: .18em;
    text-transform: uppercase;
    font-size: 16px; /* big */
  }
  .brandline .slashes2{
    font-family: var(--mono);
    font-weight: 900;
    letter-spacing: .28em;
    opacity:.95;
    font-size: 16px;
  }

  .subline{
    margin-top: 6px;
    font-family: var(--mono);
    color: rgba(255,255,255,.55);
    letter-spacing: .14em;
    text-transform: uppercase;
    font-size: 12px;
  }

  .quickLinks{
    display:flex;
    flex-wrap:wrap;
    justify-content:flex-end;
    gap: 12px;
    row-gap: 10px;
    max-width: 52%;
  }

  .controls{
    display:flex;
    flex-wrap:wrap;
    gap: 12px;
    align-items:center;
    justify-content:space-between;
  }

  .searchbox{
    flex: 1 1 520px;
    display:flex;
    align-items:center;
    gap: 12px;
    padding: 12px 14px;
    border: 1px solid var(--hair);
    border-radius: 12px;
    background: rgba(255,255,255,.02);
    min-width: 320px;
  }
  .searchbox span{
    font-family: var(--mono);
    opacity:.7;
    letter-spacing:.14em;
    font-size: 12px;
    white-space:nowrap;
  }
  #q{
    width:100%;
    border:none;
    outline:none;
    background:transparent;
    color: rgba(255,255,255,.92);
    font-family: var(--mono);
    font-size: 12px;
    letter-spacing: .12em;
  }

  .filters{
    display:flex;
    flex-wrap:wrap;
    justify-content:flex-end;
    gap: 10px;
  }

  .chip{
    display:inline-flex;
    align-items:center;
    gap: 8px;
    padding: 10px 12px;
    border: 1px solid var(--hair);
    border-radius: 12px;
    background: rgba(255,255,255,.02);
    cursor:pointer;
    user-select:none;
    font-family: var(--mono);
    letter-spacing: .12em;
    font-size: 12px;
    color: rgba(255,255,255,.55);
    transition: border-color .12s linear, background .12s linear, color .12s linear;
  }
  .chip[data-active="true"]{
    border-color: rgba(255,255,255,.35);
    color: rgba(255,255,255,.95);
    background: rgba(255,255,255,.04);
  }
  .dot{
    width: 6px; height: 6px;
    border-radius: 50%;
    background: rgba(255,255,255,.25);
  }
  .chip[data-active="true"] .dot{ background: var(--laser); }

  .grid{
    flex: 1 1 auto;
    min-height:0;
    overflow:auto;
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap: 14px;
    padding-bottom: 8px;
  }
  @media (max-width: 980px){
    .grid{ grid-template-columns: 1fr; }
    .quickLinks{ max-width: 100%; justify-content:flex-start; }
    .title{ font-size: clamp(64px, 14vw, 12rem); }
  }

  .panel{
    border: 1px solid var(--hair);
    border-radius: 14px;
    background: rgba(255,255,255,.02);
    overflow:hidden;
  }
  .panelHeader{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap: 10px;
    padding: 12px 12px;
    border-bottom: 1px solid var(--hair2);
    background: rgba(0,0,0,.35);
  }
  .panelHeader b{
    font-family: var(--mono);
    letter-spacing: .16em;
    font-weight: 900;
    font-size: 12px;
    text-transform: uppercase;
  }
  .panelHeader .meta{
    font-family: var(--mono);
    color: rgba(255,255,255,.55);
    letter-spacing: .12em;
    white-space:nowrap;
    font-size: 12px;
  }

  .row{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap: 12px;
    padding: 10px 12px;
    border-top: 1px solid rgba(255,255,255,.04);
  }
  .row:first-child{ border-top:none; }
  .row:hover{ background: rgba(255,255,255,.03); }

  .left{
    min-width:0;
    display:flex;
    flex-direction:column;
    gap: 3px;
  }

  a.item{
    color: rgba(255,255,255,.9);
    text-decoration:none;
    font-family: var(--mono);
    letter-spacing:.12em;
    font-size: 12px;
    font-weight: 900;
    text-transform: uppercase;
  }
  a.item:hover{ color: var(--mind); }

  .desc{
    color: rgba(255,255,255,.55);
    font-size: 12px;
    letter-spacing:.02em;
  }

  .tags{
    display:flex;
    gap: 8px;
    flex-wrap:wrap;
    justify-content:flex-end;
    flex: 0 0 auto;
  }
  .tag{
    font-family: var(--mono);
    font-size: 11px;
    letter-spacing: .12em;
    padding: 4px 8px;
    border-radius: 999px;
    border: 1px solid rgba(255,255,255,.10);
    color: rgba(255,255,255,.55);
    background: rgba(255,255,255,.02);
    text-transform: uppercase;
    font-weight: 800;
  }
  .tag.red{ border-color: rgba(255,0,0,.55); color: rgba(255,0,0,.95); }
  .tag.uv{ border-color: rgba(122,0,255,.55); color: rgba(122,0,255,.95); }
  .tag.dark{ border-color: rgba(90,10,10,.9); color: rgba(255,255,255,.75); background: rgba(90,10,10,.20); }

  /* =========================
     EXEC SUMMARY (STRICT 11PX)
  ========================== */
  .summary{
    background: #0a0a0a;
    padding: 18px;
    border-top: 1px solid rgba(255,255,255,.12);
    display:flex;
    align-items:center;
    justify-content:center;
  }
  .summaryCard{
    width: min(980px, 94vw);
    height: min(90vh, 980px);
    overflow:auto;
    border: 1px solid rgba(255,255,255,.14);
    border-radius: 14px;
    padding: 18px;
    background: rgba(255,255,255,.02);
    font-size: 11px; /* hard requirement */
    line-height: 1.55;
    color: rgba(255,255,255,.90);
  }
  .summaryCard h2{
    font-size: 11px;
    font-weight: 800;
    margin: 0 0 10px 0;
  }
  .summaryCard p{ margin: 0 0 10px 0; }
  .summaryCard ul{ margin: 0 0 10px 16px; padding:0; }
  .summaryCard li{ margin: 0 0 6px 0; }

  /* =========================
     STROBE (spacebar) + HARD TECH EDGE
  ========================== */
  body.flashing{
    animation: flashBW 0.125s infinite;
  }
  @keyframes flashBW{
    0%{ background:#000; }
    50%{ background:#fff; }
    100%{ background:#000; }
  }

  /* small top-right control panel */
  .fontPanel{
    position:fixed;
    top: 14px;
    right: 14px;
    z-index: 2000;
    border:1px solid rgba(255,255,255,.18);
    background: rgba(0,0,0,.65);
    backdrop-filter: blur(6px);
    border-radius: 12px;
    padding: 10px;
    width: 280px;
    color: rgba(255,255,255,.9);
    font-size: 11px;
  }
  .fontPanel b{
    display:block;
    font-weight:900;
    letter-spacing:.12em;
    text-transform: uppercase;
    margin-bottom: 8px;
  }
  .fontPanel label{
    display:block;
    margin-top: 8px;
    font-family: var(--mono);
    letter-spacing:.12em;
    text-transform: uppercase;
    color: rgba(255,255,255,.65);
  }
  select{
    width:100%;
    margin-top: 6px;
    padding: 8px 10px;
    border-radius: 10px;
    border:1px solid rgba(255,255,255,.16);
    background: rgba(255,255,255,.03);
    color: rgba(255,255,255,.92);
    font-family: var(--uiFont);
    font-size: 12px;
    outline:none;
  }
  .mini{
    margin-top: 8px;
    font-family: var(--mono);
    color: rgba(255,255,255,.55);
    letter-spacing:.10em;
    text-transform: uppercase;
  }
</style>
</head>

<body>

<!-- FONT / TYPE SWITCHER -->
<div class="fontPanel" aria-label="font tester">
  <b>TYPE TESTER</b>

  <label for="nameFont">NAME FONT</label>
  <select id="nameFont"></select>

  <label for="uiFont">UI FONT</label>
  <select id="uiFont"></select>

  <div class="mini">SPACE = STROBE · / = SEARCH · SCROLL = SNAP</div>
</div>

<!-- LANDING -->
<section class="landing" id="top">
  <div class="titleWrap">
    <div class="title" aria-label="KETADATA">
      <span>КЕТА</span><span class="slashes">///</span><span>ДАТА</span>
    </div>

    <div class="navRow" aria-label="primary navigation">
      <a class="klink" href="#directory">directory</a>
      <a class="klink" href="page2.html">k-light</a>
      <a class="klink" href="map.html">k-world</a>
      <a class="klink" href="room.html">k-room</a>
      <a class="klink" href="vape-drive.html">k-apps</a>
      <a class="klink" href="shop.html">shop</a>
      <a class="klink" href="#summary">stylebook</a>
    </div>

    <div class="warning">
      <b>BAD GATEWAY</b><br/>
      MAY TRIGGER SEIZURES IN PHOTOSENSITIVE INDIVIDUALS
    </div>
  </div>

  <div class="hint">SCROLL <span class="arrow">↓</span></div>
</section>

<!-- MEOW (hidden unless strobe) -->
<div class="meow" aria-hidden="true">
  <div class="meowTrack">
    MEOW — MIAOU — MIAU — MIAO — MIAUW — MJAU — MJAV — MIAV — MIJAV — MIJAU — MIYAV — MIYAO — МЯУ — NYA — NYAN — にゃー — 야옹 — 喵 —
  </div>
  <div class="meowTrack">
    MEOW — MIAOU — MIAU — MIAO — MIAUW — MJAU — MJAV — MIAV — MIJAV — MIJAU — MIYAV — MIYAO — МЯУ — NYA — NYAN — にゃー — 야옹 — 喵 —
  </div>
</div>

<!-- DIRECTORY -->
<section class="directory" id="directory">
  <div class="dirWrap">

    <div class="dirTop">
      <div>
        <div class="brandline">
          <span class="k">KETA</span>
          <span class="slashes2">///</span>
          <span class="d">DATA</span>
        </div>
        <div class="subline">DIRECTORY — MASTER INDEX</div>
      </div>

      <div class="quickLinks">
        <a class="klink" href="#top">top</a>
        <a class="klink" href="map.html">k-world</a>
        <a class="klink" href="room.html">k-room</a>
        <a class="klink" href="library.html">library</a>
        <a class="klink" href="video.html">video</a>
        <a class="klink" href="fund.html">fund</a>
        <a class="klink" href="shop.html">shop</a>
      </div>
    </div>

    <div class="controls">
      <div class="searchbox" role="search">
        <span>SEARCH</span>
        <input id="q" type="text" autocomplete="off" spellcheck="false"
               placeholder="type: world / room / library / darkroom / aura / oracle / ledger / uv" />
      </div>

      <div class="filters" aria-label="filters">
        <div class="chip" data-filter="all" data-active="true"><span class="dot"></span>ALL</div>
        <div class="chip" data-filter="core"><span class="dot"></span>CORE</div>
        <div class="chip" data-filter="world"><span class="dot"></span>WORLD</div>
        <div class="chip" data-filter="room"><span class="dot"></span>ROOM</div>
        <div class="chip" data-filter="library"><span class="dot"></span>LIBRARY</div>
        <div class="chip" data-filter="video"><span class="dot"></span>VIDEO</div>
        <div class="chip" data-filter="tools"><span class="dot"></span>TOOLS</div>
        <div class="chip" data-filter="portals"><span class="dot"></span>PORTALS</div>
        <div class="chip" data-filter="commerce"><span class="dot"></span>COMMERCE</div>
        <div class="chip" data-filter="apps"><span class="dot"></span>APPS</div>
      </div>
    </div>

    <main class="grid" id="grid">

      <div class="panel">
        <div class="panelHeader"><b>CORE</b><span class="meta">ENTRY / NAV / SYSTEM</span></div>
        <div class="row data-item" data-tags="core" data-name="index landing gateway">
          <div class="left">
            <a class="item" href="index.html">INDEX.HTML</a>
            <div class="desc">Landing gateway.</div>
          </div>
          <div class="tags"><span class="tag">VOID</span><span class="tag red">LASER</span></div>
        </div>
        <div class="row data-item" data-tags="core" data-name="desktop command home-base">
          <div class="left">
            <a class="item" href="desktop.html">DESKTOP.HTML</a>
            <div class="desc">Home-base / command surface.</div>
          </div>
          <div class="tags"><span class="tag">HOME</span></div>
        </div>
        <div class="row data-item" data-tags="core portals" data-name="login threshold account">
          <div class="left">
            <a class="item" href="login.html">LOGIN.HTML</a>
            <div class="desc">Account threshold.</div>
          </div>
          <div class="tags"><span class="tag">PORTAL</span></div>
        </div>
      </div>

      <div class="panel">
        <div class="panelHeader"><b>WORLD</b><span class="meta">OBSERVATORY / MAP</span></div>
        <div class="row data-item" data-tags="world" data-name="map globe world filters intensify">
          <div class="left">
            <a class="item" href="map.html">MAP.HTML</a>
            <div class="desc">K-WORLD. Filters intensify.</div>
          </div>
          <div class="tags"><span class="tag">GLOBE</span></div>
        </div>
      </div>

      <div class="panel">
        <div class="panelHeader"><b>ROOM</b><span class="meta">SENSORY / DARKROOM</span></div>
        <div class="row data-item" data-tags="room" data-name="room sensory control surface">
          <div class="left">
            <a class="item" href="room.html">ROOM.HTML</a>
            <div class="desc">Sensory room.</div>
          </div>
          <div class="tags"><span class="tag">A/V</span></div>
        </div>
        <div class="row data-item" data-tags="room" data-name="darkroom dried blood archive">
          <div class="left">
            <a class="item" href="darkroom.html">DARKROOM.HTML</a>
            <div class="desc">Darkroom red (concentrated).</div>
          </div>
          <div class="tags"><span class="tag dark">DARKROOM</span></div>
        </div>
      </div>

      <div class="panel">
        <div class="panelHeader"><b>PORTALS</b><span class="meta">ORACLE / AURA</span></div>
        <div class="row data-item" data-tags="portals" data-name="ball oracle prophecy 24h">
          <div class="left">
            <a class="item" href="ball.html">BALL.HTML</a>
            <div class="desc">Oracle (1 prophecy / 24h).</div>
          </div>
          <div class="tags"><span class="tag">PROPHECY</span></div>
        </div>
        <div class="row data-item" data-tags="portals" data-name="capture aura ultraviolet">
          <div class="left">
            <a class="item" href="capture.html">CAPTURE.HTML</a>
            <div class="desc">Aura capture (not stored).</div>
          </div>
          <div class="tags"><span class="tag uv">UV</span></div>
        </div>
      </div>

    </main>
  </div>
</section>

<!-- EXEC SUMMARY (STRICT 11PX RENDER) -->
<section class="summary" id="summary">
  <div class="summaryCard" aria-label="Executive summary">
    <h2>EXECUTIVE SUMMARY — KETADATA</h2>
    <p><b>Core concept.</b> KETADATA is a controlled psycho-technical compound presented as a navigable system: observatory, archive, studio, patient portal, and shop unified into one spatial logic.</p>

    <p><b>Core tensions.</b> Access vs restriction. Signal vs void. Immediacy vs archive. Observation vs participation. The interface is confrontational but precise; nothing is ornamental without function.</p>

    <p><b>Spatial logic.</b> Single vertical axis: landing → directory → facilities. One-screen snap transitions. No infinite scroll; content resolves within bounded surfaces. Central spine is the oracle / prophecy cadence.</p>

    <p><b>Access rules.</b> Public: landing, funding, limited world/video preview. Gated: prophecy, aura capture, patient portal, submissions. Commerce is adjacent; it never interrupts the core path.</p>

    <p><b>Color roles.</b></p>
    <ul>
      <li><b>Void:</b> #000000 — containment / negative space.</li>
      <li><b>Mind:</b> #FFFFFF — cognition / structure.</li>
      <li><b>Laser red:</b> #FF0000 / #FF1A00 — signal, hover, alerts, active state. Not used as ambient background.</li>
      <li><b>Darkroom red:</b> #5A0A0A / #6E0F0F / #2B0505 — archive / memory / lab. Rich, concentrated, coagulated. No pure white adjacency.</li>
      <li><b>Ultraviolet:</b> #7A00FF — aura / ineffable signal. Never used for body text.</li>
    </ul>

    <p><b>Typography.</b> Arial / sans-serif as the base for continuity (iOS-neutral, institutional). Monospace used only for metadata and slashes. Base size 11px. Weight system: 400 / 600 / 800–900. Letter spacing is structural.</p>

    <p><b>Visual language.</b> Inverted imagery as default archive view. Images treated as evidence. White = mind/exposure. Black = void/containment. Red = record/damage/signal. UV = aura/excess.</p>

    <p><b>Interaction.</b> Scroll = commitment. Spacebar = strobe (explicit warning). Hover = threat. Filters intensify rather than simplify.</p>

    <p><b>Oracle + aura.</b> One prophecy per 24 hours. Prophecy → bleak screen → countdown → aura capture. Aura generated in the moment; not stored. High-res download + print optional. Linked to KETADATA number.</p>

    <p><b>Commerce.</b> K2 shop, prints, reports, monthly data cleanse. Funding is public and ledger-visible. Transparent intake exists for video + PDF submissions.</p>

    <p><b>Tone.</b> Techno-bunker, warehouse, laser-aggressive light, institutional, experimental, hostile-neutral. The darkness is quiet & kind, and also where the party happens.</p>
  </div>
</section>

<script>
  // ---------- font options (name + UI) ----------
  const fontOptions = [
    { label: "Arial (baseline)", value: 'Arial, sans-serif' },
    { label: "Helvetica Neue", value: '"Helvetica Neue", Helvetica, Arial, sans-serif' },
    { label: "Inter (if installed)", value: 'Inter, Arial, sans-serif' },
    { label: "SF Pro (if installed)", value: '"SF Pro Display","SF Pro Text", Arial, sans-serif' },
    { label: "IBM Plex Sans (if installed)", value: '"IBM Plex Sans", Arial, sans-serif' },
    { label: "DIN (if installed)", value: '"DIN Alternate","DIN 2014", Arial, sans-serif' },
    { label: "Univers (if installed)", value: '"Univers","Helvetica Neue", Arial, sans-serif' },
    { label: "Eurostile (if installed)", value: '"Eurostile","Microgramma", Arial, sans-serif' },
    { label: "Bank Gothic (if installed)", value: '"Bank Gothic","Square 721", Arial, sans-serif' },
    { label: "Suisse Int’l (if installed)", value: '"Suisse Intl","Helvetica Neue", Arial, sans-serif' },
    { label: "Neue Haas Grotesk (if installed)", value: '"Neue Haas Grotesk Text Pro","Helvetica Neue", Arial, sans-serif' },
  ];

  const nameSel = document.getElementById("nameFont");
  const uiSel = document.getElementById("uiFont");

  function fillSelect(sel){
    fontOptions.forEach((f)=>{
      const opt = document.createElement("option");
      opt.textContent = f.label;
      opt.value = f.value;
      sel.appendChild(opt);
    });
  }
  fillSelect(nameSel);
  fillSelect(uiSel);

  // defaults: Arial everywhere
  nameSel.value = 'Arial, sans-serif';
  uiSel.value = 'Arial, sans-serif';

  function applyFonts(){
    document.documentElement.style.setProperty("--nameFont", nameSel.value);
    document.documentElement.style.setProperty("--uiFont", uiSel.value);
  }
  nameSel.addEventListener("change", applyFonts);
  uiSel.addEventListener("change", applyFonts);
  applyFonts();

  // ---------- directory search + filters ----------
  const chips = Array.from(document.querySelectorAll(".chip"));
  const items = Array.from(document.querySelectorAll(".data-item"));
  const q = document.getElementById("q");

  let activeFilter = "all";

  function normalize(s){ return (s||"").toLowerCase().trim(); }

  function apply(){
    const term = normalize(q.value);
    items.forEach((el)=>{
      const tags = normalize(el.dataset.tags);
      const name = normalize(el.dataset.name);

      const passFilter = (activeFilter === "all") || tags.split(" ").includes(activeFilter);
      const passSearch = !term || name.includes(term) || tags.includes(term);

      el.style.display = (passFilter && passSearch) ? "" : "none";
    });
  }

  function setActiveChip(filter){
    activeFilter = filter;
    chips.forEach(c => c.dataset.active = (c.dataset.filter === filter) ? "true" : "false");
    apply();
  }

  chips.forEach((c)=> c.addEventListener("click", ()=> setActiveChip(c.dataset.filter)));
  q.addEventListener("input", apply);
  setActiveChip("all");

  // ---------- strobe (space) + ticker visibility ----------
  let isFlashing = false;
  let flashInterval;

  function startStrobe() {
    document.body.classList.add("flashing");
    document.body.style.backgroundColor = "black";
    flashInterval = setInterval(() => {
      document.body.style.backgroundColor =
        (document.body.style.backgroundColor === "black") ? "white" : "black";
    }, 50);
  }

  function stopStrobe() {
    clearInterval(flashInterval);
    document.body.classList.remove("flashing");
    document.body.style.backgroundColor = "black";
  }

  document.addEventListener("keydown", (event) => {
    if (event.key === " " || event.code === "Space") {
      event.preventDefault();
      if (isFlashing) stopStrobe();
      else startStrobe();
      isFlashing = !isFlashing;
      return;
    }

    if(event.key === "/"){
      event.preventDefault();
      q.focus();
      q.select();
      return;
    }
  });
</script>

</body>
</html>

