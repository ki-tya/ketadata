
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Release</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #000;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }

        #input {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: transparent;
            border: none;
            outline: none;
            color: #fff;
            font-size: 32px;
            text-align: center;
            width: 80%;
            max-width: 600px;
            caret-color: #fff;
        }

        #canvas {
            position: absolute;
            top: 0;
            left: 0;
            pointer-events: none;
        }

        .fragment {
            position: absolute;
            color: #fff;
            font-size: 32px;
            pointer-events: none;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
    </style>
</head>
<body>
    <input type="text" id="input" autofocus placeholder="">
    <div id="canvas"></div>

    <script>
        const input = document.getElementById('input');
        const canvas = document.getElementById('canvas');

        input.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && input.value.trim()) {
                fragmentText(input.value);
                input.value = '';
            }
        });

        function fragmentText(text) {
            const rect = input.getBoundingClientRect();
            const chars = text.split('');
            
            // Phase 1: MASSIVE Echo multiplication - ABUNDANCE!
            const echoCount = 80;
            const echoDelay = 15;
            const allFragments = [];
            
            for (let echo = 0; echo < echoCount; echo++) {
                setTimeout(function() {
                    chars.forEach(function(char, i) {
                        const fragment = document.createElement('div');
                        fragment.className = 'fragment';
                        fragment.textContent = char;
                        
                        // Completely random position across ENTIRE screen
                        const echoX = Math.random() * window.innerWidth;
                        const echoY = Math.random() * window.innerHeight;
                        
                        fragment.style.left = echoX + 'px';
                        fragment.style.top = echoY + 'px';
                        fragment.style.opacity = 0.95 - (echo * 0.01);
                        
                        canvas.appendChild(fragment);
                        
                        allFragments.push({
                            element: fragment,
                            x: echoX,
                            y: echoY
                        });
                    });
                }, echo * echoDelay);
            }
            
            // Phase 2: Wait for all echoes, then shatter ALL fragments at once
            setTimeout(function() {
                allFragments.forEach(function(frag) {
                    let posX = frag.x;
                    let posY = frag.y;
                    let velocityX = (Math.random() - 0.5) * 20;
                    let velocityY = (Math.random() - 0.5) * 20;
                    let rotation = Math.random() * 360;
                    let rotationSpeed = (Math.random() - 0.5) * 30;
                    let opacity = parseFloat(frag.element.style.opacity);
                    let scale = 1;
                    
                    function animateFrame() {
                        // Glass shatter physics with gravity
                        velocityY += 1.2; // gravity pulling down
                        posX += velocityX;
                        posY += velocityY;
                        rotation += rotationSpeed;
                        
                        opacity -= 0.008;
                        scale -= 0.006;
                        
                        frag.element.style.left = posX + 'px';
                        frag.element.style.top = posY + 'px';
                        frag.element.style.opacity = opacity;
                        frag.element.style.transform = 'rotate(' + rotation + 'deg) scale(' + scale + ')';
                        
                        if (opacity > 0 && posY < window.innerHeight + 100) {
                            requestAnimationFrame(animateFrame);
                        } else {
                            frag.element.remove();
                        }
                    }
                    
                    requestAnimationFrame(animateFrame);
                });
            }, echoCount * echoDelay + 300);
        }

        input.focus();
    </script>
</body>
</html>
