<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KETADATA</title>

  <style>
    html, body{
      height:100%;
      margin:0;
      padding:0;
      overflow:hidden; /* NO SCROLL */
      background:black;
      color:white;
    }

    body{
      font-family: Arial, sans-serif;
      text-align:center;
      padding-top:32vh; /* MOVE WHOLE BLOCK DOWN (was 20vh) */
    }

    h1{
      margin:0;
      font-weight:800;
      letter-spacing:0.02em;
      line-height:0.9;
    }

    /* KETADATA spans the horizontal */
    #ketaWord{
      display:inline-flex;
      justify-content:center;
      align-items:baseline;
      width:96vw;
      max-width: 1800px;
      font-size: clamp(8rem, 15vw, 17rem);
      cursor:pointer;
      user-select:none;
      position:relative;
    }

    /* fixed-width letter cells so "/" does NOT shift layout */
    #ketaWord .cell{
      flex: 1 1 0;
      display:flex;
      justify-content:center;
      align-items:baseline;
      text-align:center;
      line-height:1;
      min-width: 0;
    }
    #ketaWord .ch{
      display:inline-block;
      width:1ch;              /* lock width so replacing with "/" won't move neighbors */
      text-align:center;
      line-height:1;
      will-change: transform, opacity;
    }

    /* subtitle */
    p{
      color:#5555;
      font-size:1.5rem;
      margin: 0;
    }
    .subtitle{
      margin-top: 1.2rem;
      letter-spacing:0.38em;
      text-transform:uppercase;
      user-select:none;
    }

    /* NAV — intentionally effectively invisible */
    .nav-links{
      display:flex;
      justify-content:center;
      gap:4vw;
      margin-top:3vh;
      font-size:2.5vh;
      letter-spacing:0.1em;
    }
    .nav-item{
      color:#000000;
      text-decoration:none;
      transition:color 0.2s ease;
    }
    .nav-item:hover{ color:#ff1a1a; }

    /* warning */
    #warning{
      position:fixed;
      left:50%;
      transform:translateX(-50%);
      bottom:170px;
      width:min(96vw, 1400px);
      pointer-events:none;
    }

    /* ticker — intentionally invisible, NO LINE */
    .meow-ticker{
      position:fixed;
      bottom:40px;
      left:0;
      width:100%;
      background:none;
      color:black; /* invisible by design */
      padding:12px 0;
      overflow:hidden;
      white-space:nowrap;
      font-family: Arial, Helvetica, sans-serif;
      font-size:18px;
      font-weight:600;
      letter-spacing:2px;
      z-index:1000;
      pointer-events:none;
      border-top:none !important;
      box-shadow:none !important;
      outline:none !important;
    }
    .meow-content{
      display:inline-block;
      animation:ticker 40s linear infinite;
    }
    @keyframes ticker{
      0%{transform:translateX(0);}
      100%{transform:translateX(-100%);}
    }

    /* STROBE (unchanged) */
    @keyframes flash{
      0%{background-color:black;}
      50%{background-color:white;}
      100%{background-color:black;}
    }
    .flash-screen{
      animation:flash 0.125s infinite;
    }

    /* ====== FRACTAL DUST SYSTEM ====== */
    #fx{
      position:fixed;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index:3000;
    }
    .speck{
      position:absolute;
      background:#fff;
      opacity:0.96;
      will-change: transform, opacity;
    }

    /* Screen split reveal (white diagonal shutters) */
    #split{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:3500;
      opacity:0;
    }
    .split-panel{
      position:absolute;
      top:-20%;
      bottom:-20%;
      width:60vw;
      background:#fff;
      transform: rotate(-35deg) translateX(0);
      opacity:0.0;
      filter:none;
    }
    #splitLeft{ left:-70vw; }
    #splitRight{ right:-70vw; }

    /* When active: panels sweep across and then leave, revealing redirect */
    .split-on{ opacity:1; }
  </style>
</head>

<body>

  <h1>
    <div id="ketaWord" aria-label="KETADATA"></div>
    <p class="subtitle">INFINITE INTER /// FACE APPARATUS</p>

    <nav class="nav-links">
      <a href="room.html" class="nav-item">[05]</a>
      <a href="kdtv1.html" class="nav-item">[01]</a>
      <a href="temple.html" class="nav-item">[02]</a>
      <a href="crunch1.html" class="nav-item">[03]</a>
      <a href="subgpt.html" class="nav-item">[04]</a>
      <a href="room2.html" class="nav-item">[05a]</a>
      <a href="shop.html" class="nav-item">[06]</a>
      <a href="misc.html" class="nav-item">[07]</a>
      <a href="tester3.html" class="nav-item">[08]</a>
      <a href="labyrinth.html" class="nav-item">[09]</a>
      <a href="map.html" class="nav-item">[10]</a>
      <a href="slopstream6.html" class="nav-item">[11]</a>
      <a href="bleak.html" class="nav-item">[12]</a>
      <a href="ball.html" class="nav-item">[13]</a>
      <a href="elevator3.html" class="nav-item">[14]</a>
      <a href="shell8.html" class="nav-item">[15]</a>
      <a href="aura2.html" class="nav-item">[16]</a>
    </nav>
  </h1>

  <p id="warning">
    B A D&nbsp;&nbsp;G A T E W A Y<br/>
    MAY TRIGGER SEIZURES IN PHOTOSENSITIVE INDIVIDUALS
  </p>

  <div class="meow-ticker">
    <div class="meow-content">
      MEOW — MIAOU — MIAU — MIAO — MIAUW — MJAU — MJAV — MIAV — MIJAV — MIJAU — MIYAV — MIYAO — MIAAO — MIAOO — MIAOOO — МЯУ — МЯУУ — MYAU — МЬЯУ — МЯУМ — НЯВ — МИЙАУ — МИЙАВ — NIAOU — NYA — NYAA — NYAN — にゃー — ニャー — にゃお — にゃーー — 야옹 — 냐아옹 — 냥 — 喵 — 喵喵 —
    </div>
    <div class="meow-content">
      MEOW — MIAOU — MIAU — MIAO — MIAUW — MJAU — MJAV — MIAV — MIJAV — MIJAU — MIYAV — MIYAO — MIAAO — MIAOO — MIAOOO — МЯУ — МЯУУ — MYAU — МЬЯУ — МЯУМ — НЯВ — МИЙАU — МИЙАВ — NIAOU — NYA — NYAA — NYAN — にゃー — ニャー — にゃお — にゃーー — 야옹 — 냐아옹 — 냥 — 喵 — 喵喵 —
    </div>
  </div>

  <div id="fx"></div>

  <div id="split">
    <div id="splitLeft" class="split-panel"></div>
    <div id="splitRight" class="split-panel"></div>
  </div>

  <script>
    const ketaWord = document.getElementById("ketaWord");
    const fx = document.getElementById("fx");
    const split = document.getElementById("split");
    const splitLeft = document.getElementById("splitLeft");
    const splitRight = document.getElementById("splitRight");

    const word = "KETADATA";
    const cells = [];
    const letters = [];

    // Build fixed-width cells so "/" never shifts neighbors
    for (const ch of word) {
      const cell = document.createElement("span");
      cell.className = "cell";

      const s = document.createElement("span");
      s.className = "ch";
      s.textContent = ch;
      s.dataset.orig = ch;

      cell.appendChild(s);
      ketaWord.appendChild(cell);

      cells.push(cell);
      letters.push(s);

      // Per-letter hover transform to "/"
      s.addEventListener("mouseenter", () => {
        if (ketaWord.dataset.locked === "1") return;
        s.textContent = "/";
      });
      s.addEventListener("mouseleave", () => {
        if (ketaWord.dataset.locked === "1") return;
        s.textContent = s.dataset.orig;
      });
    }

    let entering = false;

    function rand(min, max){ return min + Math.random() * (max - min); }

    // Create specks with slightly “fractal” breakup: each source emits micro-bursts
    function spawnSpecksFrom(x, y, dirX, dirY, intensity){
      // intensity controls count; slow, rich decay
      const bursts = Math.floor(rand(3, 7));
      for (let b=0; b<bursts; b++){
        const n = Math.floor(rand(22, 70) * intensity);
        const tDelay = rand(0, 900); // stagger -> richer + slower

        setTimeout(() => {
          for (let i=0; i<n; i++){
            const d = document.createElement("div");
            d.className = "speck";

            const size = rand(1, 3.2);
            d.style.width = size + "px";
            d.style.height = size + "px";

            const jx = rand(-18, 18);
            const jy = rand(-18, 18);

            d.style.left = (x + jx) + "px";
            d.style.top  = (y + jy) + "px";
            fx.appendChild(d);

            // Diagonal "/" vector + spread => stripe-like but complex
            const spread = rand(-0.55, 0.55);
            const perpX = -dirY;
            const perpY = dirX;

            const dist = rand(window.innerWidth * 0.7, window.innerWidth * 2.2);
            const vx = (dirX * dist) + (perpX * dist * spread) + rand(-120,120);
            const vy = (dirY * dist) + (perpY * dist * spread) + rand(-120,120);

            const dur = rand(1400, 5200); // SLOWER + RICHER
            d.animate(
              [
                { transform:`translate(0px,0px)`, opacity: 1 },
                { transform:`translate(${vx}px,${vy}px)`, opacity: 0 }
              ],
              { duration: dur, easing: "cubic-bezier(0.05, 0.85, 0.1, 1)", fill: "forwards" }
            );

            setTimeout(() => d.remove(), dur + 60);
          }
        }, tDelay);
      }
    }

    // Infinite-flow feel: keep emitting for a while, then split reveal -> redirect
    function runInfiniteDispersion(){
      const rect = ketaWord.getBoundingClientRect();
      const centers = letters.map((el) => {
        const r = el.getBoundingClientRect();
        return { x: r.left + r.width/2, y: r.top + r.height/2 };
      });

      // Slash "/" unit vector (up-right)
      let dirX = 1, dirY = -1;
      const len = Math.hypot(dirX, dirY);
      dirX/=len; dirY/=len;

      // Phase 1: word-local breakdown (each slash emits)
      centers.forEach((c, idx) => {
        spawnSpecksFrom(c.x, c.y, dirX, dirY, 1.0);
      });

      // Phase 2: sustained emission to feel “infinite”
      const start = performance.now();
      const sustainMs = 5200; // long enough to read as infinite
      const interval = setInterval(() => {
        const now = performance.now();
        if (now - start > sustainMs) {
          clearInterval(interval);
          return;
        }
        // emit from random letter centers continuously
        for (let k=0; k<3; k++){
          const c = centers[Math.floor(Math.random()*centers.length)];
          spawnSpecksFrom(c.x + rand(-24,24), c.y + rand(-24,24), dirX, dirY, rand(0.6, 1.2));
        }
      }, 180); // frequent but staggered
    }

    // Screen split reveal: shutters sweep then redirect
    function screenSplitRevealThenRedirect(){
      split.classList.add("split-on");
      // animate panels in: from off-screen to across center, then off
      splitLeft.style.opacity = "1";
      splitRight.style.opacity = "1";

      splitLeft.animate(
        [
          { transform: "rotate(-35deg) translateX(0)", opacity: 0.0 },
          { transform: "rotate(-35deg) translateX(95vw)", opacity: 0.95 },
          { transform: "rotate(-35deg) translateX(160vw)", opacity: 0.0 }
        ],
        { duration: 1600, easing: "cubic-bezier(0.12, 0.9, 0.1, 1)", fill: "forwards" }
      );

      splitRight.animate(
        [
          { transform: "rotate(-35deg) translateX(0)", opacity: 0.0 },
          { transform: "rotate(-35deg) translateX(-95vw)", opacity: 0.95 },
          { transform: "rotate(-35deg) translateX(-160vw)", opacity: 0.0 }
        ],
        { duration: 1600, easing: "cubic-bezier(0.12, 0.9, 0.1, 1)", fill: "forwards" }
      );

      setTimeout(() => {
        window.location.href = "https://ketadata.com/shell8.html";
      }, 1450);
    }

    ketaWord.addEventListener("click", () => {
      if (entering) return;
      entering = true;

      // Lock entire word into slashes instantly (no layout shift)
      ketaWord.dataset.locked = "1";
      letters.forEach(s => s.textContent = "/");

      // Rich, slower, fractal-ish breakdown + sustained flow
      runInfiniteDispersion();

      // Fade the word slowly after it becomes slashes (keeps the transformation readable)
      ketaWord.animate(
        [{ opacity: 1 }, { opacity: 0 }],
        { duration: 900, delay: 350, easing: "linear", fill: "forwards" }
      );

      // After sustained flow, split screen to reveal the core shell (redirect)
      setTimeout(() => {
        screenSplitRevealThenRedirect();
      }, 5600);
    });

    // STROBE TOGGLE (SPACE) — preserved
    let isFlashing = false;
    let flashInterval;

    function startStrobe(){
      flashInterval = setInterval(() => {
        document.body.style.backgroundColor =
          (document.body.style.backgroundColor === "black") ? "white" : "black";
      }, 50);
    }

    function stopStrobe(){
      clearInterval(flashInterval);
      document.body.style.backgroundColor = "black";
    }

    document.addEventListener("keydown", (event) => {
      if (event.key === " " || event.code === "Space") {
        event.preventDefault();
        if (isFlashing) stopStrobe(); else startStrobe();
        isFlashing = !isFlashing;
      }
    });

    // HOTKEYS — preserved
    document.addEventListener("keydown", (event) => {
      if (event.key >= "1" && event.key <= "6") window.location.href = event.key + ".html";
      if (event.key.toLowerCase() === "m") window.location.href = "map.html";
      if (event.key.toLowerCase() === "r") window.location.href = "room.html";
    });
  </script>

  <!--
  AE:
  - BLOCK MOVED DOWN (32vh).
  - LETTER WIDTH LOCKED (1ch) SO "/" DOES NOT SHIFT NEIGHBORS.
  - NAV + TICKER INTENTIONALLY EFFECTIVELY INVISIBLE.
  - NO SCROLL. NO LINES.

  EE:
  - PER-LETTER HOVER: LETTER -> "/"
  - CLICK: WORD LOCKS TO "/" THEN SLOW, RICH, FRACTAL-LIKE WHITE DUST EXPULSION
    ALONG DIAGONAL "/" STRIPES, SUSTAINED TO FEEL INFINITE
  - THEN SCREEN SPLITS TO REVEAL/ENTER CORE SHELL (REDIRECT -> shell8)

  WB:
  FILE_ID: index
  ROOM_ID: ENTRY
  VERSION: v1.0.4
  UPDATED_AT: 2025-12-24
  CHANGELOG:
  - Moved entire block down.
  - Locked letter widths to prevent repositioning on slash transform.
  - Upgraded dispersion to richer/slower multi-burst "fractal dust" with sustained emission.
  - Added diagonal screen-split shutters before redirect to shell8.
  -->
</body>
</html>
