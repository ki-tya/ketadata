<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>KETADATA // BRAILLE FIELD (WHITE WOUND)</title>
<style>
  :root{
    /* BLACK INFINITY */
    --bg:#000;

    /* WHITE WOUND (contrast/saturation) */
    --ink:#fff;
    --inkAlphaMin: 0.88;
    --inkAlphaMax: 1.00;

    /* TRAILS / MOTION */
    --trail: 0.050;          /* lower = longer persistence */
    --density: 1.55;         /* more columns updated */
    --speedMul: 1.08;

    /* WOUND GLOW (hard + saturated white) */
    --glowCore: 10px;        /* tight core */
    --glowNear: 28px;        /* sear */
    --glowFar:  160px;       /* bloom */
    --coreBoost: 1;          /* 0/1 extra hard core pass */
    --bloomAlpha: 0.16;      /* bloom strength */

    /* THICKNESS */
    --fatPasses: 3;          /* 0..3 */
    --fatPx: 0.85;

    /* CONTRAST LAYERS */
    --vignette: 0.96;        /* clamp edges */
    --blackCrush: 0.10;      /* extra black crush overlay */
    --grainOpacity: 0.18;    /* material */

    /* DRIP */
    --drip: 1;
    --dripOpacity: .86;
    --dripSpeed: 11.5s;
    --gooBlur: 16px;

    /* ACID HAZE (kept but controlled) */
    --haze: 0.45;
    --hazeSpeed: 13.5s;

    /* typography */
    --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    --font: 12px;
    --lh: 14px;
  }

  *{ box-sizing:border-box; }
  html,body{ height:100%; }
  body{
    margin:0;
    background: var(--bg);
    color: var(--ink);
    overflow:hidden;
    font-family: var(--mono);
  }

  /* =========================================================
     BLACK INFINITY DEPTH (crush + vignette + grain)
  ========================================================= */
  #crush{
    position:fixed; inset:0;
    z-index:0;
    pointer-events:none;
    opacity: var(--blackCrush);
    background: radial-gradient(closest-side at 50% 55%, transparent 40%, rgba(0,0,0,1) 100%);
    mix-blend-mode: multiply;
  }

  #vignette{
    position:fixed; inset:0;
    z-index:1;
    pointer-events:none;
    opacity: var(--vignette);
    background:
      radial-gradient(closest-side at 50% 55%, transparent 54%, rgba(0,0,0,.96) 100%),
      radial-gradient(closest-side at 50% 0%, rgba(0,0,0,.78), transparent 55%);
    mix-blend-mode: multiply;
  }

  /* grain for “infinite black material” */
  #grain{
    position:fixed; inset:0;
    z-index:2;
    pointer-events:none;
    opacity: var(--grainOpacity);
    mix-blend-mode: overlay;
    filter: url(#grainFilter);
    background: rgba(255,255,255,.10);
  }

  /* =========================================================
     ACID HAZE (subtle, lets white feel like wound)
  ========================================================= */
  #haze{
    position:fixed; inset:0;
    z-index:3;
    pointer-events:none;
    opacity: var(--haze);
    mix-blend-mode: screen;
    background:
      radial-gradient(900px 700px at 20% 18%, rgba(255,255,255,.10), transparent 70%),
      radial-gradient(1100px 840px at 84% 28%, rgba(255,255,255,.08), transparent 74%),
      radial-gradient(1100px 980px at 50% 92%, rgba(255,255,255,.08), transparent 72%);
    filter: blur(18px);
  }
  #haze::after{
    content:"";
    position:absolute; inset:-18%;
    background:
      conic-gradient(from 180deg,
        rgba(255,255,255,.12),
        transparent,
        rgba(255,255,255,.08),
        transparent,
        rgba(255,255,255,.10));
    opacity:.80;
    filter: blur(28px);
    animation: hazeDrift var(--hazeSpeed) linear infinite;
  }
  @keyframes hazeDrift{
    from{ transform: translate(-2%,-1%) rotate(0deg); }
    to  { transform: translate( 2%, 1%) rotate(360deg); }
  }

  /* =========================================================
     FIELD
  ========================================================= */
  #wrap{ position:fixed; inset:0; z-index:4; }
  canvas#c{ position:absolute; inset:0; width:100%; height:100%; }

  /* DRIP GLAZE (white wound leaking) */
  #drip{
    position:fixed;
    left:-10%;
    top:-56px;
    width:120%;
    height: 190px;
    z-index:5;
    pointer-events:none;
    opacity: calc(var(--dripOpacity) * var(--drip));
    filter: blur(var(--gooBlur));
    mix-blend-mode: screen;
    background:
      radial-gradient(24px 76px at 6% 86%, rgba(255,255,255,.22), transparent 74%),
      radial-gradient(32px 98px at 16% 92%, rgba(255,255,255,.18), transparent 76%),
      radial-gradient(24px 84px at 28% 86%, rgba(255,255,255,.22), transparent 74%),
      radial-gradient(38px 112px at 40% 94%, rgba(255,255,255,.16), transparent 78%),
      radial-gradient(24px 84px at 52% 86%, rgba(255,255,255,.22), transparent 74%),
      radial-gradient(40px 120px at 64% 96%, rgba(255,255,255,.16), transparent 78%),
      radial-gradient(24px 86px at 76% 88%, rgba(255,255,255,.22), transparent 76%),
      radial-gradient(32px 104px at 88% 96%, rgba(255,255,255,.16), transparent 78%),
      linear-gradient(180deg, rgba(255,255,255,.16), transparent 70%);
    animation: dripSlide var(--dripSpeed) ease-in-out infinite;
  }
  @keyframes dripSlide{
    0%   { transform: translateY(0px); opacity: calc(.62 * var(--dripOpacity) * var(--drip)); }
    50%  { transform: translateY(18px); opacity: calc(.92 * var(--dripOpacity) * var(--drip)); }
    100% { transform: translateY(0px); opacity: calc(.62 * var(--dripOpacity) * var(--drip)); }
  }

  /* =========================================================
     UI (minimal, but higher contrast)
  ========================================================= */
  #ui{ position:fixed; inset:0; z-index:6; pointer-events:none; user-select:none; }
  #warn{
    position:absolute; top:12px; left:12px;
    pointer-events:auto;
    font-size:10px; letter-spacing:.22em; text-transform:uppercase;
    color: rgba(255,255,255,.86);
    padding: 9px 11px;
    border: 2px solid rgba(255,255,255,.20);
    background: rgba(0,0,0,.10);
    backdrop-filter: blur(10px);
  }
  #enter{
    position:absolute; right:12px; bottom:12px;
    pointer-events:auto;
    text-decoration:none;
    font-size:11px; letter-spacing:.26em; text-transform:uppercase;
    color: rgba(255,255,255,.74);
    padding: 11px 13px;
    border: 2px solid rgba(255,255,255,.20);
    background: rgba(0,0,0,.08);
    backdrop-filter: blur(10px);
    transition: color .12s linear, border-color .12s linear, transform .12s linear, background .12s linear;
  }
  #enter:hover{
    color:#fff;
    border-color: rgba(255,255,255,.42);
    background: rgba(0,0,0,.14);
    transform: translateY(-1px);
  }
  #enter:active{ transform: translateY(0px); }

  textarea#payload{
    position:absolute; left:-9999px; top:-9999px;
    width:1px; height:1px; opacity:0;
  }

  @media (prefers-reduced-motion: reduce){
    #crush,#vignette,#grain,#haze,#drip { display:none; }
    canvas#c{ display:none; }
  }
</style>
</head>

<body>
  <svg width="0" height="0" style="position:absolute">
    <filter id="grainFilter">
      <feTurbulence type="fractalNoise" baseFrequency="0.85" numOctaves="2" seed="9" />
      <feColorMatrix type="matrix" values="
        1 0 0 0 0
        0 1 0 0 0
        0 0 1 0 0
        0 0 0 0.20 0"/>
    </filter>
  </svg>

  <div id="crush" aria-hidden="true"></div>
  <div id="vignette" aria-hidden="true"></div>
  <div id="grain" aria-hidden="true"></div>
  <div id="haze" aria-hidden="true"></div>

  <div id="wrap">
    <canvas id="c"></canvas>
  </div>

  <div id="drip" aria-hidden="true"></div>

  <div id="ui">
    <div id="warn">WARNING: HIGH CONTRAST / FAST MOTION</div>
    <a id="enter" href="https://ketadata.com/index11.html">[ENTER]</a>
  </div>

  <textarea id="payload" aria-hidden="true"></textarea>

<script>
/* =========================================================
   WHITE WOUND IN BLACK INFINITY
========================================================= */
const TARGET_URL = "https://ketadata.com/index11.html";

function buildInnerHTML(){
  const ts = new Date().toISOString();
  return [
`<!DOCTYPE html>`,
`<html>`,
`<head>`,
`  <meta charset="utf-8">`,
`  <meta name="viewport" content="width=device-width,initial-scale=1.0">`,
`  <style>`,
`    html,body{height:100%;margin:0;background:#000;color:#fff;font-family:ui-monospace,monospace;}`,
`    .sig{position:fixed;left:12px;top:12px;border:2px solid rgba(255,255,255,.20);padding:9px 11px;letter-spacing:.22em;text-transform:uppercase;font-size:10px;opacity:.86;}`,
`    .key{position:fixed;right:12px;bottom:12px;border:2px solid rgba(255,255,255,.20);padding:11px 13px;letter-spacing:.26em;text-transform:uppercase;font-size:11px;opacity:.74;}`,
`  </style>`,
`</head>`,
`<body>`,
`  <div class="sig">WOUND // SIGNAL // ${ts}</div>`,
`  <a class="key" href="${TARGET_URL}">[ENTER]</a>`,
`</body>`,
`</html>`
  ].join("\n");
}

const payloadEl = document.getElementById("payload");
payloadEl.value = buildInnerHTML();

/* Braille: U+2800..U+28FF (bias to dense) */
function brailleChar(){
  const r = Math.random();
  let code;
  if(r < 0.62) code = 0x2800 + (0xFF & (0xC0 + (Math.random()*64|0)));
  else if(r < 0.98) code = 0x2800 + (0xFF & (Math.random()*256|0));
  else code = 0x28FF;
  return String.fromCharCode(code);
}

const TOKENS = [
  "<div>", "</div>", "<span>", "</span>", "<html>", "</html>",
  "<head>", "</head>", "<body>", "</body>", "<style>", "</style>",
  "<meta>", "href=", "src=", "id=", "class=",
  "----", "------", "----------", "////////////////", "::", "==", "||", "[]", "{}",
  "KETADATA", "STATE", "NULL", "LIGHT", "INVERT", "WOUND"
];
const pick = (a)=>a[(Math.random()*a.length)|0];

const source = payloadEl.value;
let srcIdx = 0;

function nextChunk(){
  const r = Math.random();
  if(r < 0.26){
    const len = 10 + (Math.random()*30|0);
    const chunk = source.slice(srcIdx, srcIdx + len);
    srcIdx += len;
    if(srcIdx >= source.length) srcIdx = 0;
    return chunk.replace(/\s/g, " ");
  } else if(r < 0.34){
    return pick(TOKENS);
  } else {
    const n = 10 + (Math.random()*28|0);
    let s = "";
    for(let i=0;i<n;i++) s += brailleChar();
    return s;
  }
}

/* Canvas */
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d", { alpha:true });

let w,h,dpr;
function resize(){
  dpr = window.devicePixelRatio || 1;
  w = window.innerWidth;
  h = window.innerHeight;
  canvas.width = Math.floor(w*dpr);
  canvas.height = Math.floor(h*dpr);
  canvas.style.width = w+"px";
  canvas.style.height = h+"px";
  ctx.setTransform(dpr,0,0,dpr,0,0);
}
window.addEventListener("resize", resize);
resize();

const root = getComputedStyle(document.documentElement);
const fontPx = (root.getPropertyValue("--font").trim() || "12px");
const lh = parseFloat(root.getPropertyValue("--lh")) || 14;

function cellW(){ return 9.2; }

let cols = 0;
let drops = [];
function resetDrops(){
  cols = Math.ceil(w / cellW());
  drops = new Array(cols).fill(0).map(()=> ({
    y: Math.random()*h,
    v: 1.0 + Math.random()*2.8,
    melt: Math.random()*0.95,
    pulse: Math.random()*Math.PI*2
  }));
}
resetDrops();
window.addEventListener("resize", resetDrops);

function cssNum(name, fallback){
  const v = parseFloat(getComputedStyle(document.documentElement).getPropertyValue(name));
  return Number.isFinite(v) ? v : fallback;
}

function tick(){
  const trail = cssNum("--trail", 0.05);
  const density = cssNum("--density", 1.55);
  const speedMul = cssNum("--speedMul", 1.08);

  const glowCore = cssNum("--glowCore", 10);
  const glowNear = cssNum("--glowNear", 28);
  const glowFar  = cssNum("--glowFar", 160);

  const inkA0 = cssNum("--inkAlphaMin", 0.88);
  const inkA1 = cssNum("--inkAlphaMax", 1.00);

  const fatPasses = Math.max(0, Math.min(3, Math.round(cssNum("--fatPasses", 3))));
  const fatPx = cssNum("--fatPx", 0.85);

  const coreBoost = Math.round(cssNum("--coreBoost", 1)) ? 1 : 0;
  const bloomAlpha = cssNum("--bloomAlpha", 0.16);

  /* keep the black crushed */
  ctx.fillStyle = `rgba(0,0,0,${trail})`;
  ctx.fillRect(0,0,w,h);

  ctx.save();
  ctx.fillStyle = "#fff";
  ctx.textBaseline = "top";
  ctx.font = `900 ${fontPx} ${getComputedStyle(document.body).fontFamily}`;

  const t = performance.now()/1000;
  const step = Math.max(1, 1 + Math.floor(1.1 / Math.max(0.35, density)));

  for(let i=0;i<cols;i+=step){
    const x = i * cellW();
    const d = drops[i];

    const chunk = nextChunk();
    const sliceLen = 1 + (Math.random()*4|0);
    const out = chunk.slice(0, sliceLen);

    const wave = 0.55 + 0.55 * Math.sin(t*0.75 + d.pulse + i*0.03);
    const visc = 0.70 + (d.melt * 0.60);
    const speed = (d.v * (0.75 + wave*0.95) * visc) * speedMul;

    /* hard core first pass (no blur) */
    if(coreBoost){
      ctx.shadowBlur = 0;
      ctx.globalAlpha = 1.0;
      ctx.fillText(out, x, d.y);
    }

    /* searing glow pass */
    ctx.shadowColor = "rgba(255,255,255,.72)";
    ctx.shadowBlur = glowNear;
    ctx.globalAlpha = inkA0 + Math.random()*(inkA1-inkA0);

    ctx.fillText(out, x, d.y);
    if(fatPasses >= 1){
      ctx.fillText(out, x + fatPx, d.y);
      ctx.fillText(out, x - fatPx, d.y);
    }
    if(fatPasses >= 2){
      ctx.fillText(out, x, d.y + fatPx);
      ctx.fillText(out, x, d.y - fatPx);
    }
    if(fatPasses >= 3){
      ctx.fillText(out, x + fatPx, d.y + fatPx);
      ctx.fillText(out, x - fatPx, d.y - fatPx);
    }

    /* “wound flare” bursts */
    if(Math.random() < 0.016){
      ctx.shadowBlur = glowCore;
      ctx.globalAlpha = 1.0;
      const b = brailleChar();
      ctx.fillText(b, x, d.y - lh*1);
      ctx.fillText(b, x, d.y - lh*2);
      ctx.fillText(b, x, d.y - lh*3);
      ctx.fillText(b, x, d.y - lh*4);
      ctx.fillText(b, x, d.y - lh*5);
    }

    d.y += lh * speed;

    if(d.y > h + 70 && Math.random() > 0.985){
      d.y = -Math.random()*360;
      d.v = 1.0 + Math.random()*3.0;
      d.melt = Math.random()*0.98;
      d.pulse = Math.random()*Math.PI*2;
    }
  }

  /* bloom: saturated white wound halo (screen), strong but controlled */
  ctx.globalCompositeOperation = "screen";
  ctx.globalAlpha = bloomAlpha;
  ctx.shadowColor = "rgba(255,255,255,.55)";
  ctx.shadowBlur = glowFar;
  ctx.fillStyle = "rgba(255,255,255,.03)";
  ctx.fillRect(0,0,w,h);

  ctx.restore();
  requestAnimationFrame(tick);
}
requestAnimationFrame(tick);

window.addEventListener("keydown", (e)=>{
  if(e.key === "Enter"){
    window.location.href = TARGET_URL;
  }
});
</script>

<!-- ============================================================
KETADATA HTML SERIALIZATION STAMP
AE/EE/WB: AE
FILE_ID: BRAILLE_MATRIX_WHITE_WOUND_V4
ROOM_ID: COVER
VERSION: v4
UPDATED_AT: 2025-12-28T00:00:00-05:00
CHANGELOG:
- CONTRAST UP: BLACK CRUSH + STRONGER VIGNETTE + HARD CORE WHITE PASS
- SATURATION UP: HIGHER ALPHA INK + STRONGER FAR BLOOM (WHITE WOUND HALO)
- THICKER: FAT PASSES=3, LARGER OFFSET
- KEEP: DRIP GLAZE + HAZE (CONTROLLED) + MATERIAL GRAIN
============================================================ -->
</body>
</html>
