<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>KETADATA // STUDIO</title>
  <style>
    :root{
      --bg:#000;
      --ink:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.60);
      --line:rgba(255,255,255,.12);
      --line2:rgba(255,255,255,.20);
      --panel:rgba(255,255,255,.04);

      --r:0px;
      --pad:14px;

      --font: Arial, Helvetica, sans-serif;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      background: var(--bg);
      color: var(--ink);
      overflow:hidden;
      font-family: var(--font);
    }

    /* Subtle animated grid background (administrative) */
    #bg{
      position:fixed;
      inset:0;
      background:
        linear-gradient(rgba(255,255,255,.06) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,.06) 1px, transparent 1px);
      background-size: 54px 54px;
      opacity: .22;
      transform: translate3d(0,0,0);
      animation: drift 18s linear infinite;
      pointer-events:none;
      filter: contrast(1.05);
    }
    @keyframes drift{
      from{ background-position: 0 0, 0 0; }
      to{ background-position: 260px 180px, 260px 180px; }
    }

    /* Vignette */
    #vignette{
      position:fixed;
      inset:0;
      pointer-events:none;
      background: radial-gradient(circle at center, rgba(0,0,0,0) 0%, rgba(0,0,0,.55) 65%, rgba(0,0,0,.88) 100%);
      mix-blend-mode: multiply;
    }

    .wrap{
      position:relative;
      z-index:5;
      height:100%;
      display:grid;
      grid-template-columns: minmax(320px, 560px) 1fr;
      gap: 18px;
      padding: 18px;
    }

    .left{
      border:1px solid var(--line);
      background: rgba(0,0,0,.58);
      backdrop-filter: blur(10px);
      padding: var(--pad);
      border-radius: var(--r);
      box-shadow: 0 22px 90px rgba(0,0,0,.55);
      display:flex;
      flex-direction:column;
      gap: 14px;
      align-self:start;
    }

    .hdr{
      display:flex;
      align-items:baseline;
      justify-content:space-between;
      gap:12px;
      padding-bottom:10px;
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .brand{
      font-size:12px;
      letter-spacing:.18em;
      text-transform:uppercase;
      font-weight:800;
      white-space:nowrap;
    }
    .room{
      font-size:11px;
      letter-spacing:.14em;
      text-transform:uppercase;
      color:rgba(255,255,255,.62);
      text-align:right;
    }

    .meta{
      display:grid;
      grid-template-columns: 1fr;
      gap:8px;
    }
    .fact{
      display:flex;
      justify-content:space-between;
      gap:12px;
      padding:10px;
      border:1px solid rgba(255,255,255,.08);
      background: rgba(255,255,255,.02);
    }
    .k{
      font-size:11px;
      letter-spacing:.10em;
      text-transform:uppercase;
      color:rgba(255,255,255,.62);
      white-space:nowrap;
    }
    .v{
      font-size:12px;
      color:rgba(255,255,255,.90);
      letter-spacing:.02em;
      text-align:right;
      overflow:hidden;
      text-overflow:ellipsis;
      white-space:nowrap;
      max-width: 340px;
    }

    .desc{
      border:1px solid rgba(255,255,255,.08);
      background: rgba(255,255,255,.02);
      padding:10px;
      color:rgba(255,255,255,.72);
      font-size:12px;
      line-height:1.35;
      letter-spacing:.01em;
      text-transform:none;
    }
    .desc b{ color: rgba(255,255,255,.90); }

    .actions{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      padding-top: 2px;
    }

    .btn{
      appearance:none;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
      color:rgba(255,255,255,.92);
      padding:10px 12px;
      font-size:12px;
      cursor:pointer;
      border-radius: var(--r);
      text-transform:uppercase;
      letter-spacing:.12em;
      font-weight:800;
      user-select:none;
    }
    .btn:hover{ border-color: rgba(255,255,255,.22); background: rgba(255,255,255,.06); }
    .btn:active{ transform: translateY(1px); }
    .btn.secondary{
      font-weight:700;
      letter-spacing:.10em;
      background: rgba(255,255,255,.02);
      color: rgba(255,255,255,.84);
    }

    .right{
      border:1px solid var(--line);
      background: rgba(0,0,0,.52);
      backdrop-filter: blur(10px);
      padding: var(--pad);
      border-radius: var(--r);
      box-shadow: 0 22px 90px rgba(0,0,0,.45);
      display:flex;
      flex-direction:column;
      min-width: 260px;
    }

    .rightHdr{
      display:flex;
      align-items:baseline;
      justify-content:space-between;
      gap:12px;
      padding-bottom:10px;
      border-bottom: 1px solid rgba(255,255,255,.08);
      margin-bottom: 10px;
    }
    .rightTitle{
      font-size:12px;
      letter-spacing:.18em;
      text-transform:uppercase;
      font-weight:800;
    }
    .rightHint{
      font-size:11px;
      color:rgba(255,255,255,.55);
      letter-spacing:.02em;
      text-align:right;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap:10px;
      overflow:auto;
      padding-right: 6px;
    }

    .card{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.02);
      padding:10px;
      text-decoration:none;
      color: var(--ink);
      display:flex;
      flex-direction:column;
      gap:8px;
      min-height: 120px;
      cursor:pointer;
    }
    .card:hover{ border-color: rgba(255,255,255,.18); background: rgba(255,255,255,.04); }
    .cardTop{
      display:flex;
      align-items:baseline;
      justify-content:space-between;
      gap:10px;
    }
    .cardName{
      font-size:12px;
      letter-spacing:.14em;
      text-transform:uppercase;
      font-weight:800;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .tag{
      font-size:10px;
      letter-spacing:.14em;
      text-transform:uppercase;
      color: rgba(255,255,255,.62);
      white-space:nowrap;
    }
    .cardDesc{
      font-size:12px;
      color: rgba(255,255,255,.70);
      line-height:1.3;
      letter-spacing:.01em;
    }

    /* Footer hint */
    #hint{
      position:fixed;
      left:12px;
      bottom:12px;
      z-index:10;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.45);
      padding:8px 10px;
      font-size:10px;
      letter-spacing:.18em;
      text-transform:uppercase;
      color: rgba(255,255,255,.62);
      backdrop-filter: blur(6px);
      pointer-events:none;
    }

    /* Veil transition */
    #veil{
      position:fixed;
      inset:0;
      background:#000;
      opacity:0;
      pointer-events:none;
      transition: opacity 520ms ease;
      z-index:50;
    }
    #veil.on{ opacity:1; }

    @media (max-width: 980px){
      .wrap{ grid-template-columns: 1fr; }
      .grid{ grid-template-columns: 1fr; }
      .v{ max-width: 100%; }
    }

    @media (prefers-reduced-motion: reduce){
      #bg{ animation:none; }
      #veil{ transition:none; }
    }
  </style>
</head>
<body>
  <div id="bg" aria-hidden="true"></div>
  <div id="vignette" aria-hidden="true"></div>

  <div class="wrap">
    <!-- LEFT: STUDIO DESK -->
    <section class="left" aria-label="Studio Desk">
      <div class="hdr">
        <div class="brand">KETADATA</div>
        <div class="room">STUDIO // WORKSHOP</div>
      </div>

      <div class="meta">
        <div class="fact">
          <div class="k">MODE</div>
          <div class="v" id="modeVal">PRODUCTION</div>
        </div>
        <div class="fact">
          <div class="k">LAST TOOL</div>
          <div class="v" id="lastToolVal">—</div>
        </div>
        <div class="fact">
          <div class="k">SESSION</div>
          <div class="v" id="sessionVal">LOCAL</div>
        </div>
      </div>

      <div class="desc">
        <b>STUDIO</b> is the manipulation hub. Upload media, apply transforms, build layouts, export artifacts.
        <br /><br />
        Rules: <b>tools live here</b>. Temple calibrates. Basement experiments. Vault indexes.
      </div>

      <div class="actions">
        <button class="btn" id="enterBtn">ENTER STUDIO</button>
        <button class="btn secondary" id="resumeBtn">RESUME LAST TOOL</button>
        <button class="btn secondary" id="routerBtn">OPEN ELEVATOR</button>
      </div>
    </section>

    <!-- RIGHT: TOOL LAUNCHER -->
    <aside class="right" aria-label="Studio Tool Launcher">
      <div class="rightHdr">
        <div class="rightTitle">TOOLS</div>
        <div class="rightHint">click = launch</div>
      </div>

      <div class="grid" id="toolGrid">
        <!-- populated by JS -->
      </div>
    </aside>
  </div>

  <div id="hint">ENTER: enter studio · R: resume · 1–6: quick tools · ESC: cancel transition</div>
  <div id="veil"></div>

  <script>
    (() => {
      // -----------------------------
      // CONFIG (edit URLs to match your repo)
      // -----------------------------
      const STUDIO_HOME = "https://ketadata.com/studio.html"; // main studio app
      const ELEVATOR_URL = "https://ketadata.com/elevator1.html";

      // Tool list: keep this tight. Everything else is inside the Studio app itself.
      const TOOLS = [
        { id:"font",    name:"FONT TESTER",  tag:"TYPE",     url:"https://ketadata.com/fonttester.html", desc:"Stress-test families, weights, outline, chroma." },
        { id:"grid",    name:"GRID IMPORT",  tag:"LAYOUT",   url:"https://ketadata.com/board.html",      desc:"Import up to 16 assets, auto-grid, export." },
        { id:"color",   name:"COLOR LAB",    tag:"COLOR",    url:"https://ketadata.com/color.html",      desc:"Invert, x-ray, infra, night, surveillance." },
        { id:"cctv",    name:"CCTV GRID",    tag:"MONITOR",  url:"https://ketadata.com/cctv.html",       desc:"Multi-screen wall; route streams or pages." },
        { id:"ledger",  name:"FUNDING LEDGER", tag:"OPS",    url:"https://ketadata.com/funding.html",    desc:"Public progress + transaction display." },
        { id:"export",  name:"EXPORT BAY",   tag:"OUTPUT",   url:"https://ketadata.com/export.html",     desc:"Batch export, naming conventions, packages." }
      ];

      // Keys
      const KEY_LAST_TOOL_NAME = "ketadata_studio_last_tool_name";
      const KEY_LAST_TOOL_URL  = "ketadata_studio_last_tool_url";
      const KEY_MODE           = "ketadata_studio_mode"; // optional: PRODUCTION / SANDBOX

      // -----------------------------
      // DOM
      // -----------------------------
      const toolGrid = document.getElementById("toolGrid");
      const enterBtn = document.getElementById("enterBtn");
      const resumeBtn = document.getElementById("resumeBtn");
      const routerBtn = document.getElementById("routerBtn");
      const veil = document.getElementById("veil");

      const modeVal = document.getElementById("modeVal");
      const lastToolVal = document.getElementById("lastToolVal");
      const sessionVal = document.getElementById("sessionVal");

      // -----------------------------
      // State helpers
      // -----------------------------
      function getMode(){
        return (localStorage.getItem(KEY_MODE) || "PRODUCTION").toUpperCase();
      }
      function getLastTool(){
        return {
          name: localStorage.getItem(KEY_LAST_TOOL_NAME) || "—",
          url: localStorage.getItem(KEY_LAST_TOOL_URL) || ""
        };
      }
      function setLastTool(name, url){
        try{
          localStorage.setItem(KEY_LAST_TOOL_NAME, name);
          localStorage.setItem(KEY_LAST_TOOL_URL, url);
        }catch(_){}
      }

      function updateDesk(){
        modeVal.textContent = getMode();
        const last = getLastTool();
        lastToolVal.textContent = last.name;
        sessionVal.textContent = "LOCAL";
        // disable resume if empty
        resumeBtn.disabled = !last.url;
        resumeBtn.style.opacity = last.url ? "1" : ".45";
        resumeBtn.style.cursor = last.url ? "pointer" : "not-allowed";
      }

      // -----------------------------
      // Navigation (veil)
      // -----------------------------
      let navLock = false;
      function route(name, url){
        if(navLock) return;
        navLock = true;
        if(name && url) setLastTool(name, url);

        veil.classList.add("on");
        setTimeout(() => window.location.href = url, 520);
      }

      // -----------------------------
      // Build tool grid
      // -----------------------------
      function buildTools(){
        toolGrid.innerHTML = "";
        TOOLS.forEach((t, idx) => {
          const a = document.createElement("a");
          a.className = "card";
          a.href = t.url;
          a.dataset.key = String(idx + 1);
          a.innerHTML = `
            <div class="cardTop">
              <div class="cardName">${t.name}</div>
              <div class="tag">${t.tag}</div>
            </div>
            <div class="cardDesc">${t.desc}</div>
          `;
          a.addEventListener("click", (e) => {
            e.preventDefault();
            route(t.name, t.url);
          });
          toolGrid.appendChild(a);
        });
      }

      // -----------------------------
      // Buttons
      // -----------------------------
      enterBtn.addEventListener("click", () => route("STUDIO", STUDIO_HOME));

      resumeBtn.addEventListener("click", () => {
        const last = getLastTool();
        if (!last.url) return;
        route(last.name, last.url);
      });

      routerBtn.addEventListener("click", () => route("ELEVATOR", ELEVATOR_URL));

      // -----------------------------
      // Hotkeys
      // -----------------------------
      window.addEventListener("keydown", (e) => {
        const k = e.key.toLowerCase();

        if (k === "escape"){
          veil.classList.remove("on");
          navLock = false;
          return;
        }

        // Enter: go to Studio home
        if (k === "enter"){
          route("STUDIO", STUDIO_HOME);
        }

        // R: resume last tool
        if (k === "r"){
          const last = getLastTool();
          if (last.url) route(last.name, last.url);
        }

        // 1–6: quick launch tools
        const n = Number(e.key);
        if (n >= 1 && n <= TOOLS.length){
          const t = TOOLS[n - 1];
          route(t.name, t.url);
        }
      });

      // init
      buildTools();
      updateDesk();
    })();
  </script>
</body>
</html>
