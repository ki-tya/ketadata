<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>KETADATA // MASTERDOC</title>

  <style>
    :root{
      --bg:#000;
      --fg:#fff;

      --inkA: rgba(255,255,255,.86);
      --inkB: rgba(255,255,255,.62);
      --inkC: rgba(255,255,255,.42);

      --hair: rgba(255,255,255,.14);
      --hair2: rgba(255,255,255,.09);

      --ui: Arial, Helvetica, sans-serif;
      --doc: Arial, Helvetica, sans-serif;

      --topH: 38px;
      --botH: 26px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; margin:0; }
    body{
      background:var(--bg);
      color:var(--fg);
      font-family:var(--ui);
      overflow:hidden;
    }

    /* SCREEN ONLY */
    @media screen {
      .topbar{
        position:fixed; left:0; right:0; top:0;
        z-index:40;
        height:var(--topH);
        display:flex;
        align-items:center;
        justify-content:space-between;
        padding:0 12px;
        border-bottom:1px solid var(--hair);
        background: rgba(0,0,0,.96);
        user-select:none;
      }
      .brandMini{
        display:flex; align-items:center; gap:10px;
        font-size:11px;
        letter-spacing:.18em;
        text-transform:uppercase;
        color: rgba(255,255,255,.85);
      }

      .topRight{
        display:flex; align-items:center; gap:10px;
      }
      .btn{
        font-family:var(--ui);
        font-size:11px;
        letter-spacing:.18em;
        text-transform:uppercase;
        color: rgba(255,255,255,.82);
        background: rgba(0,0,0,.22);
        border:1px solid var(--hair);
        padding:6px 10px;
        cursor:pointer;
      }
      .btn:hover{ border-color: rgba(255,255,255,.28); color:#fff; }

      .footer{
        position:fixed; left:0; right:0; bottom:0;
        z-index:40;
        height:var(--botH);
        display:flex;
        align-items:center;
        justify-content:space-between;
        padding:0 10px;
        border-top:1px solid var(--hair);
        background: rgba(0,0,0,.96);
        font-size:10px;
        letter-spacing:.14em;
        text-transform:uppercase;
        color: rgba(255,255,255,.70);
        user-select:none;
      }
      .footer b{ color:#fff; font-weight:900; }
      .muted{ color: rgba(255,255,255,.55); }

      .docWrap{
        position:fixed; inset:0;
        padding-top: var(--topH);
        padding-bottom: var(--botH);
        display:flex;
      }

      .sidebar{
        width:280px;
        border-right:1px solid var(--hair);
        background: rgba(0,0,0,.50);
        overflow-y:auto;
        padding:20px 16px;
      }

      .tocTitle{
        font-size:11px;
        letter-spacing:.22em;
        text-transform:uppercase;
        font-weight:900;
        color: rgba(255,255,255,.85);
        margin-bottom:16px;
        padding-bottom:12px;
        border-bottom:1px solid var(--hair2);
      }

      .tocItem{
        font-size:11px;
        letter-spacing:.08em;
        color: rgba(255,255,255,.65);
        padding:8px 12px;
        margin-bottom:4px;
        cursor:pointer;
        border:1px solid transparent;
        transition: all .2s;
      }
      .tocItem:hover{
        color: rgba(255,255,255,.90);
        border-color: var(--hair);
        background: rgba(255,255,255,.04);
      }
      .tocItem.active{
        color: #fff;
        border-color: var(--hair);
        background: rgba(255,255,255,.08);
      }

      .docView{
        flex:1;
        overflow-y:auto;
        padding:40px 60px;
      }

      body.null .topbar,
      body.null .footer,
      body.null .sidebar{
        display:none !important;
      }
      body.null .docView{
        padding-top: calc(var(--topH) + 40px);
      }

      body.invert{
        filter: invert(1) hue-rotate(180deg);
      }
    }

    /* PRINT STYLES */
    @media print {
      .topbar, .footer, .sidebar, .btn{ display:none !important; }
      
      body{
        background:#fff;
        color:#000;
      }

      .docWrap{
        position:static;
        padding:0;
        display:block;
      }

      .docView{
        padding:0;
        overflow:visible;
      }

      .section{
        page-break-after: always;
      }
      .section:last-child{
        page-break-after: auto;
      }

      h1, h2, h3{
        page-break-after: avoid;
      }

      .coverPage{
        page-break-after: always;
      }
    }

    /* DOCUMENT STYLES */
    .coverPage{
      min-height:100vh;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      text-align:center;
      border-bottom:1px solid var(--hair2);
      margin-bottom:60px;
    }

    .docTitle{
      font-size:52px;
      font-weight:900;
      letter-spacing:.12em;
      text-transform:uppercase;
      color: rgba(255,255,255,.95);
      margin-bottom:20px;
      line-height:1.1;
    }

    .docSubtitle{
      font-size:28px;
      font-weight:300;
      letter-spacing:.18em;
      text-transform:uppercase;
      color: rgba(255,255,255,.70);
      margin-bottom:60px;
    }

    .docMeta{
      font-size:12px;
      letter-spacing:.14em;
      text-transform:uppercase;
      color: rgba(255,255,255,.50);
      line-height:2;
    }

    .section{
      margin-bottom:80px;
    }

    .section h1{
      font-size:32px;
      font-weight:900;
      letter-spacing:.10em;
      text-transform:uppercase;
      color: rgba(255,255,255,.92);
      margin:0 0 30px 0;
      padding-bottom:16px;
      border-bottom:1px solid var(--hair2);
    }

    .section h2{
      font-size:22px;
      font-weight:700;
      letter-spacing:.08em;
      text-transform:uppercase;
      color: rgba(255,255,255,.85);
      margin:40px 0 20px 0;
    }

    .section h3{
      font-size:16px;
      font-weight:700;
      letter-spacing:.08em;
      text-transform:uppercase;
      color: rgba(255,255,255,.78);
      margin:30px 0 16px 0;
    }

    .section p{
      font-family:var(--doc);
      font-size:15px;
      line-height:1.75;
      color: rgba(255,255,255,.75);
      margin:0 0 20px 0;
      max-width:720px;
    }

    .section ul, .section ol{
      font-family:var(--doc);
      font-size:15px;
      line-height:1.75;
      color: rgba(255,255,255,.75);
      margin:0 0 20px 0;
      padding-left:30px;
      max-width:720px;
    }

    .section li{
      margin-bottom:10px;
    }

    .section blockquote{
      font-family:var(--doc);
      font-size:15px;
      font-style:italic;
      line-height:1.75;
      color: rgba(255,255,255,.65);
      margin:30px 0;
      padding-left:30px;
      border-left:3px solid var(--hair);
      max-width:720px;
    }

    .section code{
      font-family:monospace;
      font-size:13px;
      background: rgba(255,255,255,.08);
      padding:2px 6px;
      border:1px solid var(--hair2);
    }

    .section pre{
      font-family:monospace;
      font-size:13px;
      line-height:1.6;
      background: rgba(255,255,255,.05);
      padding:16px;
      border:1px solid var(--hair2);
      overflow-x:auto;
      margin:20px 0;
      max-width:720px;
    }

    .docView::-webkit-scrollbar,
    .sidebar::-webkit-scrollbar{
      width: 10px;
    }
    .docView::-webkit-scrollbar-thumb,
    .sidebar::-webkit-scrollbar-thumb{
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.10);
    }

    @media print {
      .coverPage, .docTitle, .docSubtitle, .docMeta{
        color:#000 !important;
      }
      .section h1, .section h2, .section h3, .section p, .section li, .section blockquote{
        color:#000 !important;
      }
      .section h1{
        border-bottom-color:#ccc !important;
      }
      .section blockquote{
        border-left-color:#ccc !important;
      }
    }
  </style>
</head>

<body>
  <div class="topbar" id="topbar">
    <div class="brandMini">
      <span style="display:inline-block;width:10px;height:10px;border:1px solid #fff;"></span>
      <span>KETADATA // MASTERDOC</span>
    </div>
    <div class="topRight">
      <button class="btn" id="exportBtn">EXPORT PDF</button>
      <button class="btn" id="goSystem">SYSTEM</button>
      <button class="btn" id="goHome">HOME</button>
    </div>
  </div>

  <div class="docWrap">
    <div class="sidebar">
      <div class="tocTitle">CONTENTS</div>
      <div id="tocContainer"></div>
    </div>

    <div class="docView" id="docView">
      <div class="coverPage">
        <div class="docTitle">KETADATA</div>
        <div class="docSubtitle">V-I MASTERDOC</div>
        <div class="docMeta">
          DOCUMENT VERSION: 1.0<br/>
          CLASSIFICATION: VOID MODE<br/>
          GENERATED: <span id="docDate"></span>
        </div>
      </div>

      <div class="section" id="section-1">
        <h1>1. INTRODUCTION</h1>
        <p>This is the KETADATA V-I MASTERDOC template. A comprehensive documentation system designed for clarity, readability, and professional PDF export capability.</p>
        
        <h2>1.1 Purpose</h2>
        <p>The masterdoc serves as a central repository for project documentation, technical specifications, and system architecture. It maintains the KETADATA aesthetic while ensuring maximum readability in both digital and print formats.</p>

        <h2>1.2 Structure</h2>
        <p>Documents are organized into numbered sections with hierarchical headings. Each section can contain:</p>
        <ul>
          <li>Paragraphs of body text</li>
          <li>Ordered and unordered lists</li>
          <li>Block quotes for emphasis</li>
          <li>Code blocks for technical content</li>
          <li>Headings at multiple levels</li>
        </ul>
      </div>

      <div class="section" id="section-2">
        <h1>2. SYSTEM ARCHITECTURE</h1>
        <p>The document system is built on a minimal, accessible foundation that prioritizes content over decoration.</p>

        <h2>2.1 Display Modes</h2>
        <p>The masterdoc supports two primary display modes:</p>
        <ul>
          <li><strong>Screen Mode:</strong> Interactive view with table of contents navigation</li>
          <li><strong>Print Mode:</strong> Optimized layout for PDF export with proper page breaks</li>
        </ul>

        <h2>2.2 Typography</h2>
        <p>Typography follows a clear hierarchy:</p>
        <ul>
          <li>Headings use Arial/Helvetica (sans-serif) for clarity</li>
          <li>Body text uses Georgia/Times (serif) for readability</li>
          <li>Code uses monospace for technical accuracy</li>
        </ul>

        <h3>2.2.1 Example Code Block</h3>
        <pre>function generateTOC() {
  const sections = document.querySelectorAll('.section');
  sections.forEach((section, idx) => {
    const title = section.querySelector('h1').textContent;
    console.log(`Section ${idx + 1}: ${title}`);
  });
}</pre>
      </div>

      <div class="section" id="section-3">
        <h1>3. USAGE GUIDELINES</h1>
        <p>To use this template effectively, follow these guidelines:</p>

        <h2>3.1 Adding Content</h2>
        <p>Each section is a <code>&lt;div class="section"&gt;</code> block. Add new sections by duplicating the structure and updating IDs accordingly.</p>

        <h2>3.2 Exporting to PDF</h2>
        <p>Click the "EXPORT PDF" button in the top navigation, or use your browser's print function (Cmd/Ctrl + P) and select "Save as PDF".</p>

        <blockquote>
          "The best documentation is the documentation that gets read. Keep it clear, keep it concise, keep it VOID."
        </blockquote>

        <h2>3.3 Navigation</h2>
        <p>The table of contents in the left sidebar updates automatically based on section headings. Click any item to jump to that section.</p>
      </div>

      <div class="section" id="section-4">
        <h1>4. TECHNICAL SPECIFICATIONS</h1>
        <p>The masterdoc template includes the following technical features:</p>

        <h2>4.1 Features</h2>
        <ul>
          <li>Automatic table of contents generation</li>
          <li>Smooth scrolling navigation</li>
          <li>Print-optimized CSS with page breaks</li>
          <li>Responsive typography scaling</li>
          <li>KETADATA system universals integration</li>
          <li>Void mode aesthetic compliance</li>
        </ul>

        <h2>4.2 Browser Compatibility</h2>
        <p>Tested and verified on:</p>
        <ul>
          <li>Chrome 120+</li>
          <li>Firefox 120+</li>
          <li>Safari 17+</li>
          <li>Edge 120+</li>
        </ul>
      </div>

      <div class="section" id="section-5">
        <h1>5. APPENDIX</h1>
        <p>Additional resources and reference material.</p>

        <h2>5.1 Keyboard Shortcuts</h2>
        <ul>
          <li><strong>N:</strong> Toggle null mode</li>
          <li><strong>Shift + I:</strong> Toggle invert mode</li>
          <li><strong>Shift + B:</strong> Navigate to system home</li>
          <li><strong>Cmd/Ctrl + P:</strong> Print to PDF</li>
        </ul>

        <h2>5.2 Document History</h2>
        <p>Version 1.0 — Initial release — VOID MODE specification</p>
      </div>
    </div>
  </div>

  <div class="footer" id="footer">
    <div>
      <span class="muted">NULL:</span> <b id="nullStatus">OFF</b> ·
      <span class="muted">INVERT:</span> <b id="invStatus">OFF</b>
    </div>
    <div>
      <span class="muted">MODE:</span> <b>VOID</b> ·
      <span class="muted">SECTIONS:</span> <b id="sectionCount">0</b>
    </div>
  </div>

  <script>
    const SHELL_HOME_URL = "system.html";

    /* GENERATE TOC */
    function generateTOC(){
      const sections = document.querySelectorAll('.section');
      const tocContainer = document.getElementById('tocContainer');
      const sectionCount = document.getElementById('sectionCount');

      tocContainer.innerHTML = '';
      sectionCount.textContent = sections.length;

      sections.forEach((section, idx) => {
        const h1 = section.querySelector('h1');
        if(!h1) return;

        const item = document.createElement('div');
        item.className = 'tocItem';
        item.textContent = h1.textContent;
        item.onclick = () => scrollToSection(section.id);
        tocContainer.appendChild(item);
      });
    }

    function scrollToSection(id){
      const section = document.getElementById(id);
      if(!section) return;

      section.scrollIntoView({ behavior: 'smooth', block: 'start' });

      // Update active state
      document.querySelectorAll('.tocItem').forEach(item => {
        item.classList.remove('active');
      });
      event.target.classList.add('active');
    }

    /* DATE */
    document.getElementById('docDate').textContent = new Date().toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'long',
      day: 'numeric'
    });

    /* PDF EXPORT */
    document.getElementById('exportBtn').addEventListener('click', ()=>{
      window.print();
    });

    /* SYSTEM NAV */
    document.getElementById('goSystem').addEventListener('click', ()=> location.href = SHELL_HOME_URL);
    document.getElementById('goHome').addEventListener('click', ()=> location.href = SHELL_HOME_URL);

    /* SYSTEM UNIVERSALS */
    const nullStatus = document.getElementById('nullStatus');
    const invStatus = document.getElementById('invStatus');

    let nullMode = false;
    let invert = false;

    function setNull(on){
      nullMode = on;
      document.body.classList.toggle('null', on);
      nullStatus.textContent = on ? "ON" : "OFF";
    }
    function setInvert(on){
      invert = on;
      document.body.classList.toggle('invert', on);
      invStatus.textContent = on ? "ON" : "OFF";
    }

    window.addEventListener('keydown', (e)=>{
      if(e.key === "Escape"){ setNull(false); return; }

      if(e.key.toLowerCase() === "n"){
        setNull(!nullMode);
        return;
      }

      if(e.shiftKey && e.key.toLowerCase() === "i"){
        setInvert(!invert);
        return;
      }

      if(e.shiftKey && e.key.toLowerCase() === "b"){
        location.href = SHELL_HOME_URL;
        return;
      }
    });

    /* INIT */
    generateTOC();

    /* TRACK SCROLL FOR TOC HIGHLIGHTING */
    const docView = document.getElementById('docView');
    docView.addEventListener('scroll', ()=>{
      const sections = document.querySelectorAll('.section');
      const tocItems = document.querySelectorAll('.tocItem');
      
      let currentSection = 0;
      sections.forEach((section, idx) => {
        const rect = section.getBoundingClientRect();
        if(rect.top <= 100){
          currentSection = idx;
        }
      });

      tocItems.forEach((item, idx) => {
        item.classList.toggle('active', idx === currentSection);
      });
    });
  </script>
</body>
</html>
